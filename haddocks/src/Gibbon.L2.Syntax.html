<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-redundant-constraints #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-name-shadowing #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# OPTIONS_GHC -fdefer-typed-holes #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="annot"><span class="hs-comment">-- | An intermediate language with an effect system that captures traversals.</span></span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Gibbon.L2.Syntax</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Extended language L2 with location types.</span></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier">E2Ext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Prog2"><span class="hs-identifier">Prog2</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#DDefs2"><span class="hs-identifier">DDefs2</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#DDef2"><span class="hs-identifier">DDef2</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FunDef2"><span class="hs-identifier">FunDef2</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FunDefs2"><span class="hs-identifier">FunDefs2</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier">Exp2</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier">E2</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier">Ty2</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier">Effect</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier">ArrowTy2</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LocRet"><span class="hs-identifier">LocRet</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LocExp"><span class="hs-identifier">LocExp</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#PreLocExp"><span class="hs-identifier">PreLocExp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="annot"><span class="hs-comment">-- * Regions and locations</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier">LocVar</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier">Region</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Modality"><span class="hs-identifier">Modality</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier">LRM</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#dummyLRM"><span class="hs-identifier">dummyLRM</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Multiplicity"><span class="hs-identifier">Multiplicity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionSize"><span class="hs-identifier">RegionSize</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionType"><span class="hs-identifier">RegionType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier">regionToVar</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="annot"><span class="hs-comment">-- * Operations on types</span></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#allLocVars"><span class="hs-identifier">allLocVars</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#inLocVars"><span class="hs-identifier">inLocVars</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#outLocVars"><span class="hs-identifier">outLocVars</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#outRegVars"><span class="hs-identifier">outRegVars</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#inRegVars"><span class="hs-identifier">inRegVars</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#allRegVars"><span class="hs-identifier">allRegVars</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier">substLoc</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#substLocs"><span class="hs-identifier">substLocs</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#substEff"><span class="hs-identifier">substEff</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#substEffs"><span class="hs-identifier">substEffs</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#extendPatternMatchEnv"><span class="hs-identifier">extendPatternMatchEnv</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#locsInTy"><span class="hs-identifier">locsInTy</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#dummyTyLocs"><span class="hs-identifier">dummyTyLocs</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier">allFreeVars</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#freeLocVars"><span class="hs-identifier">freeLocVars</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="annot"><span class="hs-comment">-- * Other helpers</span></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#revertToL1"><span class="hs-identifier">revertToL1</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#occurs"><span class="hs-identifier">occurs</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#mapPacked"><span class="hs-identifier">mapPacked</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier">constPacked</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#depList"><span class="hs-identifier">depList</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#changeAppToSpawn"><span class="hs-identifier">changeAppToSpawn</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Gibbon.Language.html"><span class="hs-identifier">Gibbon.Language</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html"><span class="hs-identifier">Control.DeepSeq</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier">HasCallStack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html"><span class="hs-identifier">Text.PrettyPrint.GenericPretty</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Gibbon.Common.html"><span class="hs-identifier">Gibbon.Common</span></a></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Gibbon.Language.html"><span class="hs-identifier">Gibbon.Language</span></a></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/pretty-1.1.3.6/src/Text.PrettyPrint.HughesPJ.html"><span class="hs-identifier">Text.PrettyPrint.HughesPJ</span></a></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Gibbon.L1.Syntax.html"><span class="hs-identifier">Gibbon.L1.Syntax</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L1.Syntax.html#AddFixed"><span class="hs-identifier">AddFixed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#StartOfPkdCursor"><span class="hs-identifier">StartOfPkdCursor</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html"><span class="hs-identifier">Gibbon.L1.Syntax</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L1</span></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-keyword">type</span><span> </span><span id="Prog2"><span class="annot"><a href="Gibbon.L2.Syntax.html#Prog2"><span class="hs-identifier hs-var">Prog2</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">type</span><span> </span><span id="DDef2"><span class="annot"><a href="Gibbon.L2.Syntax.html#DDef2"><span class="hs-identifier hs-var">DDef2</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span>
</span><span id="line-87"></span><span class="hs-keyword">type</span><span> </span><span id="DDefs2"><span class="annot"><a href="Gibbon.L2.Syntax.html#DDefs2"><span class="hs-identifier hs-var">DDefs2</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span>
</span><span id="line-88"></span><span class="hs-keyword">type</span><span> </span><span id="FunDef2"><span class="annot"><a href="Gibbon.L2.Syntax.html#FunDef2"><span class="hs-identifier hs-var">FunDef2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span>
</span><span id="line-89"></span><span class="hs-keyword">type</span><span> </span><span id="FunDefs2"><span class="annot"><a href="Gibbon.L2.Syntax.html#FunDefs2"><span class="hs-identifier hs-var">FunDefs2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><span class="hs-comment">-- | Function types know about locations and traversal effects.</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunctionTy"><span class="hs-identifier hs-type">FunctionTy</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ArrowTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-var">ArrowTy</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span id="local-6989586621680914178"><span class="annot"><span class="annottext">inTys :: ArrowTy Ty2 -&gt; [Ty2]
</span><a href="#local-6989586621680914178"><span class="hs-identifier hs-var hs-var hs-var hs-var">inTys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArrowTy Ty2 -&gt; [Ty2]
ArrowTy2 Ty2 -&gt; [Ty2]
forall ty2. ArrowTy2 ty2 -&gt; [ty2]
</span><a href="Gibbon.L2.Syntax.html#arrIns"><span class="hs-identifier hs-var">arrIns</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span id="local-6989586621680914181"><span class="annot"><span class="annottext">outTy :: ArrowTy Ty2 -&gt; Ty2
</span><a href="#local-6989586621680914181"><span class="hs-identifier hs-var hs-var hs-var hs-var">outTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArrowTy Ty2 -&gt; Ty2
ArrowTy2 Ty2 -&gt; Ty2
forall ty2. ArrowTy2 ty2 -&gt; ty2
</span><a href="Gibbon.L2.Syntax.html#arrOut"><span class="hs-identifier hs-var">arrOut</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- | Extended expressions, L2.</span><span>
</span><span id="line-98"></span><span class="hs-comment">--</span><span>
</span><span id="line-99"></span><span class="hs-comment">--   By adding a `LocVar` decoration, all data constructors,</span><span>
</span><span id="line-100"></span><span class="hs-comment">--   applications, and bindings gain a location annotation.</span><span>
</span><span id="line-101"></span><span class="hs-keyword">type</span><span> </span><span id="Exp2"><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-var">Exp2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="annot"><span class="hs-comment">-- | L1 Types extended with abstract Locations.</span></span><span>
</span><span id="line-104"></span><span class="hs-keyword">type</span><span> </span><span id="Ty2"><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-var">Ty2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="annot"><span class="hs-comment">-- | Shorthand for recursions.</span></span><span>
</span><span id="line-109"></span><span class="hs-keyword">type</span><span> </span><span id="E2"><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-var">E2</span></a></span></span><span> </span><span id="local-6989586621680914184"><span class="annot"><a href="#local-6989586621680914184"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621680914185"><span class="annot"><a href="#local-6989586621680914185"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914184"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914185"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">data</span><span> </span><span id="RegionSize"><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionSize"><span class="hs-identifier hs-var">RegionSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BoundedSize"><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-var">BoundedSize</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Undefined"><span class="annot"><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680914189"><span id="local-6989586621680914193"><span class="annot"><span class="annottext">RegionSize -&gt; RegionSize -&gt; Bool
(RegionSize -&gt; RegionSize -&gt; Bool)
-&gt; (RegionSize -&gt; RegionSize -&gt; Bool) -&gt; Eq RegionSize
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RegionSize -&gt; RegionSize -&gt; Bool
== :: RegionSize -&gt; RegionSize -&gt; Bool
$c/= :: RegionSize -&gt; RegionSize -&gt; Bool
/= :: RegionSize -&gt; RegionSize -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914198"><span id="local-6989586621680914202"><span id="local-6989586621680914205"><span id="local-6989586621680914215"><span class="annot"><span class="annottext">ReadPrec [RegionSize]
ReadPrec RegionSize
Int -&gt; ReadS RegionSize
ReadS [RegionSize]
(Int -&gt; ReadS RegionSize)
-&gt; ReadS [RegionSize]
-&gt; ReadPrec RegionSize
-&gt; ReadPrec [RegionSize]
-&gt; Read RegionSize
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS RegionSize
readsPrec :: Int -&gt; ReadS RegionSize
$creadList :: ReadS [RegionSize]
readList :: ReadS [RegionSize]
$creadPrec :: ReadPrec RegionSize
readPrec :: ReadPrec RegionSize
$creadListPrec :: ReadPrec [RegionSize]
readListPrec :: ReadPrec [RegionSize]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914219"><span id="local-6989586621680914225"><span id="local-6989586621680914229"><span class="annot"><span class="annottext">Int -&gt; RegionSize -&gt; ShowS
[RegionSize] -&gt; ShowS
RegionSize -&gt; String
(Int -&gt; RegionSize -&gt; ShowS)
-&gt; (RegionSize -&gt; String)
-&gt; ([RegionSize] -&gt; ShowS)
-&gt; Show RegionSize
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RegionSize -&gt; ShowS
showsPrec :: Int -&gt; RegionSize -&gt; ShowS
$cshow :: RegionSize -&gt; String
show :: RegionSize -&gt; String
$cshowList :: [RegionSize] -&gt; ShowS
showList :: [RegionSize] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914233"><span id="local-6989586621680914235"><span class="annot"><span class="annottext">(forall x. RegionSize -&gt; Rep RegionSize x)
-&gt; (forall x. Rep RegionSize x -&gt; RegionSize) -&gt; Generic RegionSize
forall x. Rep RegionSize x -&gt; RegionSize
forall x. RegionSize -&gt; Rep RegionSize x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. RegionSize -&gt; Rep RegionSize x
from :: forall x. RegionSize -&gt; Rep RegionSize x
$cto :: forall x. Rep RegionSize x -&gt; RegionSize
to :: forall x. Rep RegionSize x -&gt; RegionSize
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914239"><span class="annot"><span class="annottext">RegionSize -&gt; ()
(RegionSize -&gt; ()) -&gt; NFData RegionSize
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: RegionSize -&gt; ()
rnf :: RegionSize -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914259"><span id="local-6989586621680914266"><span id="local-6989586621680914272"><span class="annot"><span class="annottext">Int -&gt; RegionSize -&gt; Doc
[RegionSize] -&gt; Doc
RegionSize -&gt; Doc
(Int -&gt; RegionSize -&gt; Doc)
-&gt; (RegionSize -&gt; Doc) -&gt; ([RegionSize] -&gt; Doc) -&gt; Out RegionSize
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
$cdocPrec :: Int -&gt; RegionSize -&gt; Doc
docPrec :: Int -&gt; RegionSize -&gt; Doc
$cdoc :: RegionSize -&gt; Doc
doc :: RegionSize -&gt; Doc
$cdocList :: [RegionSize] -&gt; Doc
docList :: [RegionSize] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="hs-keyword">data</span><span> </span><span id="RegionType"><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionType"><span class="hs-identifier hs-var">RegionType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IndirectionFree"><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionFree"><span class="hs-identifier hs-var">IndirectionFree</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="RightwardLocalIndirections"><span class="annot"><a href="Gibbon.L2.Syntax.html#RightwardLocalIndirections"><span class="hs-identifier hs-var">RightwardLocalIndirections</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="LocalIndirections"><span class="annot"><a href="Gibbon.L2.Syntax.html#LocalIndirections"><span class="hs-identifier hs-var">LocalIndirections</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NoSharing"><span class="annot"><a href="Gibbon.L2.Syntax.html#NoSharing"><span class="hs-identifier hs-var">NoSharing</span></a></span></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680914340"><span id="local-6989586621680914342"><span class="annot"><span class="annottext">RegionType -&gt; RegionType -&gt; Bool
(RegionType -&gt; RegionType -&gt; Bool)
-&gt; (RegionType -&gt; RegionType -&gt; Bool) -&gt; Eq RegionType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: RegionType -&gt; RegionType -&gt; Bool
== :: RegionType -&gt; RegionType -&gt; Bool
$c/= :: RegionType -&gt; RegionType -&gt; Bool
/= :: RegionType -&gt; RegionType -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914348"><span id="local-6989586621680914350"><span id="local-6989586621680914352"><span id="local-6989586621680914356"><span id="local-6989586621680914359"><span id="local-6989586621680914362"><span id="local-6989586621680914365"><span class="annot"><span class="annottext">Eq RegionType
Eq RegionType
-&gt; (RegionType -&gt; RegionType -&gt; Ordering)
-&gt; (RegionType -&gt; RegionType -&gt; Bool)
-&gt; (RegionType -&gt; RegionType -&gt; Bool)
-&gt; (RegionType -&gt; RegionType -&gt; Bool)
-&gt; (RegionType -&gt; RegionType -&gt; Bool)
-&gt; (RegionType -&gt; RegionType -&gt; RegionType)
-&gt; (RegionType -&gt; RegionType -&gt; RegionType)
-&gt; Ord RegionType
RegionType -&gt; RegionType -&gt; Bool
RegionType -&gt; RegionType -&gt; Ordering
RegionType -&gt; RegionType -&gt; RegionType
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: RegionType -&gt; RegionType -&gt; Ordering
compare :: RegionType -&gt; RegionType -&gt; Ordering
$c&lt; :: RegionType -&gt; RegionType -&gt; Bool
&lt; :: RegionType -&gt; RegionType -&gt; Bool
$c&lt;= :: RegionType -&gt; RegionType -&gt; Bool
&lt;= :: RegionType -&gt; RegionType -&gt; Bool
$c&gt; :: RegionType -&gt; RegionType -&gt; Bool
&gt; :: RegionType -&gt; RegionType -&gt; Bool
$c&gt;= :: RegionType -&gt; RegionType -&gt; Bool
&gt;= :: RegionType -&gt; RegionType -&gt; Bool
$cmax :: RegionType -&gt; RegionType -&gt; RegionType
max :: RegionType -&gt; RegionType -&gt; RegionType
$cmin :: RegionType -&gt; RegionType -&gt; RegionType
min :: RegionType -&gt; RegionType -&gt; RegionType
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914369"><span id="local-6989586621680914373"><span id="local-6989586621680914376"><span id="local-6989586621680914382"><span class="annot"><span class="annottext">ReadPrec [RegionType]
ReadPrec RegionType
Int -&gt; ReadS RegionType
ReadS [RegionType]
(Int -&gt; ReadS RegionType)
-&gt; ReadS [RegionType]
-&gt; ReadPrec RegionType
-&gt; ReadPrec [RegionType]
-&gt; Read RegionType
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS RegionType
readsPrec :: Int -&gt; ReadS RegionType
$creadList :: ReadS [RegionType]
readList :: ReadS [RegionType]
$creadPrec :: ReadPrec RegionType
readPrec :: ReadPrec RegionType
$creadListPrec :: ReadPrec [RegionType]
readListPrec :: ReadPrec [RegionType]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914385"><span id="local-6989586621680914387"><span id="local-6989586621680914391"><span class="annot"><span class="annottext">Int -&gt; RegionType -&gt; ShowS
[RegionType] -&gt; ShowS
RegionType -&gt; String
(Int -&gt; RegionType -&gt; ShowS)
-&gt; (RegionType -&gt; String)
-&gt; ([RegionType] -&gt; ShowS)
-&gt; Show RegionType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; RegionType -&gt; ShowS
showsPrec :: Int -&gt; RegionType -&gt; ShowS
$cshow :: RegionType -&gt; String
show :: RegionType -&gt; String
$cshowList :: [RegionType] -&gt; ShowS
showList :: [RegionType] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914394"><span id="local-6989586621680914396"><span class="annot"><span class="annottext">(forall x. RegionType -&gt; Rep RegionType x)
-&gt; (forall x. Rep RegionType x -&gt; RegionType) -&gt; Generic RegionType
forall x. Rep RegionType x -&gt; RegionType
forall x. RegionType -&gt; Rep RegionType x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. RegionType -&gt; Rep RegionType x
from :: forall x. RegionType -&gt; Rep RegionType x
$cto :: forall x. Rep RegionType x -&gt; RegionType
to :: forall x. Rep RegionType x -&gt; RegionType
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914399"><span class="annot"><span class="annottext">RegionType -&gt; ()
(RegionType -&gt; ()) -&gt; NFData RegionType
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: RegionType -&gt; ()
rnf :: RegionType -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914414"><span id="local-6989586621680914421"><span id="local-6989586621680914427"><span class="annot"><span class="annottext">Int -&gt; RegionType -&gt; Doc
[RegionType] -&gt; Doc
RegionType -&gt; Doc
(Int -&gt; RegionType -&gt; Doc)
-&gt; (RegionType -&gt; Doc) -&gt; ([RegionType] -&gt; Doc) -&gt; Out RegionType
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
$cdocPrec :: Int -&gt; RegionType -&gt; Doc
docPrec :: Int -&gt; RegionType -&gt; Doc
$cdoc :: RegionType -&gt; Doc
doc :: RegionType -&gt; Doc
$cdocList :: [RegionType] -&gt; Doc
docList :: [RegionType] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="annot"><span class="hs-comment">-- | 'Undefined' is at the top of this lattice.</span></span><span>
</span><span id="line-118"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680914476"><span id="local-6989586621680914480"><span id="local-6989586621680914484"><span id="local-6989586621680914487"><span id="local-6989586621680914490"><span id="local-6989586621680914493"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionSize"><span class="hs-identifier hs-type">RegionSize</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-119"></span><span>  </span><span id="local-6989586621680914496"><span class="annot"><span class="annottext">&lt;= :: RegionSize -&gt; RegionSize -&gt; Bool
</span><a href="#local-6989586621680914496"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;=)</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-type">BoundedSize</span></a></span><span> </span><span id="local-6989586621680914498"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914498"><span class="hs-identifier hs-var">sz1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-type">BoundedSize</span></a></span><span> </span><span id="local-6989586621680914499"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914499"><span class="hs-identifier hs-var">sz2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914498"><span class="hs-identifier hs-var">sz1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914499"><span class="hs-identifier hs-var">sz2</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">(&lt;=)</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-type">BoundedSize</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">(&lt;=)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-type">BoundedSize</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">(&lt;=)</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span>         </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680914502"><span id="local-6989586621680914506"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionType"><span class="hs-identifier hs-type">RegionType</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-comment">-- IndirectionFree &lt; RightwardLocalIndirections &lt; LocalIndirections &lt; NoSharing</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621680914511"><span class="annot"><span class="annottext">&lt;&gt; :: RegionType -&gt; RegionType -&gt; RegionType
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></a></span></span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="Gibbon.L2.Syntax.html#IndirectionFree"><span class="hs-identifier hs-var">IndirectionFree</span></a></span><span>            </span><span id="local-6989586621680914512"><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914512"><span class="hs-identifier hs-var">v</span></a></span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914512"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span id="local-6989586621680914513"><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914513"><span class="hs-identifier hs-var">v</span></a></span></span><span>                          </span><span class="annot"><span class="annottext">RegionType
</span><a href="Gibbon.L2.Syntax.html#IndirectionFree"><span class="hs-identifier hs-var">IndirectionFree</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914513"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="Gibbon.L2.Syntax.html#RightwardLocalIndirections"><span class="hs-identifier hs-var">RightwardLocalIndirections</span></a></span><span> </span><span id="local-6989586621680914514"><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914514"><span class="hs-identifier hs-var">v</span></a></span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914514"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span id="local-6989586621680914515"><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914515"><span class="hs-identifier hs-var">v</span></a></span></span><span>                          </span><span class="annot"><span class="annottext">RegionType
</span><a href="Gibbon.L2.Syntax.html#RightwardLocalIndirections"><span class="hs-identifier hs-var">RightwardLocalIndirections</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914515"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="Gibbon.L2.Syntax.html#LocalIndirections"><span class="hs-identifier hs-var">LocalIndirections</span></a></span><span>          </span><span id="local-6989586621680914516"><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914516"><span class="hs-identifier hs-var">v</span></a></span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914516"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span id="local-6989586621680914517"><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914517"><span class="hs-identifier hs-var">v</span></a></span></span><span>                          </span><span class="annot"><span class="annottext">RegionType
</span><a href="Gibbon.L2.Syntax.html#LocalIndirections"><span class="hs-identifier hs-var">LocalIndirections</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914517"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="Gibbon.L2.Syntax.html#NoSharing"><span class="hs-identifier hs-var">NoSharing</span></a></span><span>                  </span><span id="local-6989586621680914518"><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914518"><span class="hs-identifier hs-var">v</span></a></span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionType
</span><a href="#local-6989586621680914518"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680914521"><span id="local-6989586621680914525"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionSize"><span class="hs-identifier hs-type">RegionSize</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621680914531"><span class="annot"><span class="annottext">&lt;&gt; :: RegionSize -&gt; RegionSize -&gt; RegionSize
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-type">BoundedSize</span></a></span><span> </span><span id="local-6989586621680914532"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914532"><span class="hs-identifier hs-var">sz1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-type">BoundedSize</span></a></span><span> </span><span id="local-6989586621680914533"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914533"><span class="hs-identifier hs-var">sz2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; RegionSize
</span><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-var">BoundedSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914532"><span class="hs-identifier hs-var">sz1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680914533"><span class="hs-identifier hs-var">sz2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span>         </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="Gibbon.L2.Syntax.html#Undefined"><span class="hs-identifier hs-var">Undefined</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680914539"><span id="local-6989586621680914543"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionSize"><span class="hs-identifier hs-type">RegionSize</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>  </span><span id="local-6989586621680914546"><span class="annot"><span class="annottext">mempty :: RegionSize
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; RegionSize
</span><a href="Gibbon.L2.Syntax.html#BoundedSize"><span class="hs-identifier hs-var">BoundedSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="annot"><span class="hs-comment">-- | The extension that turns L1 into L2.</span></span><span>
</span><span id="line-144"></span><span class="hs-keyword">data</span><span> </span><span id="E2Ext"><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-var">E2Ext</span></a></span></span><span> </span><span id="local-6989586621680913924"><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span></span><span> </span><span id="local-6989586621680913925"><span class="annot"><a href="#local-6989586621680913925"><span class="hs-identifier hs-type">dec</span></a></span></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="LetRegionE"><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-var">LetRegionE</span></a></span></span><span>    </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionSize"><span class="hs-identifier hs-type">RegionSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionType"><span class="hs-identifier hs-type">RegionType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913925"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Allocate a new region.</span></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LetParRegionE"><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-var">LetParRegionE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionSize"><span class="hs-identifier hs-type">RegionSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RegionType"><span class="hs-identifier hs-type">RegionType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913925"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Allocate a new region for parallel allocations.</span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LetLocE"><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-var">LetLocE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#PreLocExp"><span class="hs-identifier hs-type">PreLocExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913925"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Bind a new location.</span></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RetE"><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-var">RetE</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ Return a value together with extra loc values.</span></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FromEndE"><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-var">FromEndE</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ Bind a location from an EndOf location (for RouteEnds and after).</span></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BoundsCheck"><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-var">BoundsCheck</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-comment">-- Bytes required</span><span>
</span><span id="line-151"></span><span>                </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="hs-comment">-- Region</span><span>
</span><span id="line-152"></span><span>                </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="hs-comment">-- Write cursor</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AddFixed"><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-var">AddFixed</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IndirectionE"><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-var">IndirectionE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>     </span><span class="hs-comment">-- Type of the data pointed to by this indirection.</span><span>
</span><span id="line-155"></span><span>                 </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>   </span><span class="hs-comment">-- Constructor for an indirection in this type.</span><span>
</span><span id="line-156"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Pointer.</span><span>
</span><span id="line-157"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Pointee (the thing that the pointer points to).</span><span>
</span><span id="line-158"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913925"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- If this indirection was added to get rid</span><span>
</span><span id="line-159"></span><span>                              </span><span class="hs-comment">-- of a copy_Foo call, we keep the fn call</span><span>
</span><span id="line-160"></span><span>                              </span><span class="hs-comment">-- around in case we want to go back to it.</span><span>
</span><span id="line-161"></span><span>                              </span><span class="hs-comment">-- E.g. when reverting from L2 to L1.</span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ A indirection node.</span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StartOfPkdCursor"><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-var">StartOfPkdCursor</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-comment">-- Cursor to a packed value, created by AddRAN.</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TagCursor"><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-var">TagCursor</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>    </span><span class="hs-comment">-- Create a tagged cursor.</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="GetCilkWorkerNum"><span class="annot"><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span></span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Translates to  __cilkrts_get_worker_number().</span></span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LetAvail"><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-var">LetAvail</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913924"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913925"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ These variables are available to use before the join point.</span></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AllocateTagHere"><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-var">AllocateTagHere</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AllocateScalarsHere"><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-var">AllocateScalarsHere</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-comment">-- ^ A marker which tells subsequent a compiler pass where to</span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-comment">-- move the tag and scalar field allocations so that they happen</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-comment">-- before any of the subsequent packed fields.</span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SSPush"><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-var">SSPush</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#SSModality"><span class="hs-identifier hs-type">SSModality</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SSPop"><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-var">SSPop</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#SSModality"><span class="hs-identifier hs-type">SSModality</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Spill and restore from the shadow-stack.</span></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680914568"><span id="local-6989586621680914634"><span id="local-6989586621680914638"><span class="annot"><span class="annottext">Int -&gt; E2Ext loc dec -&gt; ShowS
[E2Ext loc dec] -&gt; ShowS
E2Ext loc dec -&gt; String
(Int -&gt; E2Ext loc dec -&gt; ShowS)
-&gt; (E2Ext loc dec -&gt; String)
-&gt; ([E2Ext loc dec] -&gt; ShowS)
-&gt; Show (E2Ext loc dec)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall loc dec.
(Show dec, Show loc) =&gt;
Int -&gt; E2Ext loc dec -&gt; ShowS
forall loc dec. (Show dec, Show loc) =&gt; [E2Ext loc dec] -&gt; ShowS
forall loc dec. (Show dec, Show loc) =&gt; E2Ext loc dec -&gt; String
$cshowsPrec :: forall loc dec.
(Show dec, Show loc) =&gt;
Int -&gt; E2Ext loc dec -&gt; ShowS
showsPrec :: Int -&gt; E2Ext loc dec -&gt; ShowS
$cshow :: forall loc dec. (Show dec, Show loc) =&gt; E2Ext loc dec -&gt; String
show :: E2Ext loc dec -&gt; String
$cshowList :: forall loc dec. (Show dec, Show loc) =&gt; [E2Ext loc dec] -&gt; ShowS
showList :: [E2Ext loc dec] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914649"><span id="local-6989586621680914701"><span id="local-6989586621680914705"><span id="local-6989586621680914708"><span id="local-6989586621680914711"><span id="local-6989586621680914714"><span id="local-6989586621680914717"><span class="annot"><span class="annottext">Eq (E2Ext loc dec)
Eq (E2Ext loc dec)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; Ordering)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec)
-&gt; Ord (E2Ext loc dec)
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Ordering
E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {loc} {dec}. (Ord dec, Ord loc) =&gt; Eq (E2Ext loc dec)
forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Ordering
forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec
$ccompare :: forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Ordering
compare :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; Ordering
$c&lt; :: forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
&lt; :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
$c&lt;= :: forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
&lt;= :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
$c&gt; :: forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
&gt; :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
$c&gt;= :: forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
&gt;= :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
$cmax :: forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec
max :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec
$cmin :: forall loc dec.
(Ord dec, Ord loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec
min :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; E2Ext loc dec
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914724"><span id="local-6989586621680914776"><span class="annot"><span class="annottext">E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
(E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool)
-&gt; (E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool) -&gt; Eq (E2Ext loc dec)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall loc dec.
(Eq dec, Eq loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
$c== :: forall loc dec.
(Eq dec, Eq loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
== :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
$c/= :: forall loc dec.
(Eq dec, Eq loc) =&gt;
E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
/= :: E2Ext loc dec -&gt; E2Ext loc dec -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914782"><span id="local-6989586621680914786"><span id="local-6989586621680914789"><span id="local-6989586621680914912"><span class="annot"><span class="annottext">ReadPrec [E2Ext loc dec]
ReadPrec (E2Ext loc dec)
Int -&gt; ReadS (E2Ext loc dec)
ReadS [E2Ext loc dec]
(Int -&gt; ReadS (E2Ext loc dec))
-&gt; ReadS [E2Ext loc dec]
-&gt; ReadPrec (E2Ext loc dec)
-&gt; ReadPrec [E2Ext loc dec]
-&gt; Read (E2Ext loc dec)
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
forall loc dec. (Read dec, Read loc) =&gt; ReadPrec [E2Ext loc dec]
forall loc dec. (Read dec, Read loc) =&gt; ReadPrec (E2Ext loc dec)
forall loc dec.
(Read dec, Read loc) =&gt;
Int -&gt; ReadS (E2Ext loc dec)
forall loc dec. (Read dec, Read loc) =&gt; ReadS [E2Ext loc dec]
$creadsPrec :: forall loc dec.
(Read dec, Read loc) =&gt;
Int -&gt; ReadS (E2Ext loc dec)
readsPrec :: Int -&gt; ReadS (E2Ext loc dec)
$creadList :: forall loc dec. (Read dec, Read loc) =&gt; ReadS [E2Ext loc dec]
readList :: ReadS [E2Ext loc dec]
$creadPrec :: forall loc dec. (Read dec, Read loc) =&gt; ReadPrec (E2Ext loc dec)
readPrec :: ReadPrec (E2Ext loc dec)
$creadListPrec :: forall loc dec. (Read dec, Read loc) =&gt; ReadPrec [E2Ext loc dec]
readListPrec :: ReadPrec [E2Ext loc dec]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914916"><span id="local-6989586621680914918"><span class="annot"><span class="annottext">(forall x. E2Ext loc dec -&gt; Rep (E2Ext loc dec) x)
-&gt; (forall x. Rep (E2Ext loc dec) x -&gt; E2Ext loc dec)
-&gt; Generic (E2Ext loc dec)
forall x. Rep (E2Ext loc dec) x -&gt; E2Ext loc dec
forall x. E2Ext loc dec -&gt; Rep (E2Ext loc dec) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall loc dec x. Rep (E2Ext loc dec) x -&gt; E2Ext loc dec
forall loc dec x. E2Ext loc dec -&gt; Rep (E2Ext loc dec) x
$cfrom :: forall loc dec x. E2Ext loc dec -&gt; Rep (E2Ext loc dec) x
from :: forall x. E2Ext loc dec -&gt; Rep (E2Ext loc dec) x
$cto :: forall loc dec x. Rep (E2Ext loc dec) x -&gt; E2Ext loc dec
to :: forall x. Rep (E2Ext loc dec) x -&gt; E2Ext loc dec
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680914923"><span class="annot"><span class="annottext">E2Ext loc dec -&gt; ()
(E2Ext loc dec -&gt; ()) -&gt; NFData (E2Ext loc dec)
forall a. (a -&gt; ()) -&gt; NFData a
forall loc dec. (NFData loc, NFData dec) =&gt; E2Ext loc dec -&gt; ()
$crnf :: forall loc dec. (NFData loc, NFData dec) =&gt; E2Ext loc dec -&gt; ()
rnf :: E2Ext loc dec -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><span class="hs-comment">-- | Define a location in terms of a different location.</span></span><span>
</span><span id="line-182"></span><span class="hs-keyword">data</span><span> </span><span id="PreLocExp"><span class="annot"><a href="Gibbon.L2.Syntax.html#PreLocExp"><span class="hs-identifier hs-var">PreLocExp</span></a></span></span><span> </span><span id="local-6989586621680915031"><span class="annot"><a href="#local-6989586621680915031"><span class="hs-identifier hs-type">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StartOfRegionLE"><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfRegionLE"><span class="hs-identifier hs-var">StartOfRegionLE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span><span>
</span><span id="line-183"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="AfterConstantLE"><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterConstantLE"><span class="hs-identifier hs-var">AfterConstantLE</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>  </span><span class="hs-comment">-- Number of bytes after.</span><span>
</span><span id="line-184"></span><span>                                     </span><span class="annot"><a href="#local-6989586621680915031"><span class="hs-identifier hs-type">loc</span></a></span><span>  </span><span class="hs-comment">-- Location which this location is offset from.</span><span>
</span><span id="line-185"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="AfterVariableLE"><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterVariableLE"><span class="hs-identifier hs-var">AfterVariableLE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>  </span><span class="hs-comment">-- Name of variable v. This loc is size(v) bytes after.</span><span>
</span><span id="line-186"></span><span>                                     </span><span class="annot"><a href="#local-6989586621680915031"><span class="hs-identifier hs-type">loc</span></a></span><span>  </span><span class="hs-comment">-- Location which this location is offset from.</span><span>
</span><span id="line-187"></span><span>                                     </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="hs-comment">-- Whether it's running in a stolen continuation i.e</span><span>
</span><span id="line-188"></span><span>                                          </span><span class="hs-comment">-- whether this should return an index in a fresh region or not.</span><span>
</span><span id="line-189"></span><span>                                          </span><span class="hs-comment">-- It's True by default and flipped by ParAlloc if required.</span><span>
</span><span id="line-190"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="InRegionLE"><span class="annot"><a href="Gibbon.L2.Syntax.html#InRegionLE"><span class="hs-identifier hs-var">InRegionLE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span><span>
</span><span id="line-191"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="FreeLE"><span class="annot"><a href="Gibbon.L2.Syntax.html#FreeLE"><span class="hs-identifier hs-var">FreeLE</span></a></span></span><span>
</span><span id="line-192"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span id="FromEndLE"><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndLE"><span class="hs-identifier hs-var">FromEndLE</span></a></span></span><span>  </span><span class="annot"><a href="#local-6989586621680915031"><span class="hs-identifier hs-type">loc</span></a></span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915040"><span id="local-6989586621680915043"><span id="local-6989586621680915046"><span id="local-6989586621680915077"><span class="annot"><span class="annottext">ReadPrec [PreLocExp loc]
ReadPrec (PreLocExp loc)
Int -&gt; ReadS (PreLocExp loc)
ReadS [PreLocExp loc]
(Int -&gt; ReadS (PreLocExp loc))
-&gt; ReadS [PreLocExp loc]
-&gt; ReadPrec (PreLocExp loc)
-&gt; ReadPrec [PreLocExp loc]
-&gt; Read (PreLocExp loc)
forall loc. Read loc =&gt; ReadPrec [PreLocExp loc]
forall loc. Read loc =&gt; ReadPrec (PreLocExp loc)
forall loc. Read loc =&gt; Int -&gt; ReadS (PreLocExp loc)
forall loc. Read loc =&gt; ReadS [PreLocExp loc]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: forall loc. Read loc =&gt; Int -&gt; ReadS (PreLocExp loc)
readsPrec :: Int -&gt; ReadS (PreLocExp loc)
$creadList :: forall loc. Read loc =&gt; ReadS [PreLocExp loc]
readList :: ReadS [PreLocExp loc]
$creadPrec :: forall loc. Read loc =&gt; ReadPrec (PreLocExp loc)
readPrec :: ReadPrec (PreLocExp loc)
$creadListPrec :: forall loc. Read loc =&gt; ReadPrec [PreLocExp loc]
readListPrec :: ReadPrec [PreLocExp loc]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915081"><span id="local-6989586621680915097"><span id="local-6989586621680915100"><span class="annot"><span class="annottext">Int -&gt; PreLocExp loc -&gt; ShowS
[PreLocExp loc] -&gt; ShowS
PreLocExp loc -&gt; String
(Int -&gt; PreLocExp loc -&gt; ShowS)
-&gt; (PreLocExp loc -&gt; String)
-&gt; ([PreLocExp loc] -&gt; ShowS)
-&gt; Show (PreLocExp loc)
forall loc. Show loc =&gt; Int -&gt; PreLocExp loc -&gt; ShowS
forall loc. Show loc =&gt; [PreLocExp loc] -&gt; ShowS
forall loc. Show loc =&gt; PreLocExp loc -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall loc. Show loc =&gt; Int -&gt; PreLocExp loc -&gt; ShowS
showsPrec :: Int -&gt; PreLocExp loc -&gt; ShowS
$cshow :: forall loc. Show loc =&gt; PreLocExp loc -&gt; String
show :: PreLocExp loc -&gt; String
$cshowList :: forall loc. Show loc =&gt; [PreLocExp loc] -&gt; ShowS
showList :: [PreLocExp loc] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915104"><span id="local-6989586621680915115"><span class="annot"><span class="annottext">PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
(PreLocExp loc -&gt; PreLocExp loc -&gt; Bool)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; Bool) -&gt; Eq (PreLocExp loc)
forall loc. Eq loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall loc. Eq loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
== :: PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
$c/= :: forall loc. Eq loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
/= :: PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915122"><span id="local-6989586621680915133"><span id="local-6989586621680915136"><span id="local-6989586621680915139"><span id="local-6989586621680915142"><span id="local-6989586621680915145"><span id="local-6989586621680915148"><span class="annot"><span class="annottext">Eq (PreLocExp loc)
Eq (PreLocExp loc)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; Ordering)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; Bool)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; Bool)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; Bool)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; Bool)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc)
-&gt; (PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc)
-&gt; Ord (PreLocExp loc)
PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
PreLocExp loc -&gt; PreLocExp loc -&gt; Ordering
PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {loc}. Ord loc =&gt; Eq (PreLocExp loc)
forall loc. Ord loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
forall loc. Ord loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Ordering
forall loc.
Ord loc =&gt;
PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc
$ccompare :: forall loc. Ord loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Ordering
compare :: PreLocExp loc -&gt; PreLocExp loc -&gt; Ordering
$c&lt; :: forall loc. Ord loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
&lt; :: PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
$c&lt;= :: forall loc. Ord loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
&lt;= :: PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
$c&gt; :: forall loc. Ord loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
&gt; :: PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
$c&gt;= :: forall loc. Ord loc =&gt; PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
&gt;= :: PreLocExp loc -&gt; PreLocExp loc -&gt; Bool
$cmax :: forall loc.
Ord loc =&gt;
PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc
max :: PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc
$cmin :: forall loc.
Ord loc =&gt;
PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc
min :: PreLocExp loc -&gt; PreLocExp loc -&gt; PreLocExp loc
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915151"><span id="local-6989586621680915153"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; PreLocExp a -&gt; PreLocExp b)
-&gt; (forall a b. a -&gt; PreLocExp b -&gt; PreLocExp a)
-&gt; Functor PreLocExp
forall a b. a -&gt; PreLocExp b -&gt; PreLocExp a
forall a b. (a -&gt; b) -&gt; PreLocExp a -&gt; PreLocExp b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; PreLocExp a -&gt; PreLocExp b
fmap :: forall a b. (a -&gt; b) -&gt; PreLocExp a -&gt; PreLocExp b
$c&lt;$ :: forall a b. a -&gt; PreLocExp b -&gt; PreLocExp a
&lt;$ :: forall a b. a -&gt; PreLocExp b -&gt; PreLocExp a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915157"><span id="local-6989586621680915159"><span class="annot"><span class="annottext">(forall x. PreLocExp loc -&gt; Rep (PreLocExp loc) x)
-&gt; (forall x. Rep (PreLocExp loc) x -&gt; PreLocExp loc)
-&gt; Generic (PreLocExp loc)
forall x. Rep (PreLocExp loc) x -&gt; PreLocExp loc
forall x. PreLocExp loc -&gt; Rep (PreLocExp loc) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall loc x. Rep (PreLocExp loc) x -&gt; PreLocExp loc
forall loc x. PreLocExp loc -&gt; Rep (PreLocExp loc) x
$cfrom :: forall loc x. PreLocExp loc -&gt; Rep (PreLocExp loc) x
from :: forall x. PreLocExp loc -&gt; Rep (PreLocExp loc) x
$cto :: forall loc x. Rep (PreLocExp loc) x -&gt; PreLocExp loc
to :: forall x. Rep (PreLocExp loc) x -&gt; PreLocExp loc
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915163"><span class="annot"><span class="annottext">PreLocExp loc -&gt; ()
(PreLocExp loc -&gt; ()) -&gt; NFData (PreLocExp loc)
forall loc. NFData loc =&gt; PreLocExp loc -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: forall loc. NFData loc =&gt; PreLocExp loc -&gt; ()
rnf :: PreLocExp loc -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-keyword">type</span><span> </span><span id="LocExp"><span class="annot"><a href="Gibbon.L2.Syntax.html#LocExp"><span class="hs-identifier hs-var">LocExp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#PreLocExp"><span class="hs-identifier hs-type">PreLocExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="annot"><span class="hs-comment">-- | Locations (end-witnesses) returned from functions after RouteEnds.</span></span><span>
</span><span id="line-198"></span><span class="hs-keyword">data</span><span> </span><span id="LocRet"><span class="annot"><a href="Gibbon.L2.Syntax.html#LocRet"><span class="hs-identifier hs-var">LocRet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EndOf"><span class="annot"><a href="Gibbon.L2.Syntax.html#EndOf"><span class="hs-identifier hs-var">EndOf</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span>
</span><span id="line-199"></span><span>              </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915200"><span id="local-6989586621680915204"><span id="local-6989586621680915207"><span id="local-6989586621680915214"><span class="annot"><span class="annottext">ReadPrec [LocRet]
ReadPrec LocRet
Int -&gt; ReadS LocRet
ReadS [LocRet]
(Int -&gt; ReadS LocRet)
-&gt; ReadS [LocRet]
-&gt; ReadPrec LocRet
-&gt; ReadPrec [LocRet]
-&gt; Read LocRet
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS LocRet
readsPrec :: Int -&gt; ReadS LocRet
$creadList :: ReadS [LocRet]
readList :: ReadS [LocRet]
$creadPrec :: ReadPrec LocRet
readPrec :: ReadPrec LocRet
$creadListPrec :: ReadPrec [LocRet]
readListPrec :: ReadPrec [LocRet]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915217"><span id="local-6989586621680915222"><span id="local-6989586621680915226"><span class="annot"><span class="annottext">Int -&gt; LocRet -&gt; ShowS
[LocRet] -&gt; ShowS
LocRet -&gt; String
(Int -&gt; LocRet -&gt; ShowS)
-&gt; (LocRet -&gt; String) -&gt; ([LocRet] -&gt; ShowS) -&gt; Show LocRet
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LocRet -&gt; ShowS
showsPrec :: Int -&gt; LocRet -&gt; ShowS
$cshow :: LocRet -&gt; String
show :: LocRet -&gt; String
$cshowList :: [LocRet] -&gt; ShowS
showList :: [LocRet] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915229"><span id="local-6989586621680915233"><span class="annot"><span class="annottext">LocRet -&gt; LocRet -&gt; Bool
(LocRet -&gt; LocRet -&gt; Bool)
-&gt; (LocRet -&gt; LocRet -&gt; Bool) -&gt; Eq LocRet
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LocRet -&gt; LocRet -&gt; Bool
== :: LocRet -&gt; LocRet -&gt; Bool
$c/= :: LocRet -&gt; LocRet -&gt; Bool
/= :: LocRet -&gt; LocRet -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915239"><span id="local-6989586621680915243"><span id="local-6989586621680915246"><span id="local-6989586621680915250"><span id="local-6989586621680915253"><span id="local-6989586621680915256"><span id="local-6989586621680915259"><span class="annot"><span class="annottext">Eq LocRet
Eq LocRet
-&gt; (LocRet -&gt; LocRet -&gt; Ordering)
-&gt; (LocRet -&gt; LocRet -&gt; Bool)
-&gt; (LocRet -&gt; LocRet -&gt; Bool)
-&gt; (LocRet -&gt; LocRet -&gt; Bool)
-&gt; (LocRet -&gt; LocRet -&gt; Bool)
-&gt; (LocRet -&gt; LocRet -&gt; LocRet)
-&gt; (LocRet -&gt; LocRet -&gt; LocRet)
-&gt; Ord LocRet
LocRet -&gt; LocRet -&gt; Bool
LocRet -&gt; LocRet -&gt; Ordering
LocRet -&gt; LocRet -&gt; LocRet
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: LocRet -&gt; LocRet -&gt; Ordering
compare :: LocRet -&gt; LocRet -&gt; Ordering
$c&lt; :: LocRet -&gt; LocRet -&gt; Bool
&lt; :: LocRet -&gt; LocRet -&gt; Bool
$c&lt;= :: LocRet -&gt; LocRet -&gt; Bool
&lt;= :: LocRet -&gt; LocRet -&gt; Bool
$c&gt; :: LocRet -&gt; LocRet -&gt; Bool
&gt; :: LocRet -&gt; LocRet -&gt; Bool
$c&gt;= :: LocRet -&gt; LocRet -&gt; Bool
&gt;= :: LocRet -&gt; LocRet -&gt; Bool
$cmax :: LocRet -&gt; LocRet -&gt; LocRet
max :: LocRet -&gt; LocRet -&gt; LocRet
$cmin :: LocRet -&gt; LocRet -&gt; LocRet
min :: LocRet -&gt; LocRet -&gt; LocRet
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915262"><span id="local-6989586621680915264"><span class="annot"><span class="annottext">(forall x. LocRet -&gt; Rep LocRet x)
-&gt; (forall x. Rep LocRet x -&gt; LocRet) -&gt; Generic LocRet
forall x. Rep LocRet x -&gt; LocRet
forall x. LocRet -&gt; Rep LocRet x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. LocRet -&gt; Rep LocRet x
from :: forall x. LocRet -&gt; Rep LocRet x
$cto :: forall x. Rep LocRet x -&gt; LocRet
to :: forall x. Rep LocRet x -&gt; LocRet
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915267"><span class="annot"><span class="annottext">LocRet -&gt; ()
(LocRet -&gt; ()) -&gt; NFData LocRet
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: LocRet -&gt; ()
rnf :: LocRet -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913872"><span id="local-6989586621680913873"><span class="annot"><a href="Gibbon.Language.Syntax.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913872"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913873"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621680915292"><span class="annot"><span class="annottext">gFreeVars :: E2Ext l d -&gt; Set Var
</span><a href="#local-6989586621680915292"><span class="hs-identifier hs-var hs-var hs-var hs-var">gFreeVars</span></a></span></span><span> </span><span id="local-6989586621680915294"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915294"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915294"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-205"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915295"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915295"><span class="hs-identifier hs-var">bod</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915295"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-206"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915296"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915296"><span class="hs-identifier hs-var">bod</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915296"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-207"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915297"><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915297"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621680915298"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915298"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915297"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-208"></span><span>                              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterVariableLE"><span class="hs-identifier hs-type">AfterVariableLE</span></a></span><span> </span><span id="local-6989586621680915299"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915299"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680915300"><span class="annot"><span class="annottext">l
</span><a href="#local-6989586621680915300"><span class="hs-identifier hs-var">_loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915299"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-209"></span><span>                              </span><span class="annot"><span class="annottext">PreLocExp l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>                           </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span>
</span><span id="line-211"></span><span>                           </span><span class="annot"><span class="annottext">E2 l d -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915298"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-212"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span> </span><span id="local-6989586621680915304"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915304"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915304"><span class="hs-identifier hs-var">cur</span></a></span><span>
</span><span id="line-213"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span> </span><span id="local-6989586621680915305"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915305"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680915306"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915306"><span class="hs-identifier hs-var">b</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915305"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915306"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-214"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span> </span><span class="annot"><span class="annottext">[l]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915308"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915308"><span class="hs-identifier hs-var">vr</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915308"><span class="hs-identifier hs-var">vr</span></a></span><span>
</span><span id="line-215"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-216"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span> </span><span id="local-6989586621680915309"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915309"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915309"><span class="hs-identifier hs-var">vr</span></a></span><span>
</span><span id="line-217"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-218"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(l, l)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(l, l)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915310"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915310"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915310"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-219"></span><span>     </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-220"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680915311"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915311"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680915312"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915312"><span class="hs-identifier hs-var">bod</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915311"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915312"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-221"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-222"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-223"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-224"></span><span>     </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LocExp"><span class="hs-identifier hs-type">LocExp</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>  </span><span id="local-6989586621680915316"><span class="annot"><span class="annottext">gFreeVars :: LocExp -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var hs-var hs-var hs-var">gFreeVars</span></a></span></span><span> </span><span id="local-6989586621680915317"><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680915317"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680915317"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterConstantLE"><span class="hs-identifier hs-type">AfterConstantLE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915318"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915318"><span class="hs-identifier hs-var">loc</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915318"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterVariableLE"><span class="hs-identifier hs-type">AfterVariableLE</span></a></span><span> </span><span id="local-6989586621680915319"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915319"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680915320"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915320"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915319"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915320"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-232"></span><span>      </span><span class="annot"><span class="annottext">LocExp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913888"><span id="local-6989586621680913889"><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913888"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913889"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913888"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913889"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913888"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913889"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="LocOf"><span class="annot"><a href="Gibbon.Language.Syntax.html#LocOf"><span class="hs-identifier hs-var">LocOf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913888"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913889"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680913888"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="TyOf"><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-var">TyOf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913888"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913889"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621680913889"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621680915336"><span class="annot"><span class="annottext">isTrivial :: E2Ext l d -&gt; Bool
</span><a href="#local-6989586621680915336"><span class="hs-identifier hs-var hs-var hs-var hs-var">isTrivial</span></a></span></span><span> </span><span id="local-6989586621680915338"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915338"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915338"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-241"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-242"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-243"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-comment">-- Umm... this one could be potentially.</span><span>
</span><span id="line-245"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-247"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-248"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-249"></span><span>      </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-251"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-252"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-254"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913897"><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913897"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913897"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913897"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913897"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913897"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913897"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>  </span><span id="local-6989586621680915368"><span class="annot"><span class="annottext">gRecoverType :: DDefs (TyOf (E2Ext l (UrTy l)))
-&gt; Env2 (TyOf (E2Ext l (UrTy l)))
-&gt; E2Ext l (UrTy l)
-&gt; TyOf (E2Ext l (UrTy l))
</span><a href="#local-6989586621680915368"><span class="hs-identifier hs-var hs-var hs-var hs-var">gRecoverType</span></a></span></span><span> </span><span id="local-6989586621680915370"><span class="annot"><span class="annottext">DDefs (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915370"><span class="hs-identifier hs-var">ddfs</span></a></span></span><span> </span><span id="local-6989586621680915371"><span class="annot"><span class="annottext">Env2 (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915371"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span id="local-6989586621680915372"><span class="annot"><span class="annottext">E2Ext l (UrTy l)
</span><a href="#local-6989586621680915372"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l (UrTy l)
</span><a href="#local-6989586621680915372"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680915373"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915373"><span class="hs-identifier hs-var">_r</span></a></span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915374"><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915374"><span class="hs-identifier hs-var">bod</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
-&gt; Env2 (TyOf (E2 l (UrTy l)))
-&gt; E2 l (UrTy l)
-&gt; TyOf (E2 l (UrTy l))
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
DDefs (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915370"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (E2 l (UrTy l)))
Env2 (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915371"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915374"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680915375"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915375"><span class="hs-identifier hs-var">_r</span></a></span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915376"><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915376"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
-&gt; Env2 (TyOf (E2 l (UrTy l)))
-&gt; E2 l (UrTy l)
-&gt; TyOf (E2 l (UrTy l))
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
DDefs (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915370"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (E2 l (UrTy l)))
Env2 (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915371"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915376"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-261"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680915377"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915377"><span class="hs-identifier hs-var">_l</span></a></span></span><span> </span><span id="local-6989586621680915378"><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915378"><span class="hs-identifier hs-var">_rhs</span></a></span></span><span> </span><span id="local-6989586621680915379"><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915379"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
-&gt; Env2 (TyOf (E2 l (UrTy l)))
-&gt; E2 l (UrTy l)
-&gt; TyOf (E2 l (UrTy l))
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
DDefs (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915370"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (E2 l (UrTy l)))
Env2 (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915371"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915379"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-262"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (E2Ext l (UrTy l))
UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#CursorTy"><span class="hs-identifier hs-var">CursorTy</span></a></span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (E2Ext l (UrTy l))
UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#CursorTy"><span class="hs-identifier hs-var">CursorTy</span></a></span><span>
</span><span id="line-264"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span> </span><span id="local-6989586621680915381"><span class="annot"><span class="annottext">[l]
</span><a href="#local-6989586621680915381"><span class="hs-identifier hs-var">_loc</span></a></span></span><span> </span><span id="local-6989586621680915382"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915382"><span class="hs-identifier hs-var">var</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Map Var (UrTy l) -&gt; Maybe (UrTy l)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915382"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env2 (UrTy l) -&gt; Map Var (UrTy l)
forall a. Env2 a -&gt; TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var">vEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (E2Ext l (UrTy l)))
Env2 (UrTy l)
</span><a href="#local-6989586621680915371"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-265"></span><span>                               </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680915385"><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680915385"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (E2Ext l (UrTy l))
UrTy l
</span><a href="#local-6989586621680915385"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-266"></span><span>                               </span><span class="annot"><span class="annottext">Maybe (UrTy l)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; TyOf (E2Ext l (UrTy l))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; TyOf (E2Ext l (UrTy l)))
-&gt; String -&gt; TyOf (E2Ext l (UrTy l))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gRecoverType: unbound variable &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; String
forall a. Out a =&gt; a -&gt; String
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915382"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-267"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span> </span><span id="local-6989586621680915388"><span class="annot"><span class="annottext">l
</span><a href="#local-6989586621680915388"><span class="hs-identifier hs-var">_loc</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; UrTy l
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Shouldn't enconter FromEndE in tail position&quot;</span></span><span>
</span><span id="line-268"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; UrTy l
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Shouldn't enconter BoundsCheck in tail position&quot;</span></span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span> </span><span id="local-6989586621680915389"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680915389"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(l, l)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915390"><span class="annot"><span class="annottext">l
</span><a href="#local-6989586621680915390"><span class="hs-identifier hs-var">to</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; l -&gt; UrTy l
forall loc. String -&gt; loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680915389"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><a href="#local-6989586621680915390"><span class="hs-identifier hs-var">to</span></a></span><span>
</span><span id="line-270"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; UrTy l
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Shouldn't enconter AddFixed in tail position&quot;</span></span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><span class="annottext">E2Ext l (UrTy l)
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (E2Ext l (UrTy l))
UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>
</span><span id="line-272"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680915393"><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915393"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
-&gt; Env2 (TyOf (E2 l (UrTy l)))
-&gt; E2 l (UrTy l)
-&gt; TyOf (E2 l (UrTy l))
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l (UrTy l)))
DDefs (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915370"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (E2 l (UrTy l)))
Env2 (TyOf (E2Ext l (UrTy l)))
</span><a href="#local-6989586621680915371"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l (UrTy l)
</span><a href="#local-6989586621680915393"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-273"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[UrTy l] -&gt; UrTy l
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-274"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[UrTy l] -&gt; UrTy l
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-275"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[UrTy l] -&gt; UrTy l
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-276"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[UrTy l] -&gt; UrTy l
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913920"><span id="local-6989586621680913921"><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913920"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913921"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-279"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913920"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913921"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-280"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Flattenable"><span class="hs-identifier hs-type">Flattenable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2"><span class="hs-identifier hs-type">E2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913920"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913921"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Flattenable"><span class="hs-identifier hs-type">Flattenable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913920"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913921"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span>  </span><span id="local-6989586621680915426"><span class="annot"><span class="annottext">gFlattenGatherBinds :: DDefs (TyOf (E2Ext l d))
-&gt; Env2 (TyOf (E2Ext l d))
-&gt; E2Ext l d
-&gt; PassM ([Binds (E2Ext l d)], E2Ext l d)
</span><a href="#local-6989586621680915426"><span class="hs-identifier hs-var hs-var hs-var hs-var">gFlattenGatherBinds</span></a></span></span><span> </span><span id="local-6989586621680915428"><span class="annot"><span class="annottext">DDefs (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915428"><span class="hs-identifier hs-var">ddfs</span></a></span></span><span> </span><span id="local-6989586621680915429"><span class="annot"><span class="annottext">Env2 (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915429"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680915430"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-284"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-285"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680915431"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915431"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915432"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915432"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915433"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915433"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915434"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915434"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-286"></span><span>                                </span><span class="hs-special">(</span><span id="local-6989586621680915435"><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915435"><span class="hs-identifier hs-var">bnds</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680915436"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915436"><span class="hs-identifier hs-var">bod'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; PassM ([Binds (E2 l d)], E2 l d)
</span><a href="#local-6989586621680915437"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915434"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-287"></span><span>                                </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Region -&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-var">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915431"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915432"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915433"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)] -&gt; E2 l d -&gt; E2 l d
forall l d (e :: * -&gt; * -&gt; *).
[(Var, [l], d, PreExp e l d)] -&gt; PreExp e l d -&gt; PreExp e l d
</span><a href="Gibbon.Language.html#flatLets"><span class="hs-identifier hs-var">flatLets</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915435"><span class="hs-identifier hs-var">bnds</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915436"><span class="hs-identifier hs-var">bod'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680915439"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915439"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915440"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915440"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915441"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915441"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915442"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915442"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-290"></span><span>                                </span><span class="hs-special">(</span><span id="local-6989586621680915443"><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915443"><span class="hs-identifier hs-var">bnds</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680915444"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915444"><span class="hs-identifier hs-var">bod'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; PassM ([Binds (E2 l d)], E2 l d)
</span><a href="#local-6989586621680915437"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915442"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-291"></span><span>                                </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Region -&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-var">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915439"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915440"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915441"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)] -&gt; E2 l d -&gt; E2 l d
forall l d (e :: * -&gt; * -&gt; *).
[(Var, [l], d, PreExp e l d)] -&gt; PreExp e l d -&gt; PreExp e l d
</span><a href="Gibbon.Language.html#flatLets"><span class="hs-identifier hs-var">flatLets</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915443"><span class="hs-identifier hs-var">bnds</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915444"><span class="hs-identifier hs-var">bod'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680915445"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915445"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680915446"><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915446"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span id="local-6989586621680915447"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915447"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915448"><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915448"><span class="hs-identifier hs-var">bnds</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680915449"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915449"><span class="hs-identifier hs-var">bod'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; PassM ([Binds (E2 l d)], E2 l d)
</span><a href="#local-6989586621680915437"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915447"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-294"></span><span>                                  </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PreLocExp l -&gt; E2 l d -&gt; E2Ext l d
forall loc dec. Var -&gt; PreLocExp loc -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-var">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915445"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915446"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">(E2 l d -&gt; E2Ext l d) -&gt; E2 l d -&gt; E2Ext l d
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)] -&gt; E2 l d -&gt; E2 l d
forall l d (e :: * -&gt; * -&gt; *).
[(Var, [l], d, PreExp e l d)] -&gt; PreExp e l d -&gt; PreExp e l d
</span><a href="Gibbon.Language.html#flatLets"><span class="hs-identifier hs-var">flatLets</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915448"><span class="hs-identifier hs-var">bnds</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915449"><span class="hs-identifier hs-var">bod'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>          </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680915450"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915450"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680915451"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915451"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915452"><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915452"><span class="hs-identifier hs-var">bnds</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680915453"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915453"><span class="hs-identifier hs-var">bod'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">E2 l d -&gt; PassM ([Binds (E2 l d)], E2 l d)
</span><a href="#local-6989586621680915437"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915451"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-305"></span><span>                                </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; E2 l d -&gt; E2Ext l d
forall loc dec. [Var] -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-var">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915450"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">(E2 l d -&gt; E2Ext l d) -&gt; E2 l d -&gt; E2Ext l d
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)] -&gt; E2 l d -&gt; E2 l d
forall l d (e :: * -&gt; * -&gt; *).
[(Var, [l], d, PreExp e l d)] -&gt; PreExp e l d -&gt; PreExp e l d
</span><a href="Gibbon.Language.html#flatLets"><span class="hs-identifier hs-var">flatLets</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, [l], d, E2 l d)]
</span><a href="#local-6989586621680915452"><span class="hs-identifier hs-var">bnds</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915453"><span class="hs-identifier hs-var">bod'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(Var, [l], d, E2Ext l d)], E2Ext l d)
-&gt; PassM ([(Var, [l], d, E2Ext l d)], E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915430"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680915437"><span class="annot"><span class="annottext">go :: E2 l d -&gt; PassM ([Binds (E2 l d)], E2 l d)
</span><a href="#local-6989586621680915437"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l d))
-&gt; Env2 (TyOf (E2 l d))
-&gt; E2 l d
-&gt; PassM ([Binds (E2 l d)], E2 l d)
forall e.
Flattenable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; PassM ([Binds e], e)
</span><a href="Gibbon.Language.Syntax.html#gFlattenGatherBinds"><span class="hs-identifier hs-var">gFlattenGatherBinds</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2 l d))
DDefs (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915428"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (E2 l d))
Env2 (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915429"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span>  </span><span id="local-6989586621680915457"><span class="annot"><span class="annottext">gFlattenExp :: DDefs (TyOf (E2Ext l d))
-&gt; Env2 (TyOf (E2Ext l d)) -&gt; E2Ext l d -&gt; PassM (E2Ext l d)
</span><a href="#local-6989586621680915457"><span class="hs-identifier hs-var hs-var hs-var hs-var">gFlattenExp</span></a></span></span><span> </span><span id="local-6989586621680915459"><span class="annot"><span class="annottext">DDefs (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915459"><span class="hs-identifier hs-var">ddfs</span></a></span></span><span> </span><span id="local-6989586621680915460"><span class="annot"><span class="annottext">Env2 (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915460"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680915461"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915461"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915462"><span class="annot"><span class="annottext">[(Var, [l], d, E2Ext l d)]
</span><a href="#local-6989586621680915462"><span class="hs-identifier hs-var">_b</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680915463"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915463"><span class="hs-identifier hs-var">e'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2Ext l d))
-&gt; Env2 (TyOf (E2Ext l d))
-&gt; E2Ext l d
-&gt; PassM ([Binds (E2Ext l d)], E2Ext l d)
forall e.
Flattenable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; PassM ([Binds e], e)
</span><a href="Gibbon.Language.Syntax.html#gFlattenGatherBinds"><span class="hs-identifier hs-var">gFlattenGatherBinds</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915459"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (E2Ext l d))
</span><a href="#local-6989586621680915460"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915461"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-314"></span><span>                               </span><span class="annot"><span class="annottext">E2Ext l d -&gt; PassM (E2Ext l d)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915463"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913941"><span id="local-6989586621680913942"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSimplifiableExt"><span class="hs-identifier hs-type">HasSimplifiableExt</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913941"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913942"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SimplifiableExt"><span class="hs-identifier hs-type">SimplifiableExt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913941"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913942"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913941"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913942"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-317"></span><span>  </span><span id="local-6989586621680915477"><span class="annot"><span class="annottext">gInlineTrivExt :: Map Var (PreExp E2Ext l d) -&gt; E2Ext l d -&gt; E2Ext l d
</span><a href="#local-6989586621680915477"><span class="hs-identifier hs-var hs-var hs-var hs-var">gInlineTrivExt</span></a></span></span><span> </span><span id="local-6989586621680915479"><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d)
</span><a href="#local-6989586621680915479"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680915480"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-318"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-319"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680915481"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915481"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915482"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915482"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915483"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915483"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915484"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915484"><span class="hs-identifier hs-var">bod</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-var">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915481"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915482"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915483"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d) -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Simplifiable e =&gt; Map Var e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gInlineTrivExp"><span class="hs-identifier hs-var">gInlineTrivExp</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d)
</span><a href="#local-6989586621680915479"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915484"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680915486"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915486"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915487"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915487"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915488"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915488"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915489"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915489"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-var">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915486"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915487"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915488"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d) -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Simplifiable e =&gt; Map Var e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gInlineTrivExp"><span class="hs-identifier hs-var">gInlineTrivExp</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d)
</span><a href="#local-6989586621680915479"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915489"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680915490"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915490"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680915491"><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915491"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span id="local-6989586621680915492"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915492"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PreLocExp l -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec. Var -&gt; PreLocExp loc -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-var">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915490"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915491"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d) -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Simplifiable e =&gt; Map Var e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gInlineTrivExp"><span class="hs-identifier hs-var">gInlineTrivExp</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d)
</span><a href="#local-6989586621680915479"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915492"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-323"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-324"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-325"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-326"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-327"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-328"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-329"></span><span>      </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-330"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680915493"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915493"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680915494"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915494"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec. [Var] -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-var">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915493"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d) -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Simplifiable e =&gt; Map Var e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gInlineTrivExp"><span class="hs-identifier hs-var">gInlineTrivExp</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var (PreExp E2Ext l d)
</span><a href="#local-6989586621680915479"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915494"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-332"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-333"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-334"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915480"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913953"><span id="local-6989586621680913954"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSubstitutableExt"><span class="hs-identifier hs-type">HasSubstitutableExt</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913953"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913954"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SubstitutableExt"><span class="hs-identifier hs-type">SubstitutableExt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913953"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913954"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913953"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913954"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>  </span><span id="local-6989586621680915509"><span class="annot"><span class="annottext">gSubstExt :: Var -&gt; PreExp E2Ext l d -&gt; E2Ext l d -&gt; E2Ext l d
</span><a href="#local-6989586621680915509"><span class="hs-identifier hs-var hs-var hs-var hs-var">gSubstExt</span></a></span></span><span> </span><span id="local-6989586621680915511"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915511"><span class="hs-identifier hs-var">old</span></a></span></span><span> </span><span id="local-6989586621680915512"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915512"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span id="local-6989586621680915513"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-340"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680915514"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915514"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915515"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915515"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915516"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915516"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915517"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915517"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-var">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915514"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915515"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915516"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; Var -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubst"><span class="hs-identifier hs-var">gSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915511"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915512"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915517"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680915519"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915519"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915520"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915520"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915521"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915521"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915522"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915522"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-var">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915519"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915520"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915521"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; Var -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubst"><span class="hs-identifier hs-var">gSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915511"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915512"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915522"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680915523"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915523"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680915524"><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915524"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span id="local-6989586621680915525"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915525"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PreLocExp l -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec. Var -&gt; PreLocExp loc -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-var">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915523"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915524"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; Var -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubst"><span class="hs-identifier hs-var">gSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915511"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915512"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915525"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-344"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-345"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-346"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-347"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-348"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-349"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-350"></span><span>      </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680915526"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915526"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680915527"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915527"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec. [Var] -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-var">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915526"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; Var -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubst"><span class="hs-identifier hs-var">gSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915511"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915512"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915527"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-353"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-354"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-355"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915513"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span>  </span><span id="local-6989586621680915532"><span class="annot"><span class="annottext">gSubstEExt :: PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; E2Ext l d -&gt; E2Ext l d
</span><a href="#local-6989586621680915532"><span class="hs-identifier hs-var hs-var hs-var hs-var">gSubstEExt</span></a></span></span><span> </span><span id="local-6989586621680915534"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915534"><span class="hs-identifier hs-var">old</span></a></span></span><span> </span><span id="local-6989586621680915535"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915535"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span id="local-6989586621680915536"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-358"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-359"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680915537"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915537"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915538"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915538"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915539"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915539"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915540"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915540"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-var">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915537"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915538"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915539"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext l d
-&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; e -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubstE"><span class="hs-identifier hs-var">gSubstE</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915534"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915535"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915540"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680915542"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915542"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915543"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915543"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915544"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915544"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915545"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915545"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-var">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915542"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915543"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915544"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext l d
-&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; e -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubstE"><span class="hs-identifier hs-var">gSubstE</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915534"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915535"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915545"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680915546"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915546"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680915547"><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915547"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span id="local-6989586621680915548"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915548"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PreLocExp l -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec. Var -&gt; PreLocExp loc -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-var">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915546"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915547"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext l d
-&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; e -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubstE"><span class="hs-identifier hs-var">gSubstE</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915534"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915535"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915548"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-363"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-364"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-365"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-366"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-367"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-368"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-369"></span><span>      </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-370"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680915549"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915549"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680915550"><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915550"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; PreExp E2Ext l d -&gt; E2Ext l d
forall loc dec. [Var] -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-var">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915549"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext l d
-&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d -&gt; PreExp E2Ext l d
forall e. Substitutable e =&gt; e -&gt; e -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gSubstE"><span class="hs-identifier hs-var">gSubstE</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915534"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915535"><span class="hs-identifier hs-var">new</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext l d
</span><a href="#local-6989586621680915550"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-372"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-373"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-374"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915536"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913960"><span id="local-6989586621680913961"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasRenamable"><span class="hs-identifier hs-type">HasRenamable</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913960"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913961"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Renamable"><span class="hs-identifier hs-type">Renamable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913960"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913961"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>  </span><span id="local-6989586621680915564"><span class="annot"><span class="annottext">gRename :: Map Var Var -&gt; E2Ext l d -&gt; E2Ext l d
</span><a href="#local-6989586621680915564"><span class="hs-identifier hs-var hs-var hs-var hs-var">gRename</span></a></span></span><span> </span><span id="local-6989586621680915566"><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680915567"><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-378"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-379"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680915568"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915568"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915569"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915569"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915570"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915570"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915571"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915571"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region -&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-var">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915568"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915569"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915570"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; E2 l d -&gt; E2 l d
forall e. Renamable e =&gt; Map Var Var -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-var">gRename</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915571"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680915572"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915572"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680915573"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915573"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680915574"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915574"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680915575"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915575"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region -&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 l d -&gt; E2Ext l d
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-var">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680915572"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680915573"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680915574"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; E2 l d -&gt; E2 l d
forall e. Renamable e =&gt; Map Var Var -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-var">gRename</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915575"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680915576"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915576"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680915577"><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915577"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span id="local-6989586621680915578"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915578"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PreLocExp l -&gt; E2 l d -&gt; E2Ext l d
forall loc dec. Var -&gt; PreLocExp loc -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-var">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915576"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PreLocExp l
</span><a href="#local-6989586621680915577"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; E2 l d -&gt; E2 l d
forall e. Renamable e =&gt; Map Var Var -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-var">gRename</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915578"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span> </span><span id="local-6989586621680915579"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915579"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680915580"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915580"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Var -&gt; E2Ext l d
forall loc dec. Var -&gt; Var -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-var">TagCursor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; Var -&gt; Var
forall e. Renamable e =&gt; Map Var Var -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-var">gRename</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915579"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; Var -&gt; Var
forall e. Renamable e =&gt; Map Var Var -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-var">gRename</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915580"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span> </span><span id="local-6989586621680915581"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915581"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; E2Ext l d
forall loc dec. Var -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-var">StartOfPkdCursor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; Var -&gt; Var
forall e. Renamable e =&gt; Map Var Var -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-var">gRename</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680915581"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-385"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-386"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-387"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-388"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-389"></span><span>      </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-390"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680915582"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915582"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680915583"><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915583"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; E2 l d -&gt; E2Ext l d
forall loc dec. [Var] -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-var">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680915582"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; E2 l d -&gt; E2 l d
forall e. Renamable e =&gt; Map Var Var -&gt; e -&gt; e
</span><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-var">gRename</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680915566"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">E2 l d
</span><a href="#local-6989586621680915583"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-392"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-393"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-394"></span><span>      </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext l d
</span><a href="#local-6989586621680915567"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-comment">-- | Our type for functions grows to include effects, and explicit universal</span><span>
</span><span id="line-397"></span><span class="hs-comment">-- quantification over location/region variables.</span><span>
</span><span id="line-398"></span><span class="hs-keyword">data</span><span> </span><span id="ArrowTy2"><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-var">ArrowTy2</span></a></span></span><span> </span><span id="local-6989586621680913715"><span class="annot"><a href="#local-6989586621680913715"><span class="hs-identifier hs-type">ty2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ArrowTy2"><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-var">ArrowTy2</span></a></span></span><span>
</span><span id="line-399"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="locVars"><span class="annot"><span class="annottext">forall ty2. ArrowTy2 ty2 -&gt; [LRM]
</span><a href="Gibbon.L2.Syntax.html#locVars"><span class="hs-identifier hs-var hs-var">locVars</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span class="hs-special">]</span><span>          </span><span class="hs-comment">-- ^ Universally-quantified location params.</span><span>
</span><span id="line-400"></span><span>                                </span><span class="hs-comment">-- Only these should be referenced in arrIn/arrOut.</span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="arrIns"><span class="annot"><span class="annottext">forall ty2. ArrowTy2 ty2 -&gt; [ty2]
</span><a href="Gibbon.L2.Syntax.html#arrIns"><span class="hs-identifier hs-var hs-var">arrIns</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680913715"><span class="hs-identifier hs-type">ty2</span></a></span><span class="hs-special">]</span><span>          </span><span class="annot"><span class="hs-comment">-- ^ Input type for the function.</span></span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="arrEffs"><span class="annot"><span class="annottext">forall ty2. ArrowTy2 ty2 -&gt; Set Effect
</span><a href="Gibbon.L2.Syntax.html#arrEffs"><span class="hs-identifier hs-var hs-var">arrEffs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ These are present-but-empty initially,</span><span>
</span><span id="line-403"></span><span>                                </span><span class="hs-comment">-- and the populated by InferEffects.</span><span>
</span><span id="line-404"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="arrOut"><span class="annot"><span class="annottext">forall ty2. ArrowTy2 ty2 -&gt; ty2
</span><a href="Gibbon.L2.Syntax.html#arrOut"><span class="hs-identifier hs-var hs-var">arrOut</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680913715"><span class="hs-identifier hs-type">ty2</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ Output type for the function.</span></span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="locRets"><span class="annot"><span class="annottext">forall ty2. ArrowTy2 ty2 -&gt; [LocRet]
</span><a href="Gibbon.L2.Syntax.html#locRets"><span class="hs-identifier hs-var hs-var">locRets</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LocRet"><span class="hs-identifier hs-type">LocRet</span></a></span><span class="hs-special">]</span><span>       </span><span class="annot"><span class="hs-comment">-- ^ L2B feature: multi-valued returns.</span></span><span>
</span><span id="line-406"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="hasParallelism"><span class="annot"><span class="annottext">forall ty2. ArrowTy2 ty2 -&gt; Bool
</span><a href="Gibbon.L2.Syntax.html#hasParallelism"><span class="hs-identifier hs-var hs-var">hasParallelism</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Does this function have parallelism</span></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915591"><span id="local-6989586621680915595"><span id="local-6989586621680915598"><span id="local-6989586621680915626"><span class="annot"><span class="annottext">ReadPrec [ArrowTy2 ty2]
ReadPrec (ArrowTy2 ty2)
Int -&gt; ReadS (ArrowTy2 ty2)
ReadS [ArrowTy2 ty2]
(Int -&gt; ReadS (ArrowTy2 ty2))
-&gt; ReadS [ArrowTy2 ty2]
-&gt; ReadPrec (ArrowTy2 ty2)
-&gt; ReadPrec [ArrowTy2 ty2]
-&gt; Read (ArrowTy2 ty2)
forall ty2. Read ty2 =&gt; ReadPrec [ArrowTy2 ty2]
forall ty2. Read ty2 =&gt; ReadPrec (ArrowTy2 ty2)
forall ty2. Read ty2 =&gt; Int -&gt; ReadS (ArrowTy2 ty2)
forall ty2. Read ty2 =&gt; ReadS [ArrowTy2 ty2]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: forall ty2. Read ty2 =&gt; Int -&gt; ReadS (ArrowTy2 ty2)
readsPrec :: Int -&gt; ReadS (ArrowTy2 ty2)
$creadList :: forall ty2. Read ty2 =&gt; ReadS [ArrowTy2 ty2]
readList :: ReadS [ArrowTy2 ty2]
$creadPrec :: forall ty2. Read ty2 =&gt; ReadPrec (ArrowTy2 ty2)
readPrec :: ReadPrec (ArrowTy2 ty2)
$creadListPrec :: forall ty2. Read ty2 =&gt; ReadPrec [ArrowTy2 ty2]
readListPrec :: ReadPrec [ArrowTy2 ty2]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915632"><span id="local-6989586621680915645"><span id="local-6989586621680915648"><span class="annot"><span class="annottext">Int -&gt; ArrowTy2 ty2 -&gt; ShowS
[ArrowTy2 ty2] -&gt; ShowS
ArrowTy2 ty2 -&gt; String
(Int -&gt; ArrowTy2 ty2 -&gt; ShowS)
-&gt; (ArrowTy2 ty2 -&gt; String)
-&gt; ([ArrowTy2 ty2] -&gt; ShowS)
-&gt; Show (ArrowTy2 ty2)
forall ty2. Show ty2 =&gt; Int -&gt; ArrowTy2 ty2 -&gt; ShowS
forall ty2. Show ty2 =&gt; [ArrowTy2 ty2] -&gt; ShowS
forall ty2. Show ty2 =&gt; ArrowTy2 ty2 -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall ty2. Show ty2 =&gt; Int -&gt; ArrowTy2 ty2 -&gt; ShowS
showsPrec :: Int -&gt; ArrowTy2 ty2 -&gt; ShowS
$cshow :: forall ty2. Show ty2 =&gt; ArrowTy2 ty2 -&gt; String
show :: ArrowTy2 ty2 -&gt; String
$cshowList :: forall ty2. Show ty2 =&gt; [ArrowTy2 ty2] -&gt; ShowS
showList :: [ArrowTy2 ty2] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915653"><span id="local-6989586621680915665"><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
(ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool) -&gt; Eq (ArrowTy2 ty2)
forall ty2. Eq ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall ty2. Eq ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
== :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
$c/= :: forall ty2. Eq ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
/= :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915674"><span id="local-6989586621680915686"><span id="local-6989586621680915697"><span id="local-6989586621680915701"><span id="local-6989586621680915704"><span id="local-6989586621680915707"><span id="local-6989586621680915710"><span class="annot"><span class="annottext">Eq (ArrowTy2 ty2)
Eq (ArrowTy2 ty2)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Ordering)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2)
-&gt; (ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2)
-&gt; Ord (ArrowTy2 ty2)
ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Ordering
ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {ty2}. Ord ty2 =&gt; Eq (ArrowTy2 ty2)
forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Ordering
forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2
$ccompare :: forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Ordering
compare :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Ordering
$c&lt; :: forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
&lt; :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
$c&lt;= :: forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
&lt;= :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
$c&gt; :: forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
&gt; :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
$c&gt;= :: forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
&gt;= :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; Bool
$cmax :: forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2
max :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2
$cmin :: forall ty2. Ord ty2 =&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2
min :: ArrowTy2 ty2 -&gt; ArrowTy2 ty2 -&gt; ArrowTy2 ty2
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915713"><span id="local-6989586621680915717"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; ArrowTy2 a -&gt; ArrowTy2 b)
-&gt; (forall a b. a -&gt; ArrowTy2 b -&gt; ArrowTy2 a) -&gt; Functor ArrowTy2
forall a b. a -&gt; ArrowTy2 b -&gt; ArrowTy2 a
forall a b. (a -&gt; b) -&gt; ArrowTy2 a -&gt; ArrowTy2 b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; ArrowTy2 a -&gt; ArrowTy2 b
fmap :: forall a b. (a -&gt; b) -&gt; ArrowTy2 a -&gt; ArrowTy2 b
$c&lt;$ :: forall a b. a -&gt; ArrowTy2 b -&gt; ArrowTy2 a
&lt;$ :: forall a b. a -&gt; ArrowTy2 b -&gt; ArrowTy2 a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915721"><span id="local-6989586621680915723"><span class="annot"><span class="annottext">(forall x. ArrowTy2 ty2 -&gt; Rep (ArrowTy2 ty2) x)
-&gt; (forall x. Rep (ArrowTy2 ty2) x -&gt; ArrowTy2 ty2)
-&gt; Generic (ArrowTy2 ty2)
forall x. Rep (ArrowTy2 ty2) x -&gt; ArrowTy2 ty2
forall x. ArrowTy2 ty2 -&gt; Rep (ArrowTy2 ty2) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall ty2 x. Rep (ArrowTy2 ty2) x -&gt; ArrowTy2 ty2
forall ty2 x. ArrowTy2 ty2 -&gt; Rep (ArrowTy2 ty2) x
$cfrom :: forall ty2 x. ArrowTy2 ty2 -&gt; Rep (ArrowTy2 ty2) x
from :: forall x. ArrowTy2 ty2 -&gt; Rep (ArrowTy2 ty2) x
$cto :: forall ty2 x. Rep (ArrowTy2 ty2) x -&gt; ArrowTy2 ty2
to :: forall x. Rep (ArrowTy2 ty2) x -&gt; ArrowTy2 ty2
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915727"><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; ()
(ArrowTy2 ty2 -&gt; ()) -&gt; NFData (ArrowTy2 ty2)
forall ty2. NFData ty2 =&gt; ArrowTy2 ty2 -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: forall ty2. NFData ty2 =&gt; ArrowTy2 ty2 -&gt; ()
rnf :: ArrowTy2 ty2 -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="annot"><span class="hs-comment">-- | The side-effect of evaluating a function.</span></span><span>
</span><span id="line-411"></span><span class="hs-keyword">data</span><span> </span><span id="Effect"><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Traverse"><span class="annot"><a href="Gibbon.L2.Syntax.html#Traverse"><span class="hs-identifier hs-var">Traverse</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span>
</span><span id="line-412"></span><span>              </span><span class="hs-comment">-- ^ The function, during its execution, traverses all</span><span>
</span><span id="line-413"></span><span>              </span><span class="hs-comment">-- of the value living at this location.</span><span>
</span><span id="line-414"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915763"><span id="local-6989586621680915766"><span id="local-6989586621680915769"><span id="local-6989586621680915775"><span class="annot"><span class="annottext">ReadPrec [Effect]
ReadPrec Effect
Int -&gt; ReadS Effect
ReadS [Effect]
(Int -&gt; ReadS Effect)
-&gt; ReadS [Effect]
-&gt; ReadPrec Effect
-&gt; ReadPrec [Effect]
-&gt; Read Effect
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Effect
readsPrec :: Int -&gt; ReadS Effect
$creadList :: ReadS [Effect]
readList :: ReadS [Effect]
$creadPrec :: ReadPrec Effect
readPrec :: ReadPrec Effect
$creadListPrec :: ReadPrec [Effect]
readListPrec :: ReadPrec [Effect]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915778"><span id="local-6989586621680915782"><span id="local-6989586621680915785"><span class="annot"><span class="annottext">Int -&gt; Effect -&gt; ShowS
[Effect] -&gt; ShowS
Effect -&gt; String
(Int -&gt; Effect -&gt; ShowS)
-&gt; (Effect -&gt; String) -&gt; ([Effect] -&gt; ShowS) -&gt; Show Effect
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Effect -&gt; ShowS
showsPrec :: Int -&gt; Effect -&gt; ShowS
$cshow :: Effect -&gt; String
show :: Effect -&gt; String
$cshowList :: [Effect] -&gt; ShowS
showList :: [Effect] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915788"><span id="local-6989586621680915791"><span class="annot"><span class="annottext">Effect -&gt; Effect -&gt; Bool
(Effect -&gt; Effect -&gt; Bool)
-&gt; (Effect -&gt; Effect -&gt; Bool) -&gt; Eq Effect
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Effect -&gt; Effect -&gt; Bool
== :: Effect -&gt; Effect -&gt; Bool
$c/= :: Effect -&gt; Effect -&gt; Bool
/= :: Effect -&gt; Effect -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915796"><span id="local-6989586621680915799"><span id="local-6989586621680915802"><span id="local-6989586621680915805"><span id="local-6989586621680915808"><span id="local-6989586621680915811"><span id="local-6989586621680915814"><span class="annot"><span class="annottext">Eq Effect
Eq Effect
-&gt; (Effect -&gt; Effect -&gt; Ordering)
-&gt; (Effect -&gt; Effect -&gt; Bool)
-&gt; (Effect -&gt; Effect -&gt; Bool)
-&gt; (Effect -&gt; Effect -&gt; Bool)
-&gt; (Effect -&gt; Effect -&gt; Bool)
-&gt; (Effect -&gt; Effect -&gt; Effect)
-&gt; (Effect -&gt; Effect -&gt; Effect)
-&gt; Ord Effect
Effect -&gt; Effect -&gt; Bool
Effect -&gt; Effect -&gt; Ordering
Effect -&gt; Effect -&gt; Effect
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Effect -&gt; Effect -&gt; Ordering
compare :: Effect -&gt; Effect -&gt; Ordering
$c&lt; :: Effect -&gt; Effect -&gt; Bool
&lt; :: Effect -&gt; Effect -&gt; Bool
$c&lt;= :: Effect -&gt; Effect -&gt; Bool
&lt;= :: Effect -&gt; Effect -&gt; Bool
$c&gt; :: Effect -&gt; Effect -&gt; Bool
&gt; :: Effect -&gt; Effect -&gt; Bool
$c&gt;= :: Effect -&gt; Effect -&gt; Bool
&gt;= :: Effect -&gt; Effect -&gt; Bool
$cmax :: Effect -&gt; Effect -&gt; Effect
max :: Effect -&gt; Effect -&gt; Effect
$cmin :: Effect -&gt; Effect -&gt; Effect
min :: Effect -&gt; Effect -&gt; Effect
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915817"><span id="local-6989586621680915819"><span class="annot"><span class="annottext">(forall x. Effect -&gt; Rep Effect x)
-&gt; (forall x. Rep Effect x -&gt; Effect) -&gt; Generic Effect
forall x. Rep Effect x -&gt; Effect
forall x. Effect -&gt; Rep Effect x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Effect -&gt; Rep Effect x
from :: forall x. Effect -&gt; Rep Effect x
$cto :: forall x. Rep Effect x -&gt; Effect
to :: forall x. Rep Effect x -&gt; Effect
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680915822"><span class="annot"><span class="annottext">Effect -&gt; ()
(Effect -&gt; ()) -&gt; NFData Effect
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: Effect -&gt; ()
rnf :: Effect -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-417"></span><span class="hs-comment">--</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- See https://github.com/iu-parfunc/gibbon/issues/79 for more details</span><span>
</span><span id="line-419"></span><span class="annot"><span class="hs-comment">-- | Region variants (multiplicities)</span></span><span>
</span><span id="line-420"></span><span class="hs-keyword">data</span><span> </span><span id="Multiplicity"><span class="annot"><a href="Gibbon.L2.Syntax.html#Multiplicity"><span class="hs-identifier hs-var">Multiplicity</span></a></span></span><span>
</span><span id="line-421"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Bounded"><span class="annot"><a href="Gibbon.L2.Syntax.html#Bounded"><span class="hs-identifier hs-var">Bounded</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-comment">-- ^ Contain a finite number of values and can be</span><span>
</span><span id="line-422"></span><span>                  </span><span class="hs-comment">--   stack-allocated.</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Infinite"><span class="annot"><a href="Gibbon.L2.Syntax.html#Infinite"><span class="hs-identifier hs-var">Infinite</span></a></span></span><span>    </span><span class="hs-comment">-- ^ Consist of a linked list of buffers, spread</span><span>
</span><span id="line-425"></span><span>                  </span><span class="hs-comment">--   throughout memory (though possible constrained</span><span>
</span><span id="line-426"></span><span>                  </span><span class="hs-comment">--   to 4GB regions). Writing into these regions requires</span><span>
</span><span id="line-427"></span><span>                  </span><span class="hs-comment">--   bounds-checking. The buffers can start very small</span><span>
</span><span id="line-428"></span><span>                  </span><span class="hs-comment">--   at the head of the list, but probably grow</span><span>
</span><span id="line-429"></span><span>                  </span><span class="hs-comment">--   geometrically in size, making the cost of traversing</span><span>
</span><span id="line-430"></span><span>                  </span><span class="hs-comment">--   all of them logarithmic.</span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="BigInfinite"><span class="annot"><a href="Gibbon.L2.Syntax.html#BigInfinite"><span class="hs-identifier hs-var">BigInfinite</span></a></span></span><span> </span><span class="hs-comment">-- ^ These regions are infinite, but also have the</span><span>
</span><span id="line-433"></span><span>                  </span><span class="hs-comment">--   expectation of containing many values. Thus we give</span><span>
</span><span id="line-434"></span><span>                  </span><span class="hs-comment">--   them large initial page sizes. This is also could be</span><span>
</span><span id="line-435"></span><span>                  </span><span class="hs-comment">--   the appropriate place to use mmap to grow the region</span><span>
</span><span id="line-436"></span><span>                  </span><span class="hs-comment">--   and to establish guard places.</span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915835"><span id="local-6989586621680915839"><span id="local-6989586621680915842"><span id="local-6989586621680915850"><span class="annot"><span class="annottext">ReadPrec [Multiplicity]
ReadPrec Multiplicity
Int -&gt; ReadS Multiplicity
ReadS [Multiplicity]
(Int -&gt; ReadS Multiplicity)
-&gt; ReadS [Multiplicity]
-&gt; ReadPrec Multiplicity
-&gt; ReadPrec [Multiplicity]
-&gt; Read Multiplicity
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Multiplicity
readsPrec :: Int -&gt; ReadS Multiplicity
$creadList :: ReadS [Multiplicity]
readList :: ReadS [Multiplicity]
$creadPrec :: ReadPrec Multiplicity
readPrec :: ReadPrec Multiplicity
$creadListPrec :: ReadPrec [Multiplicity]
readListPrec :: ReadPrec [Multiplicity]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915853"><span id="local-6989586621680915857"><span id="local-6989586621680915861"><span class="annot"><span class="annottext">Int -&gt; Multiplicity -&gt; ShowS
[Multiplicity] -&gt; ShowS
Multiplicity -&gt; String
(Int -&gt; Multiplicity -&gt; ShowS)
-&gt; (Multiplicity -&gt; String)
-&gt; ([Multiplicity] -&gt; ShowS)
-&gt; Show Multiplicity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Multiplicity -&gt; ShowS
showsPrec :: Int -&gt; Multiplicity -&gt; ShowS
$cshow :: Multiplicity -&gt; String
show :: Multiplicity -&gt; String
$cshowList :: [Multiplicity] -&gt; ShowS
showList :: [Multiplicity] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915864"><span id="local-6989586621680915867"><span class="annot"><span class="annottext">Multiplicity -&gt; Multiplicity -&gt; Bool
(Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool) -&gt; Eq Multiplicity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Multiplicity -&gt; Multiplicity -&gt; Bool
== :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c/= :: Multiplicity -&gt; Multiplicity -&gt; Bool
/= :: Multiplicity -&gt; Multiplicity -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915873"><span id="local-6989586621680915876"><span id="local-6989586621680915879"><span id="local-6989586621680915883"><span id="local-6989586621680915886"><span id="local-6989586621680915889"><span id="local-6989586621680915892"><span class="annot"><span class="annottext">Eq Multiplicity
Eq Multiplicity
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Ordering)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Bool)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Multiplicity)
-&gt; (Multiplicity -&gt; Multiplicity -&gt; Multiplicity)
-&gt; Ord Multiplicity
Multiplicity -&gt; Multiplicity -&gt; Bool
Multiplicity -&gt; Multiplicity -&gt; Ordering
Multiplicity -&gt; Multiplicity -&gt; Multiplicity
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Multiplicity -&gt; Multiplicity -&gt; Ordering
compare :: Multiplicity -&gt; Multiplicity -&gt; Ordering
$c&lt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
&lt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c&lt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
&lt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c&gt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
&gt; :: Multiplicity -&gt; Multiplicity -&gt; Bool
$c&gt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
&gt;= :: Multiplicity -&gt; Multiplicity -&gt; Bool
$cmax :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
max :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
$cmin :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
min :: Multiplicity -&gt; Multiplicity -&gt; Multiplicity
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915895"><span id="local-6989586621680915897"><span class="annot"><span class="annottext">(forall x. Multiplicity -&gt; Rep Multiplicity x)
-&gt; (forall x. Rep Multiplicity x -&gt; Multiplicity)
-&gt; Generic Multiplicity
forall x. Rep Multiplicity x -&gt; Multiplicity
forall x. Multiplicity -&gt; Rep Multiplicity x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Multiplicity -&gt; Rep Multiplicity x
from :: forall x. Multiplicity -&gt; Rep Multiplicity x
$cto :: forall x. Rep Multiplicity x -&gt; Multiplicity
to :: forall x. Rep Multiplicity x -&gt; Multiplicity
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680915900"><span id="local-6989586621680915908"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Multiplicity"><span class="hs-identifier hs-type">Multiplicity</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-440"></span><span>  </span><span id="local-6989586621680915937"><span class="annot"><span class="annottext">doc :: Multiplicity -&gt; Doc
</span><a href="#local-6989586621680915937"><span class="hs-identifier hs-var hs-var hs-var hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/pretty-1.1.3.6/src/Text.PrettyPrint.HughesPJ.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Doc) -&gt; (Multiplicity -&gt; String) -&gt; Multiplicity -&gt; Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Multiplicity -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Multiplicity"><span class="hs-identifier hs-type">Multiplicity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>  </span><span id="local-6989586621680915944"><span class="annot"><span class="annottext">rnf :: Multiplicity -&gt; ()
</span><a href="#local-6989586621680915944"><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="annot"><span class="hs-comment">-- | An abstract region identifier.  This is used inside type signatures and elsewhere.</span></span><span>
</span><span id="line-446"></span><span class="hs-keyword">data</span><span> </span><span id="Region"><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-var">Region</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="GlobR"><span class="annot"><a href="Gibbon.L2.Syntax.html#GlobR"><span class="hs-identifier hs-var">GlobR</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Multiplicity"><span class="hs-identifier hs-type">Multiplicity</span></a></span><span> </span><span class="hs-comment">-- ^ A global region with lifetime equal to the</span><span>
</span><span id="line-447"></span><span>                                     </span><span class="hs-comment">--   whole program.</span><span>
</span><span id="line-448"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span id="DynR"><span class="annot"><a href="Gibbon.L2.Syntax.html#DynR"><span class="hs-identifier hs-var">DynR</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Multiplicity"><span class="hs-identifier hs-type">Multiplicity</span></a></span><span>  </span><span class="hs-comment">-- ^ A dynamic region that may be created or</span><span>
</span><span id="line-449"></span><span>                                     </span><span class="hs-comment">--   destroyed, tagged by an identifier.</span><span>
</span><span id="line-450"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span id="VarR"><span class="annot"><a href="Gibbon.L2.Syntax.html#VarR"><span class="hs-identifier hs-var">VarR</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>               </span><span class="hs-comment">-- ^ A region metavariable that can range over</span><span>
</span><span id="line-451"></span><span>                                     </span><span class="hs-comment">--   either global or dynamic regions.</span><span>
</span><span id="line-452"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span id="MMapR"><span class="annot"><a href="Gibbon.L2.Syntax.html#MMapR"><span class="hs-identifier hs-var">MMapR</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>              </span><span class="hs-comment">-- ^ A region that doesn't result in an (explicit)</span><span>
</span><span id="line-453"></span><span>                                     </span><span class="hs-comment">--   memory allocation. It merely ensures that there</span><span>
</span><span id="line-454"></span><span>                                     </span><span class="hs-comment">--   are no free locations in the program.</span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680915951"><span id="local-6989586621680915954"><span id="local-6989586621680915957"><span id="local-6989586621680915979"><span class="annot"><span class="annottext">ReadPrec [Region]
ReadPrec Region
Int -&gt; ReadS Region
ReadS [Region]
(Int -&gt; ReadS Region)
-&gt; ReadS [Region]
-&gt; ReadPrec Region
-&gt; ReadPrec [Region]
-&gt; Read Region
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Region
readsPrec :: Int -&gt; ReadS Region
$creadList :: ReadS [Region]
readList :: ReadS [Region]
$creadPrec :: ReadPrec Region
readPrec :: ReadPrec Region
$creadListPrec :: ReadPrec [Region]
readListPrec :: ReadPrec [Region]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680915982"><span id="local-6989586621680915994"><span id="local-6989586621680915997"><span class="annot"><span class="annottext">Int -&gt; Region -&gt; ShowS
[Region] -&gt; ShowS
Region -&gt; String
(Int -&gt; Region -&gt; ShowS)
-&gt; (Region -&gt; String) -&gt; ([Region] -&gt; ShowS) -&gt; Show Region
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Region -&gt; ShowS
showsPrec :: Int -&gt; Region -&gt; ShowS
$cshow :: Region -&gt; String
show :: Region -&gt; String
$cshowList :: [Region] -&gt; ShowS
showList :: [Region] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916000"><span id="local-6989586621680916008"><span class="annot"><span class="annottext">Region -&gt; Region -&gt; Bool
(Region -&gt; Region -&gt; Bool)
-&gt; (Region -&gt; Region -&gt; Bool) -&gt; Eq Region
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Region -&gt; Region -&gt; Bool
== :: Region -&gt; Region -&gt; Bool
$c/= :: Region -&gt; Region -&gt; Bool
/= :: Region -&gt; Region -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916013"><span id="local-6989586621680916021"><span id="local-6989586621680916024"><span id="local-6989586621680916027"><span id="local-6989586621680916030"><span id="local-6989586621680916033"><span id="local-6989586621680916036"><span class="annot"><span class="annottext">Eq Region
Eq Region
-&gt; (Region -&gt; Region -&gt; Ordering)
-&gt; (Region -&gt; Region -&gt; Bool)
-&gt; (Region -&gt; Region -&gt; Bool)
-&gt; (Region -&gt; Region -&gt; Bool)
-&gt; (Region -&gt; Region -&gt; Bool)
-&gt; (Region -&gt; Region -&gt; Region)
-&gt; (Region -&gt; Region -&gt; Region)
-&gt; Ord Region
Region -&gt; Region -&gt; Bool
Region -&gt; Region -&gt; Ordering
Region -&gt; Region -&gt; Region
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Region -&gt; Region -&gt; Ordering
compare :: Region -&gt; Region -&gt; Ordering
$c&lt; :: Region -&gt; Region -&gt; Bool
&lt; :: Region -&gt; Region -&gt; Bool
$c&lt;= :: Region -&gt; Region -&gt; Bool
&lt;= :: Region -&gt; Region -&gt; Bool
$c&gt; :: Region -&gt; Region -&gt; Bool
&gt; :: Region -&gt; Region -&gt; Bool
$c&gt;= :: Region -&gt; Region -&gt; Bool
&gt;= :: Region -&gt; Region -&gt; Bool
$cmax :: Region -&gt; Region -&gt; Region
max :: Region -&gt; Region -&gt; Region
$cmin :: Region -&gt; Region -&gt; Region
min :: Region -&gt; Region -&gt; Region
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680916039"><span id="local-6989586621680916041"><span class="annot"><span class="annottext">(forall x. Region -&gt; Rep Region x)
-&gt; (forall x. Rep Region x -&gt; Region) -&gt; Generic Region
forall x. Rep Region x -&gt; Region
forall x. Region -&gt; Rep Region x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Region -&gt; Rep Region x
from :: forall x. Region -&gt; Rep Region x
$cto :: forall x. Rep Region x -&gt; Region
to :: forall x. Rep Region x -&gt; Region
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680916044"><span id="local-6989586621680916051"><span id="local-6989586621680916057"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span></span></span></span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-460"></span><span>  </span><span id="local-6989586621680916131"><span class="annot"><span class="annottext">rnf :: Region -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#GlobR"><span class="hs-identifier hs-type">GlobR</span></a></span><span> </span><span id="local-6989586621680916132"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916132"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916132"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-461"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#DynR"><span class="hs-identifier hs-type">DynR</span></a></span><span> </span><span id="local-6989586621680916133"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916133"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916133"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-462"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#VarR"><span class="hs-identifier hs-type">VarR</span></a></span><span> </span><span id="local-6989586621680916134"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916134"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916134"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-463"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#MMapR"><span class="hs-identifier hs-type">MMapR</span></a></span><span> </span><span id="local-6989586621680916135"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916135"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916135"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-comment">-- | The modality of locations and cursors: input/output, for reading</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- and writing, respectively.</span><span>
</span><span id="line-468"></span><span class="hs-keyword">data</span><span> </span><span id="Modality"><span class="annot"><a href="Gibbon.L2.Syntax.html#Modality"><span class="hs-identifier hs-var">Modality</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Input"><span class="annot"><a href="Gibbon.L2.Syntax.html#Input"><span class="hs-identifier hs-var">Input</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Output"><span class="annot"><a href="Gibbon.L2.Syntax.html#Output"><span class="hs-identifier hs-var">Output</span></a></span></span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680916139"><span id="local-6989586621680916143"><span id="local-6989586621680916146"><span id="local-6989586621680916150"><span class="annot"><span class="annottext">ReadPrec [Modality]
ReadPrec Modality
Int -&gt; ReadS Modality
ReadS [Modality]
(Int -&gt; ReadS Modality)
-&gt; ReadS [Modality]
-&gt; ReadPrec Modality
-&gt; ReadPrec [Modality]
-&gt; Read Modality
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Modality
readsPrec :: Int -&gt; ReadS Modality
$creadList :: ReadS [Modality]
readList :: ReadS [Modality]
$creadPrec :: ReadPrec Modality
readPrec :: ReadPrec Modality
$creadListPrec :: ReadPrec [Modality]
readListPrec :: ReadPrec [Modality]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916153"><span id="local-6989586621680916155"><span id="local-6989586621680916159"><span class="annot"><span class="annottext">Int -&gt; Modality -&gt; ShowS
[Modality] -&gt; ShowS
Modality -&gt; String
(Int -&gt; Modality -&gt; ShowS)
-&gt; (Modality -&gt; String) -&gt; ([Modality] -&gt; ShowS) -&gt; Show Modality
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Modality -&gt; ShowS
showsPrec :: Int -&gt; Modality -&gt; ShowS
$cshow :: Modality -&gt; String
show :: Modality -&gt; String
$cshowList :: [Modality] -&gt; ShowS
showList :: [Modality] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916162"><span id="local-6989586621680916164"><span class="annot"><span class="annottext">Modality -&gt; Modality -&gt; Bool
(Modality -&gt; Modality -&gt; Bool)
-&gt; (Modality -&gt; Modality -&gt; Bool) -&gt; Eq Modality
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Modality -&gt; Modality -&gt; Bool
== :: Modality -&gt; Modality -&gt; Bool
$c/= :: Modality -&gt; Modality -&gt; Bool
/= :: Modality -&gt; Modality -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916170"><span id="local-6989586621680916172"><span id="local-6989586621680916174"><span id="local-6989586621680916178"><span id="local-6989586621680916181"><span id="local-6989586621680916184"><span id="local-6989586621680916187"><span class="annot"><span class="annottext">Eq Modality
Eq Modality
-&gt; (Modality -&gt; Modality -&gt; Ordering)
-&gt; (Modality -&gt; Modality -&gt; Bool)
-&gt; (Modality -&gt; Modality -&gt; Bool)
-&gt; (Modality -&gt; Modality -&gt; Bool)
-&gt; (Modality -&gt; Modality -&gt; Bool)
-&gt; (Modality -&gt; Modality -&gt; Modality)
-&gt; (Modality -&gt; Modality -&gt; Modality)
-&gt; Ord Modality
Modality -&gt; Modality -&gt; Bool
Modality -&gt; Modality -&gt; Ordering
Modality -&gt; Modality -&gt; Modality
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Modality -&gt; Modality -&gt; Ordering
compare :: Modality -&gt; Modality -&gt; Ordering
$c&lt; :: Modality -&gt; Modality -&gt; Bool
&lt; :: Modality -&gt; Modality -&gt; Bool
$c&lt;= :: Modality -&gt; Modality -&gt; Bool
&lt;= :: Modality -&gt; Modality -&gt; Bool
$c&gt; :: Modality -&gt; Modality -&gt; Bool
&gt; :: Modality -&gt; Modality -&gt; Bool
$c&gt;= :: Modality -&gt; Modality -&gt; Bool
&gt;= :: Modality -&gt; Modality -&gt; Bool
$cmax :: Modality -&gt; Modality -&gt; Modality
max :: Modality -&gt; Modality -&gt; Modality
$cmin :: Modality -&gt; Modality -&gt; Modality
min :: Modality -&gt; Modality -&gt; Modality
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680916190"><span id="local-6989586621680916192"><span class="annot"><span class="annottext">(forall x. Modality -&gt; Rep Modality x)
-&gt; (forall x. Rep Modality x -&gt; Modality) -&gt; Generic Modality
forall x. Rep Modality x -&gt; Modality
forall x. Modality -&gt; Rep Modality x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. Modality -&gt; Rep Modality x
from :: forall x. Modality -&gt; Rep Modality x
$cto :: forall x. Rep Modality x -&gt; Modality
to :: forall x. Rep Modality x -&gt; Modality
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680916195"><span id="local-6989586621680916202"><span id="local-6989586621680916208"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Modality"><span class="hs-identifier hs-type">Modality</span></a></span></span></span></span><span>
</span><span id="line-471"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Modality"><span class="hs-identifier hs-type">Modality</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>  </span><span id="local-6989586621680916240"><span class="annot"><span class="annottext">rnf :: Modality -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Gibbon.L2.Syntax.html#Input"><span class="hs-identifier hs-var">Input</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Gibbon.L2.Syntax.html#Output"><span class="hs-identifier hs-var">Output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="annot"><span class="hs-comment">-- | A location and region, together with modality.</span></span><span>
</span><span id="line-476"></span><span class="hs-keyword">data</span><span> </span><span id="LRM"><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-var">LRM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LRM"><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-var">LRM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="lrmLoc"><span class="annot"><span class="annottext">LRM -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#lrmLoc"><span class="hs-identifier hs-var hs-var">lrmLoc</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span>
</span><span id="line-477"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="lrmReg"><span class="annot"><span class="annottext">LRM -&gt; Region
</span><a href="Gibbon.L2.Syntax.html#lrmReg"><span class="hs-identifier hs-var hs-var">lrmReg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span><span>
</span><span id="line-478"></span><span>               </span><span class="hs-special">,</span><span> </span><span id="lrmMode"><span class="annot"><span class="annottext">LRM -&gt; Modality
</span><a href="Gibbon.L2.Syntax.html#lrmMode"><span class="hs-identifier hs-var hs-var">lrmMode</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Modality"><span class="hs-identifier hs-type">Modality</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680916246"><span id="local-6989586621680916249"><span id="local-6989586621680916252"><span id="local-6989586621680916266"><span class="annot"><span class="annottext">ReadPrec [LRM]
ReadPrec LRM
Int -&gt; ReadS LRM
ReadS [LRM]
(Int -&gt; ReadS LRM)
-&gt; ReadS [LRM] -&gt; ReadPrec LRM -&gt; ReadPrec [LRM] -&gt; Read LRM
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS LRM
readsPrec :: Int -&gt; ReadS LRM
$creadList :: ReadS [LRM]
readList :: ReadS [LRM]
$creadPrec :: ReadPrec LRM
readPrec :: ReadPrec LRM
$creadListPrec :: ReadPrec [LRM]
readListPrec :: ReadPrec [LRM]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916269"><span id="local-6989586621680916275"><span id="local-6989586621680916278"><span class="annot"><span class="annottext">Int -&gt; LRM -&gt; ShowS
[LRM] -&gt; ShowS
LRM -&gt; String
(Int -&gt; LRM -&gt; ShowS)
-&gt; (LRM -&gt; String) -&gt; ([LRM] -&gt; ShowS) -&gt; Show LRM
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LRM -&gt; ShowS
showsPrec :: Int -&gt; LRM -&gt; ShowS
$cshow :: LRM -&gt; String
show :: LRM -&gt; String
$cshowList :: [LRM] -&gt; ShowS
showList :: [LRM] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916281"><span id="local-6989586621680916286"><span class="annot"><span class="annottext">LRM -&gt; LRM -&gt; Bool
(LRM -&gt; LRM -&gt; Bool) -&gt; (LRM -&gt; LRM -&gt; Bool) -&gt; Eq LRM
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LRM -&gt; LRM -&gt; Bool
== :: LRM -&gt; LRM -&gt; Bool
$c/= :: LRM -&gt; LRM -&gt; Bool
/= :: LRM -&gt; LRM -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621680916291"><span id="local-6989586621680916296"><span id="local-6989586621680916301"><span id="local-6989586621680916304"><span id="local-6989586621680916307"><span id="local-6989586621680916310"><span id="local-6989586621680916313"><span class="annot"><span class="annottext">Eq LRM
Eq LRM
-&gt; (LRM -&gt; LRM -&gt; Ordering)
-&gt; (LRM -&gt; LRM -&gt; Bool)
-&gt; (LRM -&gt; LRM -&gt; Bool)
-&gt; (LRM -&gt; LRM -&gt; Bool)
-&gt; (LRM -&gt; LRM -&gt; Bool)
-&gt; (LRM -&gt; LRM -&gt; LRM)
-&gt; (LRM -&gt; LRM -&gt; LRM)
-&gt; Ord LRM
LRM -&gt; LRM -&gt; Bool
LRM -&gt; LRM -&gt; Ordering
LRM -&gt; LRM -&gt; LRM
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: LRM -&gt; LRM -&gt; Ordering
compare :: LRM -&gt; LRM -&gt; Ordering
$c&lt; :: LRM -&gt; LRM -&gt; Bool
&lt; :: LRM -&gt; LRM -&gt; Bool
$c&lt;= :: LRM -&gt; LRM -&gt; Bool
&lt;= :: LRM -&gt; LRM -&gt; Bool
$c&gt; :: LRM -&gt; LRM -&gt; Bool
&gt; :: LRM -&gt; LRM -&gt; Bool
$c&gt;= :: LRM -&gt; LRM -&gt; Bool
&gt;= :: LRM -&gt; LRM -&gt; Bool
$cmax :: LRM -&gt; LRM -&gt; LRM
max :: LRM -&gt; LRM -&gt; LRM
$cmin :: LRM -&gt; LRM -&gt; LRM
min :: LRM -&gt; LRM -&gt; LRM
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680916316"><span id="local-6989586621680916318"><span class="annot"><span class="annottext">(forall x. LRM -&gt; Rep LRM x)
-&gt; (forall x. Rep LRM x -&gt; LRM) -&gt; Generic LRM
forall x. Rep LRM x -&gt; LRM
forall x. LRM -&gt; Rep LRM x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. LRM -&gt; Rep LRM x
from :: forall x. LRM -&gt; Rep LRM x
$cto :: forall x. Rep LRM x -&gt; LRM
to :: forall x. Rep LRM x -&gt; LRM
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680916321"><span id="local-6989586621680916328"><span id="local-6989586621680916334"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span></span></span></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-484"></span><span>  </span><span id="local-6989586621680916413"><span class="annot"><span class="annottext">rnf :: LRM -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span id="local-6989586621680916414"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916414"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680916415"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680916415"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680916416"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680916416"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916414"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Prim.html#seq"><span class="hs-operator hs-var">`seq`</span></a></span><span> </span><span class="annot"><span class="annottext">Region -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680916415"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Prim.html#seq"><span class="hs-operator hs-var">`seq`</span></a></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680916416"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span class="annot"><span class="hs-comment">-- | A designated doesn't-really-exist-anywhere location.</span></span><span>
</span><span id="line-487"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#dummyLRM"><span class="hs-identifier hs-type">dummyLRM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span>
</span><span id="line-488"></span><span id="dummyLRM"><span class="annot"><span class="annottext">dummyLRM :: LRM
</span><a href="Gibbon.L2.Syntax.html#dummyLRM"><span class="hs-identifier hs-var hs-var">dummyLRM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Region -&gt; Modality -&gt; LRM
</span><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-var">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-string">&quot;l_dummy&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Region
</span><a href="Gibbon.L2.Syntax.html#VarR"><span class="hs-identifier hs-var">VarR</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-string">&quot;r_dummy&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Gibbon.L2.Syntax.html#Input"><span class="hs-identifier hs-var">Input</span></a></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-type">regionToVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Region"><span class="hs-identifier hs-type">Region</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-491"></span><span id="regionToVar"><span class="annot"><span class="annottext">regionToVar :: Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var hs-var">regionToVar</span></a></span></span><span> </span><span id="local-6989586621680916420"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680916420"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680916420"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-492"></span><span>                  </span><span class="annot"><a href="Gibbon.L2.Syntax.html#GlobR"><span class="hs-identifier hs-type">GlobR</span></a></span><span> </span><span id="local-6989586621680916421"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916421"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916421"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-493"></span><span>                  </span><span class="annot"><a href="Gibbon.L2.Syntax.html#DynR"><span class="hs-identifier hs-type">DynR</span></a></span><span>  </span><span id="local-6989586621680916422"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916422"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Multiplicity
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916422"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-494"></span><span>                  </span><span class="annot"><a href="Gibbon.L2.Syntax.html#VarR"><span class="hs-identifier hs-type">VarR</span></a></span><span>  </span><span id="local-6989586621680916423"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916423"><span class="hs-identifier hs-var">v</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916423"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-495"></span><span>                  </span><span class="annot"><a href="Gibbon.L2.Syntax.html#MMapR"><span class="hs-identifier hs-type">MMapR</span></a></span><span> </span><span id="local-6989586621680916424"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916424"><span class="hs-identifier hs-var">v</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916424"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="hs-comment">-- | The 'gRecoverType' instance defined in Language.Syntax is incorrect for L2.</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- For the AppE case, it'll just return the type with with the function was</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- defined. However, we want the recovered type to have the locations actually</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- used at the callsites! For example,</span><span>
</span><span id="line-502"></span><span class="hs-comment">--</span><span>
</span><span id="line-503"></span><span class="hs-comment">--     add1 :: Tree @ a -&gt; Tree @ b</span><span>
</span><span id="line-504"></span><span class="hs-comment">--     add1 = _</span><span>
</span><span id="line-505"></span><span class="hs-comment">--</span><span>
</span><span id="line-506"></span><span class="hs-comment">--     ... (add1 [loc1, loc2] tr1) ..</span><span>
</span><span id="line-507"></span><span class="hs-comment">--</span><span>
</span><span id="line-508"></span><span class="hs-comment">-- in this case, we want the type of (add1 tr1) to be (Tree @ loc2)</span><span>
</span><span id="line-509"></span><span class="hs-comment">-- and NOT (Tree @ b). We have to do something similar for variables bound by</span><span>
</span><span id="line-510"></span><span class="hs-comment">-- a pattern match.</span><span>
</span><span id="line-511"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-512"></span><span>  </span><span id="local-6989586621680916487"><span class="annot"><span class="annottext">gRecoverType :: DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var hs-var hs-var hs-var">gRecoverType</span></a></span></span><span> </span><span id="local-6989586621680916488"><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span></span><span> </span><span id="local-6989586621680916489"><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span id="local-6989586621680916490"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916490"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-513"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916490"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-514"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680916492"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916492"><span class="hs-identifier hs-var">v</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; Var -&gt; TyEnv Ty2 -&gt; Ty2
forall k a. Ord k =&gt; a -&gt; k -&gt; Map k a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#findWithDefault"><span class="hs-identifier hs-var">M.findWithDefault</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Ty2
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Ty2) -&gt; String -&gt; Ty2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot find type of variable &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916492"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; in &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">TyEnv Ty2 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env2 Ty2 -&gt; TyEnv Ty2
forall a. Env2 a -&gt; TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var">vEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916492"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env2 Ty2 -&gt; TyEnv Ty2
forall a. Env2 a -&gt; TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var">vEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-515"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
Ty2
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>
</span><span id="line-516"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
Ty2
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span>
</span><span id="line-517"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
Ty2
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span><span>
</span><span id="line-518"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
Ty2
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymTy"><span class="hs-identifier hs-var">SymTy</span></a></span><span>
</span><span id="line-519"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680916502"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916502"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680916503"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916503"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680916504"><span class="annot"><span class="annottext">fnty :: ArrowTy2 Ty2
</span><a href="#local-6989586621680916504"><span class="hs-identifier hs-var hs-var">fnty</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Env2 Ty2 -&gt; TyEnv (ArrowTy Ty2)
forall a. Env2 a -&gt; TyEnv (ArrowTy a)
</span><a href="Gibbon.Language.Syntax.html#fEnv"><span class="hs-identifier hs-var">fEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var (ArrowTy2 Ty2) -&gt; Var -&gt; ArrowTy2 Ty2
forall a b.
(Ord a, Out a, Out b, Show a, HasCallStack) =&gt;
Map a b -&gt; a -&gt; b
</span><a href="Gibbon.Common.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916502"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-520"></span><span>                           </span><span id="local-6989586621680916507"><span class="annot"><span class="annottext">outty :: Ty2
</span><a href="#local-6989586621680916507"><span class="hs-identifier hs-var hs-var">outty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArrowTy2 Ty2 -&gt; Ty2
forall ty2. ArrowTy2 ty2 -&gt; ty2
</span><a href="Gibbon.L2.Syntax.html#arrOut"><span class="hs-identifier hs-var">arrOut</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 Ty2
</span><a href="#local-6989586621680916504"><span class="hs-identifier hs-var">fnty</span></a></span><span>
</span><span id="line-521"></span><span>                           </span><span id="local-6989586621680916508"><span class="annot"><span class="annottext">mp :: Map Var Var
</span><a href="#local-6989586621680916508"><span class="hs-identifier hs-var hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; Map Var Var
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Var, Var)] -&gt; Map Var Var) -&gt; [(Var, Var)] -&gt; Map Var Var
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [(Var, Var)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 Ty2 -&gt; [Var]
forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#allLocVars"><span class="hs-identifier hs-var">allLocVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 Ty2
</span><a href="#local-6989586621680916504"><span class="hs-identifier hs-var">fnty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916503"><span class="hs-identifier hs-var">locs</span></a></span><span>
</span><span id="line-522"></span><span>                       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map Var Var -&gt; Ty2 -&gt; Ty2
</span><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier hs-var">substLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680916508"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916507"><span class="hs-identifier hs-var">outty</span></a></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DictInsertP"><span class="hs-identifier hs-type">DictInsertP</span></a></span><span> </span><span id="local-6989586621680916512"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916512"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680916513"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916513"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; UrTy () -&gt; Ty2
forall loc. Maybe Var -&gt; UrTy () -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Maybe Var
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916513"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(UrTy () -&gt; Ty2) -&gt; UrTy () -&gt; Ty2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916512"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-525"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DictEmptyP"><span class="hs-identifier hs-type">DictEmptyP</span></a></span><span>  </span><span id="local-6989586621680916517"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916517"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680916518"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916518"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; UrTy () -&gt; Ty2
forall loc. Maybe Var -&gt; UrTy () -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Maybe Var
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916518"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(UrTy () -&gt; Ty2) -&gt; UrTy () -&gt; Ty2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916517"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-526"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span id="local-6989586621680916519"><span class="annot"><span class="annottext">Prim Ty2
</span><a href="#local-6989586621680916519"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prim Ty2 -&gt; Ty2
forall a. Prim (UrTy a) -&gt; UrTy a
</span><a href="Gibbon.Language.html#primRetTy"><span class="hs-identifier hs-var">primRetTy</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty2
</span><a href="#local-6989586621680916519"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680916522"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916522"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680916523"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916523"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680916524"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916524"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Ty2 -&gt; Env2 Ty2 -&gt; Env2 Ty2
forall a. Var -&gt; a -&gt; Env2 a -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#extendVEnv"><span class="hs-identifier hs-var">extendVEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916522"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916523"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916524"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-529"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680916527"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916527"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916527"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-530"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680916529"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680916529"><span class="hs-identifier hs-var">es</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Ty2] -&gt; Ty2
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="annot"><span class="annottext">([Ty2] -&gt; Ty2) -&gt; [Ty2] -&gt; Ty2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Ty2) -&gt; [PreExp E2Ext Var Ty2] -&gt; [Ty2]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680916529"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-531"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span id="local-6989586621680916531"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916531"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680916532"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680916532"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Var -&gt; Ty2
forall loc. String -&gt; loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DDefs Ty2 -&gt; ShowS
forall a. Out a =&gt; DDefs a -&gt; ShowS
</span><a href="Gibbon.Language.Syntax.html#getTyOfDataCon"><span class="hs-identifier hs-var">getTyOfDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
DDefs Ty2
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680916532"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916531"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-532"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680916535"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916535"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916535"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-533"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Ty2, PreExp E2Ext Var Ty2)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680916537"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916537"><span class="hs-identifier hs-var">e</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916537"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-534"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Ty2, PreExp E2Ext Var Ty2)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(Var, Ty2, PreExp E2Ext Var Ty2)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680916539"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916539"><span class="hs-identifier hs-var">e</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916539"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-535"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span id="local-6989586621680916541"><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680916541"><span class="hs-identifier hs-var">ext</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (E2Ext Var Ty2))
-&gt; Env2 (TyOf (E2Ext Var Ty2))
-&gt; E2Ext Var Ty2
-&gt; TyOf (E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
DDefs (TyOf (E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 (TyOf (E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680916541"><span class="hs-identifier hs-var">ext</span></a></span><span>
</span><span id="line-536"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span id="local-6989586621680916543"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680916543"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680916544"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916544"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-537"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916544"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-538"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-type">ProdTy</span></a></span><span> </span><span id="local-6989586621680916545"><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680916545"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680916545"><span class="hs-identifier hs-var">tys</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty2] -&gt; Int -&gt; Ty2
forall a. HasCallStack =&gt; [a] -&gt; Int -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#%21%21"><span class="hs-operator hs-var">!!</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680916543"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-539"></span><span>          </span><span id="local-6989586621680916547"><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
</span><a href="#local-6989586621680916547"><span class="hs-identifier hs-var">oth</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; TyOf (PreExp E2Ext Var Ty2)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; TyOf (PreExp E2Ext Var Ty2))
-&gt; String -&gt; TyOf (PreExp E2Ext Var Ty2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;typeExp: Cannot project fields from this type: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Ty2 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
Ty2
</span><a href="#local-6989586621680916547"><span class="hs-identifier hs-var">oth</span></a></span><span>
</span><span id="line-540"></span><span>                        </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nExpression:\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; String
forall a. Out a =&gt; a -&gt; String
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916490"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-541"></span><span>                        </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nEnvironment:\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">TyEnv Ty2 -&gt; String
forall a. Out a =&gt; a -&gt; String
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env2 Ty2 -&gt; TyEnv Ty2
forall a. Env2 a -&gt; TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var">vEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-542"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span id="local-6989586621680916549"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916549"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680916550"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916550"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680916551"><span class="annot"><span class="annottext">fnty :: ArrowTy2 Ty2
</span><a href="#local-6989586621680916551"><span class="hs-identifier hs-var hs-var">fnty</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Env2 Ty2 -&gt; TyEnv (ArrowTy Ty2)
forall a. Env2 a -&gt; TyEnv (ArrowTy a)
</span><a href="Gibbon.Language.Syntax.html#fEnv"><span class="hs-identifier hs-var">fEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var (ArrowTy2 Ty2) -&gt; Var -&gt; ArrowTy2 Ty2
forall a b.
(Ord a, Out a, Out b, Show a, HasCallStack) =&gt;
Map a b -&gt; a -&gt; b
</span><a href="Gibbon.Common.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916549"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-543"></span><span>                             </span><span id="local-6989586621680916552"><span class="annot"><span class="annottext">outty :: Ty2
</span><a href="#local-6989586621680916552"><span class="hs-identifier hs-var hs-var">outty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArrowTy2 Ty2 -&gt; Ty2
forall ty2. ArrowTy2 ty2 -&gt; ty2
</span><a href="Gibbon.L2.Syntax.html#arrOut"><span class="hs-identifier hs-var">arrOut</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 Ty2
</span><a href="#local-6989586621680916551"><span class="hs-identifier hs-var">fnty</span></a></span><span>
</span><span id="line-544"></span><span>                             </span><span id="local-6989586621680916553"><span class="annot"><span class="annottext">mp :: Map Var Var
</span><a href="#local-6989586621680916553"><span class="hs-identifier hs-var hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; Map Var Var
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Var, Var)] -&gt; Map Var Var) -&gt; [(Var, Var)] -&gt; Map Var Var
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [(Var, Var)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 Ty2 -&gt; [Var]
forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#allLocVars"><span class="hs-identifier hs-var">allLocVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 Ty2
</span><a href="#local-6989586621680916551"><span class="hs-identifier hs-var">fnty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916550"><span class="hs-identifier hs-var">locs</span></a></span><span>
</span><span id="line-545"></span><span>                         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map Var Var -&gt; Ty2 -&gt; Ty2
</span><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier hs-var">substLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680916553"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680916552"><span class="hs-identifier hs-var">outty</span></a></span><span>
</span><span id="line-546"></span><span>      </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
Ty2
forall loc. UrTy loc
</span><a href="Gibbon.Language.html#voidTy"><span class="hs-identifier hs-var">voidTy</span></a></span><span>
</span><span id="line-547"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span id="local-6989586621680916557"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680916557"><span class="hs-identifier hs-var">_v</span></a></span></span><span> </span><span id="local-6989586621680916558"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916558"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916558"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-548"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680916560"><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680916560"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-549"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680916561"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680916561"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680916562"><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680916562"><span class="hs-identifier hs-var">vlocs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680916563"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916563"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
-&gt; (String, [(Var, Var)], PreExp E2Ext Var Ty2)
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680916560"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-550"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621680916565"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916565"><span class="hs-identifier hs-var">vars</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680916566"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916566"><span class="hs-identifier hs-var">locs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; ([Var], [Var])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680916562"><span class="hs-identifier hs-var">vlocs</span></a></span><span>
</span><span id="line-551"></span><span>            </span><span id="local-6989586621680916568"><span class="annot"><span class="annottext">env2' :: Env2 Ty2
</span><a href="#local-6989586621680916568"><span class="hs-identifier hs-var hs-var">env2'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt;
String -&gt; DDefs Ty2 -&gt; [Var] -&gt; [Var] -&gt; Env2 Ty2 -&gt; Env2 Ty2
String -&gt; DDefs Ty2 -&gt; [Var] -&gt; [Var] -&gt; Env2 Ty2 -&gt; Env2 Ty2
</span><a href="Gibbon.L2.Syntax.html#extendPatternMatchEnv"><span class="hs-identifier hs-var">extendPatternMatchEnv</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680916561"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
DDefs Ty2
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916565"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680916566"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916489"><span class="hs-identifier hs-var">env2</span></a></span><span>
</span><span id="line-552"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
-&gt; Env2 (TyOf (PreExp E2Ext Var Ty2))
-&gt; PreExp E2Ext Var Ty2
-&gt; TyOf (PreExp E2Ext Var Ty2)
forall e.
Typeable e =&gt;
DDefs (TyOf e) -&gt; Env2 (TyOf e) -&gt; e -&gt; TyOf e
</span><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-var">gRecoverType</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680916488"><span class="hs-identifier hs-var">ddfs</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 (TyOf (PreExp E2Ext Var Ty2))
Env2 Ty2
</span><a href="#local-6989586621680916568"><span class="hs-identifier hs-var">env2'</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680916563"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- Do this manually to get prettier formatting: (Issue #90)</span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680916570"><span id="local-6989586621680916576"><span id="local-6989586621680916582"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680916716"><span id="local-6989586621680916722"><span id="local-6989586621680916728"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span></span></span></span><span>
</span><span id="line-560"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680914031"><span id="local-6989586621680916768"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914031"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914031"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-561"></span><span>  </span><span id="local-6989586621680916771"><span class="annot"><span class="annottext">docPrec :: Int -&gt; Set a -&gt; Doc
</span><a href="#local-6989586621680916771"><span class="hs-identifier hs-var hs-var hs-var hs-var">docPrec</span></a></span></span><span> </span><span id="local-6989586621680916773"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680916773"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680916774"><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621680916774"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [a] -&gt; Doc
forall a. Out a =&gt; Int -&gt; a -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#docPrec"><span class="hs-identifier hs-var">docPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680916773"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set a -&gt; [a]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">S.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621680916774"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-562"></span><span>  </span><span id="local-6989586621680916777"><span class="annot"><span class="annottext">doc :: Set a -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#doc"><span class="hs-identifier hs-var hs-var hs-var hs-var">doc</span></a></span></span><span> </span><span id="local-6989586621680916778"><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621680916778"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Doc
forall a. Out a =&gt; a -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#doc"><span class="hs-identifier hs-var">doc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set a -&gt; [a]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">S.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621680916778"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680913886"><span id="local-6989586621680913887"><span id="local-6989586621680916782"><span id="local-6989586621680916788"><span id="local-6989586621680916794"><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913886"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913887"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913886"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680913887"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-564"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680914039"><span id="local-6989586621680917073"><span id="local-6989586621680917079"><span id="local-6989586621680917085"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914039"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#PreLocExp"><span class="hs-identifier hs-type">PreLocExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914039"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-565"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680917192"><span id="local-6989586621680917198"><span id="local-6989586621680917204"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LocRet"><span class="hs-identifier hs-type">LocRet</span></a></span></span></span></span><span>
</span><span id="line-566"></span><span>
</span><span id="line-567"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="annot"><span class="hs-comment">-- | Retrieve all LocVars from a fn type (Arrow)</span></span><span>
</span><span id="line-570"></span><span id="local-6989586621680914018"><span class="annot"><a href="Gibbon.L2.Syntax.html#allLocVars"><span class="hs-identifier hs-type">allLocVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914018"><span class="hs-identifier hs-type">ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-571"></span><span id="allLocVars"><span class="annot"><span class="annottext">allLocVars :: forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#allLocVars"><span class="hs-identifier hs-var hs-var">allLocVars</span></a></span></span><span> </span><span id="local-6989586621680917240"><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917240"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRM -&gt; Var) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span id="local-6989586621680917241"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917241"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917241"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; [LRM]
forall ty2. ArrowTy2 ty2 -&gt; [LRM]
</span><a href="Gibbon.L2.Syntax.html#locVars"><span class="hs-identifier hs-var">locVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917240"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span id="local-6989586621680917242"><span class="annot"><a href="Gibbon.L2.Syntax.html#inLocVars"><span class="hs-identifier hs-type">inLocVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680917242"><span class="hs-identifier hs-type">ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-574"></span><span id="inLocVars"><span class="annot"><span class="annottext">inLocVars :: forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#inLocVars"><span class="hs-identifier hs-var hs-var">inLocVars</span></a></span></span><span> </span><span id="local-6989586621680917244"><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917244"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRM -&gt; Var) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span id="local-6989586621680917245"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917245"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917245"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([LRM] -&gt; [Var]) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-575"></span><span>               </span><span class="annot"><span class="annottext">(LRM -&gt; Bool) -&gt; [LRM] -&gt; [LRM]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">L.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917246"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917246"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917246"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; Modality -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Gibbon.L2.Syntax.html#Input"><span class="hs-identifier hs-var">Input</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; [LRM]
forall ty2. ArrowTy2 ty2 -&gt; [LRM]
</span><a href="Gibbon.L2.Syntax.html#locVars"><span class="hs-identifier hs-var">locVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917244"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span id="local-6989586621680917247"><span class="annot"><a href="Gibbon.L2.Syntax.html#outLocVars"><span class="hs-identifier hs-type">outLocVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680917247"><span class="hs-identifier hs-type">ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-578"></span><span id="outLocVars"><span class="annot"><span class="annottext">outLocVars :: forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#outLocVars"><span class="hs-identifier hs-var hs-var">outLocVars</span></a></span></span><span> </span><span id="local-6989586621680917249"><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917249"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRM -&gt; Var) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span id="local-6989586621680917250"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917250"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917250"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([LRM] -&gt; [Var]) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-579"></span><span>                </span><span class="annot"><span class="annottext">(LRM -&gt; Bool) -&gt; [LRM] -&gt; [LRM]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">L.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917251"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917251"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917251"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; Modality -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Gibbon.L2.Syntax.html#Output"><span class="hs-identifier hs-var">Output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; [LRM]
forall ty2. ArrowTy2 ty2 -&gt; [LRM]
</span><a href="Gibbon.L2.Syntax.html#locVars"><span class="hs-identifier hs-var">locVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917249"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span id="local-6989586621680917252"><span class="annot"><a href="Gibbon.L2.Syntax.html#outRegVars"><span class="hs-identifier hs-type">outRegVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680917252"><span class="hs-identifier hs-type">ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-582"></span><span id="outRegVars"><span class="annot"><span class="annottext">outRegVars :: forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#outRegVars"><span class="hs-identifier hs-var hs-var">outRegVars</span></a></span></span><span> </span><span id="local-6989586621680917254"><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917254"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LRM -&gt; Var) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917255"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917255"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917255"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([LRM] -&gt; [Var]) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-583"></span><span>                </span><span class="annot"><span class="annottext">(LRM -&gt; Bool) -&gt; [LRM] -&gt; [LRM]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">L.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917256"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917256"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917256"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; Modality -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Gibbon.L2.Syntax.html#Output"><span class="hs-identifier hs-var">Output</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; [LRM]
forall ty2. ArrowTy2 ty2 -&gt; [LRM]
</span><a href="Gibbon.L2.Syntax.html#locVars"><span class="hs-identifier hs-var">locVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917254"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span id="local-6989586621680917257"><span class="annot"><a href="Gibbon.L2.Syntax.html#inRegVars"><span class="hs-identifier hs-type">inRegVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680917257"><span class="hs-identifier hs-type">ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-586"></span><span id="inRegVars"><span class="annot"><span class="annottext">inRegVars :: forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#inRegVars"><span class="hs-identifier hs-var hs-var">inRegVars</span></a></span></span><span> </span><span id="local-6989586621680917260"><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917260"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.OldList.html#nub"><span class="hs-identifier hs-var">L.nub</span></a></span><span> </span><span class="annot"><span class="annottext">([Var] -&gt; [Var]) -&gt; [Var] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LRM -&gt; Var) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917262"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917262"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917262"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([LRM] -&gt; [Var]) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-587"></span><span>               </span><span class="annot"><span class="annottext">(LRM -&gt; Bool) -&gt; [LRM] -&gt; [LRM]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">L.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917263"><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917263"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="#local-6989586621680917263"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Modality -&gt; Modality -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Modality
</span><a href="Gibbon.L2.Syntax.html#Input"><span class="hs-identifier hs-var">Input</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; [LRM]
forall ty2. ArrowTy2 ty2 -&gt; [LRM]
</span><a href="Gibbon.L2.Syntax.html#locVars"><span class="hs-identifier hs-var">locVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917260"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span id="local-6989586621680917264"><span class="annot"><a href="Gibbon.L2.Syntax.html#allRegVars"><span class="hs-identifier hs-type">allRegVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#ArrowTy2"><span class="hs-identifier hs-type">ArrowTy2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680917264"><span class="hs-identifier hs-type">ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-590"></span><span id="allRegVars"><span class="annot"><span class="annottext">allRegVars :: forall ty2. ArrowTy2 ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#allRegVars"><span class="hs-identifier hs-var hs-var">allRegVars</span></a></span></span><span> </span><span id="local-6989586621680917266"><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917266"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.OldList.html#nub"><span class="hs-identifier hs-var">L.nub</span></a></span><span> </span><span class="annot"><span class="annottext">([Var] -&gt; [Var]) -&gt; [Var] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LRM -&gt; Var) -&gt; [LRM] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#LRM"><span class="hs-identifier hs-type">LRM</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917267"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917267"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Modality
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917267"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 ty2 -&gt; [LRM]
forall ty2. ArrowTy2 ty2 -&gt; [LRM]
</span><a href="Gibbon.L2.Syntax.html#locVars"><span class="hs-identifier hs-var">locVars</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy2 ty2
</span><a href="#local-6989586621680917266"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="annot"><span class="hs-comment">-- | Apply a location substitution to a type.</span></span><span>
</span><span id="line-593"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier hs-type">substLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span>
</span><span id="line-594"></span><span id="substLoc"><span class="annot"><span class="annottext">substLoc :: Map Var Var -&gt; Ty2 -&gt; Ty2
</span><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier hs-var hs-var">substLoc</span></a></span></span><span> </span><span id="local-6989586621680917269"><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917269"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span id="local-6989586621680917270"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917270"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-595"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917270"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-596"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-type">SymDictTy</span></a></span><span> </span><span id="local-6989586621680917271"><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680917271"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917272"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680917272"><span class="hs-identifier hs-var">te</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; UrTy () -&gt; Ty2
forall loc. Maybe Var -&gt; UrTy () -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680917271"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680917272"><span class="hs-identifier hs-var">te</span></a></span><span> </span><span class="hs-comment">-- (go te)</span><span>
</span><span id="line-597"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-type">ProdTy</span></a></span><span>    </span><span id="local-6989586621680917273"><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917273"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Ty2] -&gt; Ty2
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Ty2 -&gt; Ty2) -&gt; [Ty2] -&gt; [Ty2]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; Ty2
</span><a href="#local-6989586621680917274"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917273"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-type">PackedTy</span></a></span><span> </span><span id="local-6989586621680917275"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917275"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680917276"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917276"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-599"></span><span>       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Map Var Var -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917276"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917269"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-600"></span><span>             </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680917277"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917277"><span class="hs-identifier hs-var">v</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Var -&gt; Ty2
forall loc. String -&gt; loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917275"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917277"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-601"></span><span>             </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Var -&gt; Ty2
forall loc. String -&gt; loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917275"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917276"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-602"></span><span>   </span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917270"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-603"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680917274"><span class="annot"><span class="annottext">go :: Ty2 -&gt; Ty2
</span><a href="#local-6989586621680917274"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Var Var -&gt; Ty2 -&gt; Ty2
</span><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier hs-var">substLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917269"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="annot"><span class="hs-comment">-- | List version of 'substLoc'.</span></span><span>
</span><span id="line-606"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#substLocs"><span class="hs-identifier hs-type">substLocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-607"></span><span id="substLocs"><span class="annot"><span class="annottext">substLocs :: Map Var Var -&gt; [Ty2] -&gt; [Ty2]
</span><a href="Gibbon.L2.Syntax.html#substLocs"><span class="hs-identifier hs-var hs-var">substLocs</span></a></span></span><span> </span><span id="local-6989586621680917278"><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917278"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span id="local-6989586621680917279"><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917279"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Ty2 -&gt; Ty2) -&gt; [Ty2] -&gt; [Ty2]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; Ty2 -&gt; Ty2
</span><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier hs-var">substLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917278"><span class="hs-identifier hs-var">mp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917279"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span class="hs-comment">-- | Extend an environment for a pattern match. E.g.</span><span>
</span><span id="line-610"></span><span class="hs-comment">--</span><span>
</span><span id="line-611"></span><span class="hs-comment">--     data Foo = MkFoo Int Foo | ...</span><span>
</span><span id="line-612"></span><span class="hs-comment">--</span><span>
</span><span id="line-613"></span><span class="hs-comment">--     case foo1 of</span><span>
</span><span id="line-614"></span><span class="hs-comment">--        MkFoo (i:loc1) (f:loc2) -&gt;</span><span>
</span><span id="line-615"></span><span class="hs-comment">--          new_env2 = extendPatternMatchEnv [loc1,loc2] old_env2</span><span>
</span><span id="line-616"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#extendPatternMatchEnv"><span class="hs-identifier hs-type">extendPatternMatchEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-617"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span>
</span><span id="line-618"></span><span id="extendPatternMatchEnv"><span class="annot"><span class="annottext">extendPatternMatchEnv :: HasCallStack =&gt;
String -&gt; DDefs Ty2 -&gt; [Var] -&gt; [Var] -&gt; Env2 Ty2 -&gt; Env2 Ty2
</span><a href="Gibbon.L2.Syntax.html#extendPatternMatchEnv"><span class="hs-identifier hs-var hs-var">extendPatternMatchEnv</span></a></span></span><span> </span><span id="local-6989586621680917299"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917299"><span class="hs-identifier hs-var">dcon</span></a></span></span><span> </span><span id="local-6989586621680917300"><span class="annot"><span class="annottext">DDefs Ty2
</span><a href="#local-6989586621680917300"><span class="hs-identifier hs-var">ddefs</span></a></span></span><span> </span><span id="local-6989586621680917301"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917301"><span class="hs-identifier hs-var">vars</span></a></span></span><span> </span><span id="local-6989586621680917302"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917302"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680917303"><span class="annot"><span class="annottext">Env2 Ty2
</span><a href="#local-6989586621680917303"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-619"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680917304"><span class="annot"><span class="annottext">tys :: [Ty2]
</span><a href="#local-6989586621680917304"><span class="hs-identifier hs-var hs-var">tys</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DDefs Ty2 -&gt; String -&gt; [Ty2]
forall a. Out a =&gt; DDefs a -&gt; String -&gt; [a]
</span><a href="Gibbon.Language.Syntax.html#lookupDataCon"><span class="hs-identifier hs-var">lookupDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs Ty2
</span><a href="#local-6989586621680917300"><span class="hs-identifier hs-var">ddefs</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917299"><span class="hs-identifier hs-var">dcon</span></a></span><span>
</span><span id="line-620"></span><span>      </span><span id="local-6989586621680917306"><span class="annot"><span class="annottext">tys' :: [Ty2]
</span><a href="#local-6989586621680917306"><span class="hs-identifier hs-var hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Var, Ty2) -&gt; [Ty2] -&gt; [Ty2]) -&gt; [Ty2] -&gt; [(Var, Ty2)] -&gt; [Ty2]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span>
</span><span id="line-621"></span><span>               </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680917308"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917308"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917309"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917309"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917310"><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917310"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-622"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#locsInTy"><span class="hs-identifier hs-var">locsInTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917309"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-623"></span><span>                    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917309"><span class="hs-identifier hs-var">ty</span></a></span><span class="annot"><span class="annottext">Ty2 -&gt; [Ty2] -&gt; [Ty2]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917310"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-624"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621680917311"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917311"><span class="hs-identifier hs-var">loc2</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var Var -&gt; Ty2 -&gt; Ty2
</span><a href="Gibbon.L2.Syntax.html#substLoc"><span class="hs-identifier hs-var">substLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var -&gt; Map Var Var
forall k a. k -&gt; a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#singleton"><span class="hs-identifier hs-var">M.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917311"><span class="hs-identifier hs-var">loc2</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917308"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917309"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; [Ty2] -&gt; [Ty2]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917310"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-625"></span><span>                    </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Ty2]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [Ty2]) -&gt; String -&gt; [Ty2]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;extendPatternMatchEnv': Found more than 1 location in type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; String
forall a. Out a =&gt; a -&gt; String
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917309"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>               </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-627"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Var] -&gt; [Ty2] -&gt; [(Var, Ty2)]
forall a b.
(Show a, Show b, HasCallStack) =&gt;
[a] -&gt; [b] -&gt; [(a, b)]
</span><a href="Gibbon.Common.html#fragileZip"><span class="hs-identifier hs-var">fragileZip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917302"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917304"><span class="hs-identifier hs-var">tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TyEnv Ty2 -&gt; Env2 Ty2 -&gt; Env2 Ty2
forall a. Map Var a -&gt; Env2 a -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#extendsVEnv"><span class="hs-identifier hs-var">extendsVEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, Ty2)] -&gt; TyEnv Ty2
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Var, Ty2)] -&gt; TyEnv Ty2) -&gt; [(Var, Ty2)] -&gt; TyEnv Ty2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Ty2] -&gt; [(Var, Ty2)]
forall a b.
(Show a, Show b, HasCallStack) =&gt;
[a] -&gt; [b] -&gt; [(a, b)]
</span><a href="Gibbon.Common.html#fragileZip"><span class="hs-identifier hs-var">fragileZip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917301"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917306"><span class="hs-identifier hs-var">tys'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Env2 Ty2
</span><a href="#local-6989586621680917303"><span class="hs-identifier hs-var">env2</span></a></span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span class="annot"><span class="hs-comment">-- | Apply a substitution to an effect.</span></span><span>
</span><span id="line-631"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#substEff"><span class="hs-identifier hs-type">substEff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span>
</span><span id="line-632"></span><span id="substEff"><span class="annot"><span class="annottext">substEff :: Map Var Var -&gt; Effect -&gt; Effect
</span><a href="Gibbon.L2.Syntax.html#substEff"><span class="hs-identifier hs-var hs-var">substEff</span></a></span></span><span> </span><span id="local-6989586621680917316"><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917316"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#Traverse"><span class="hs-identifier hs-type">Traverse</span></a></span><span> </span><span id="local-6989586621680917317"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917317"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-633"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Map Var Var -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917317"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917316"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-634"></span><span>      </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680917318"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917318"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Effect
</span><a href="Gibbon.L2.Syntax.html#Traverse"><span class="hs-identifier hs-var">Traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917318"><span class="hs-identifier hs-var">v2</span></a></span><span>
</span><span id="line-635"></span><span>      </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Effect
</span><a href="Gibbon.L2.Syntax.html#Traverse"><span class="hs-identifier hs-var">Traverse</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917317"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span class="annot"><span class="hs-comment">-- | Apply a substitution to an effect set.</span></span><span>
</span><span id="line-638"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#substEffs"><span class="hs-identifier hs-type">substEffs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span>
</span><span id="line-639"></span><span id="substEffs"><span class="annot"><span class="annottext">substEffs :: Map Var Var -&gt; Set Effect -&gt; Set Effect
</span><a href="Gibbon.L2.Syntax.html#substEffs"><span class="hs-identifier hs-var hs-var">substEffs</span></a></span></span><span> </span><span id="local-6989586621680917320"><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917320"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span id="local-6989586621680917321"><span class="annot"><span class="annottext">Set Effect
</span><a href="#local-6989586621680917321"><span class="hs-identifier hs-var">effs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-640"></span><span>    </span><span class="annot"><span class="annottext">(Effect -&gt; Effect) -&gt; Set Effect -&gt; Set Effect
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#map"><span class="hs-identifier hs-var">S.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680917323"><span class="annot"><span class="annottext">Effect
</span><a href="#local-6989586621680917323"><span class="hs-identifier hs-var">ef</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var Var -&gt; Effect -&gt; Effect
</span><a href="Gibbon.L2.Syntax.html#substEff"><span class="hs-identifier hs-var">substEff</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var Var
</span><a href="#local-6989586621680917320"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">Effect
</span><a href="#local-6989586621680917323"><span class="hs-identifier hs-var">ef</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set Effect
</span><a href="#local-6989586621680917321"><span class="hs-identifier hs-var">effs</span></a></span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span id="local-6989586621680914060"><span class="annot"><a href="Gibbon.L2.Syntax.html#dummyTyLocs"><span class="hs-identifier hs-type">dummyTyLocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914060"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680914060"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-643"></span><span id="dummyTyLocs"><span class="annot"><span class="annottext">dummyTyLocs :: forall (f :: * -&gt; *). Applicative f =&gt; UrTy () -&gt; f Ty2
</span><a href="Gibbon.L2.Syntax.html#dummyTyLocs"><span class="hs-identifier hs-var hs-var">dummyTyLocs</span></a></span></span><span> </span><span id="local-6989586621680917329"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680917329"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(() -&gt; f Var) -&gt; UrTy () -&gt; f Ty2
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; UrTy a -&gt; f (UrTy b)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f Var -&gt; () -&gt; f Var
forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; f Var
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Var
</span><a href="Gibbon.Common.html#toVar"><span class="hs-identifier hs-var">toVar</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dummy&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680917329"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span class="annot"><span class="hs-comment">-- | Collect all the locations mentioned in a type.</span></span><span>
</span><span id="line-646"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#locsInTy"><span class="hs-identifier hs-type">locsInTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-647"></span><span id="locsInTy"><span class="annot"><span class="annottext">locsInTy :: Ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#locsInTy"><span class="hs-identifier hs-var hs-var">locsInTy</span></a></span></span><span> </span><span id="local-6989586621680917334"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917334"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-648"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917334"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-649"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-type">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917335"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917335"><span class="hs-identifier hs-var">lv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917335"><span class="hs-identifier hs-var">lv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-650"></span><span>      </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-type">ProdTy</span></a></span><span> </span><span id="local-6989586621680917336"><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917336"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Ty2 -&gt; [Var]) -&gt; [Ty2] -&gt; [Var]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#concatMap"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#locsInTy"><span class="hs-identifier hs-var">locsInTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty2]
</span><a href="#local-6989586621680917336"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-651"></span><span>      </span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="hs-comment">-- Because L2 just adds a bit of metadata and enriched types, it is</span><span>
</span><span id="line-654"></span><span class="hs-comment">-- possible to strip it back down to L1.</span><span>
</span><span id="line-655"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#revertToL1"><span class="hs-identifier hs-type">revertToL1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Prog2"><span class="hs-identifier hs-type">Prog2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Prog1"><span class="hs-identifier hs-type">Prog1</span></a></span><span>
</span><span id="line-656"></span><span id="revertToL1"><span class="annot"><span class="annottext">revertToL1 :: Prog2 -&gt; Prog1
</span><a href="Gibbon.L2.Syntax.html#revertToL1"><span class="hs-identifier hs-var hs-var">revertToL1</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span class="hs-special">{</span><span id="local-6989586621680917339"><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
ddefs :: DDefs (TyOf (PreExp E2Ext Var Ty2))
ddefs :: forall ex. Prog ex -&gt; DDefs (TyOf ex)
</span><a href="#local-6989586621680917339"><span class="hs-identifier hs-var hs-var">ddefs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917341"><span class="annot"><span class="annottext">FunDefs (PreExp E2Ext Var Ty2)
fundefs :: FunDefs (PreExp E2Ext Var Ty2)
fundefs :: forall ex. Prog ex -&gt; FunDefs ex
</span><a href="#local-6989586621680917341"><span class="hs-identifier hs-var hs-var">fundefs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917343"><span class="annot"><span class="annottext">Maybe (PreExp E2Ext Var Ty2, TyOf (PreExp E2Ext Var Ty2))
mainExp :: Maybe (PreExp E2Ext Var Ty2, TyOf (PreExp E2Ext Var Ty2))
mainExp :: forall ex. Prog ex -&gt; Maybe (ex, TyOf ex)
</span><a href="#local-6989586621680917343"><span class="hs-identifier hs-var hs-var">mainExp</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-657"></span><span>  </span><span class="annot"><span class="annottext">DDefs (TyOf Exp1)
-&gt; FunDefs Exp1 -&gt; Maybe (Exp1, TyOf Exp1) -&gt; Prog1
forall ex.
DDefs (TyOf ex) -&gt; FunDefs ex -&gt; Maybe (ex, TyOf ex) -&gt; Prog ex
</span><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-var">Prog</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf Exp1)
Map Var (DDef (UrTy ()))
</span><a href="#local-6989586621680917345"><span class="hs-identifier hs-var">ddefs'</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs Exp1
</span><a href="#local-6989586621680917346"><span class="hs-identifier hs-var">funefs'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp1, TyOf Exp1)
Maybe (Exp1, UrTy ())
</span><a href="#local-6989586621680917347"><span class="hs-identifier hs-var">mainExp'</span></a></span><span>
</span><span id="line-658"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-659"></span><span>    </span><span id="local-6989586621680917345"><span class="annot"><span class="annottext">ddefs' :: Map Var (DDef (UrTy ()))
</span><a href="#local-6989586621680917345"><span class="hs-identifier hs-var hs-var">ddefs'</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DDef Ty2 -&gt; DDef (UrTy ()))
-&gt; DDefs Ty2 -&gt; Map Var (DDef (UrTy ()))
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#map"><span class="hs-identifier hs-var">M.map</span></a></span><span> </span><span class="annot"><span class="annottext">DDef Ty2 -&gt; DDef (UrTy ())
</span><a href="Gibbon.L2.Syntax.html#revertDDef"><span class="hs-identifier hs-var">revertDDef</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf (PreExp E2Ext Var Ty2))
DDefs Ty2
</span><a href="#local-6989586621680917339"><span class="hs-identifier hs-var">ddefs</span></a></span><span>
</span><span id="line-660"></span><span>    </span><span id="local-6989586621680917346"><span class="annot"><span class="annottext">funefs' :: FunDefs Exp1
</span><a href="#local-6989586621680917346"><span class="hs-identifier hs-var hs-var">funefs'</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FunDef2 -&gt; FunDef1)
-&gt; FunDefs (PreExp E2Ext Var Ty2) -&gt; FunDefs Exp1
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#map"><span class="hs-identifier hs-var">M.map</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef2 -&gt; FunDef1
</span><a href="Gibbon.L2.Syntax.html#revertFunDef"><span class="hs-identifier hs-var">revertFunDef</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs (PreExp E2Ext Var Ty2)
</span><a href="#local-6989586621680917341"><span class="hs-identifier hs-var">fundefs</span></a></span><span>
</span><span id="line-661"></span><span>    </span><span id="local-6989586621680917347"><span class="annot"><span class="annottext">mainExp' :: Maybe (Exp1, UrTy ())
</span><a href="#local-6989586621680917347"><span class="hs-identifier hs-var hs-var">mainExp'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (PreExp E2Ext Var Ty2, TyOf (PreExp E2Ext Var Ty2))
</span><a href="#local-6989586621680917343"><span class="hs-identifier hs-var">mainExp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-662"></span><span>                </span><span class="annot"><span class="annottext">Maybe (PreExp E2Ext Var Ty2, TyOf (PreExp E2Ext Var Ty2))
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp1, UrTy ())
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-663"></span><span>                </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917351"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917351"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917352"><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
</span><a href="#local-6989586621680917352"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Exp1, UrTy ()) -&gt; Maybe (Exp1, UrTy ())
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917351"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">TyOf (PreExp E2Ext Var Ty2)
Ty2
</span><a href="#local-6989586621680917352"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span>
</span><span id="line-665"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#revertDDef"><span class="hs-identifier hs-type">revertDDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Ty1"><span class="hs-identifier hs-type">Ty1</span></a></span><span>
</span><span id="line-666"></span><span id="revertDDef"><span class="annot"><span class="annottext">revertDDef :: DDef Ty2 -&gt; DDef (UrTy ())
</span><a href="Gibbon.L2.Syntax.html#revertDDef"><span class="hs-identifier hs-var hs-var">revertDDef</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span id="local-6989586621680917356"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917356"><span class="hs-identifier hs-var">tyargs</span></a></span></span><span> </span><span id="local-6989586621680917357"><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680917357"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917358"><span class="annot"><span class="annottext">[(String, [(Bool, Ty2)])]
</span><a href="#local-6989586621680917358"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-667"></span><span>  </span><span class="annot"><span class="annottext">Var -&gt; [TyVar] -&gt; [(String, [(Bool, UrTy ())])] -&gt; DDef (UrTy ())
forall a. Var -&gt; [TyVar] -&gt; [(String, [(Bool, a)])] -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917356"><span class="hs-identifier hs-var">tyargs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680917357"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-668"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, [(Bool, UrTy ())]) -&gt; Bool)
-&gt; [(String, [(Bool, UrTy ())])] -&gt; [(String, [(Bool, UrTy ())])]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">L.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680917359"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917359"><span class="hs-identifier hs-var">dcon</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[(Bool, UrTy ())]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="Gibbon.Language.Constants.html#isIndirectionTag"><span class="hs-identifier hs-var">isIndirectionTag</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917359"><span class="hs-identifier hs-var">dcon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(String, [(Bool, UrTy ())])] -&gt; [(String, [(Bool, UrTy ())])])
-&gt; [(String, [(Bool, UrTy ())])] -&gt; [(String, [(Bool, UrTy ())])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-669"></span><span>         </span><span class="annot"><span class="annottext">((String, [(Bool, Ty2)]) -&gt; (String, [(Bool, UrTy ())]))
-&gt; [(String, [(Bool, Ty2)])] -&gt; [(String, [(Bool, UrTy ())])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680917362"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917362"><span class="hs-identifier hs-var">dcon</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917363"><span class="annot"><span class="annottext">[(Bool, Ty2)]
</span><a href="#local-6989586621680917363"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917362"><span class="hs-identifier hs-var">dcon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">((Bool, Ty2) -&gt; (Bool, UrTy ()))
-&gt; [(Bool, Ty2)] -&gt; [(Bool, UrTy ())]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680917364"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917364"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917365"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917365"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917364"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917365"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Bool, Ty2)]
</span><a href="#local-6989586621680917363"><span class="hs-identifier hs-var">tys</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, [(Bool, Ty2)])]
</span><a href="#local-6989586621680917358"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#revertFunDef"><span class="hs-identifier hs-type">revertFunDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FunDef2"><span class="hs-identifier hs-type">FunDef2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#FunDef1"><span class="hs-identifier hs-type">FunDef1</span></a></span><span>
</span><span id="line-672"></span><span id="revertFunDef"><span class="annot"><span class="annottext">revertFunDef :: FunDef2 -&gt; FunDef1
</span><a href="Gibbon.L2.Syntax.html#revertFunDef"><span class="hs-identifier hs-var hs-var">revertFunDef</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span class="hs-special">{</span><span id="local-6989586621680917367"><span class="annot"><span class="annottext">Var
funName :: Var
funName :: forall ex. FunDef ex -&gt; Var
</span><a href="#local-6989586621680917367"><span class="hs-identifier hs-var hs-var">funName</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917369"><span class="annot"><span class="annottext">[Var]
funArgs :: [Var]
funArgs :: forall ex. FunDef ex -&gt; [Var]
</span><a href="#local-6989586621680917369"><span class="hs-identifier hs-var hs-var">funArgs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917371"><span class="annot"><span class="annottext">ArrowTy (TyOf (PreExp E2Ext Var Ty2))
funTy :: ArrowTy (TyOf (PreExp E2Ext Var Ty2))
funTy :: forall ex. FunDef ex -&gt; ArrowTy (TyOf ex)
</span><a href="#local-6989586621680917371"><span class="hs-identifier hs-var hs-var">funTy</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917373"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
funBody :: PreExp E2Ext Var Ty2
funBody :: forall ex. FunDef ex -&gt; ex
</span><a href="#local-6989586621680917373"><span class="hs-identifier hs-var hs-var">funBody</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917375"><span class="annot"><span class="annottext">FunMeta
funMeta :: FunMeta
funMeta :: forall ex. FunDef ex -&gt; FunMeta
</span><a href="#local-6989586621680917375"><span class="hs-identifier hs-var hs-var">funMeta</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-673"></span><span>  </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funName :: Var
</span><a href="Gibbon.Language.Syntax.html#funName"><span class="hs-identifier hs-var">funName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917367"><span class="hs-identifier hs-var">funName</span></a></span><span>
</span><span id="line-674"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funArgs :: [Var]
</span><a href="Gibbon.Language.Syntax.html#funArgs"><span class="hs-identifier hs-var">funArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917369"><span class="hs-identifier hs-var">funArgs</span></a></span><span>
</span><span id="line-675"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funTy :: ArrowTy (TyOf Exp1)
</span><a href="Gibbon.Language.Syntax.html#funTy"><span class="hs-identifier hs-var">funTy</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Ty2 -&gt; UrTy ()) -&gt; [Ty2] -&gt; [UrTy ()]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 Ty2 -&gt; [Ty2]
forall ty2. ArrowTy2 ty2 -&gt; [ty2]
</span><a href="Gibbon.L2.Syntax.html#arrIns"><span class="hs-identifier hs-var">arrIns</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy (TyOf (PreExp E2Ext Var Ty2))
ArrowTy2 Ty2
</span><a href="#local-6989586621680917371"><span class="hs-identifier hs-var">funTy</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrowTy2 Ty2 -&gt; Ty2
forall ty2. ArrowTy2 ty2 -&gt; ty2
</span><a href="Gibbon.L2.Syntax.html#arrOut"><span class="hs-identifier hs-var">arrOut</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy (TyOf (PreExp E2Ext Var Ty2))
ArrowTy2 Ty2
</span><a href="#local-6989586621680917371"><span class="hs-identifier hs-var">funTy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funBody :: Exp1
</span><a href="Gibbon.Language.Syntax.html#funBody"><span class="hs-identifier hs-var">funBody</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917373"><span class="hs-identifier hs-var">funBody</span></a></span><span>
</span><span id="line-677"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funMeta :: FunMeta
</span><a href="Gibbon.Language.Syntax.html#funMeta"><span class="hs-identifier hs-var">funMeta</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunMeta
</span><a href="#local-6989586621680917375"><span class="hs-identifier hs-var">funMeta</span></a></span><span>
</span><span id="line-678"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-type">revertExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Exp1"><span class="hs-identifier hs-type">Exp1</span></a></span><span>
</span><span id="line-681"></span><span id="revertExp"><span class="annot"><span class="annottext">revertExp :: PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var hs-var">revertExp</span></a></span></span><span> </span><span id="local-6989586621680917402"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917402"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-682"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917402"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-683"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680917403"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917403"><span class="hs-identifier hs-var">v</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917403"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-684"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span> </span><span id="local-6989586621680917404"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680917404"><span class="hs-identifier hs-var">n</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Int -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680917404"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-685"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span> </span><span id="local-6989586621680917405"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680917405"><span class="hs-identifier hs-var">c</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Char -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-var">CharE</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680917405"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-686"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span> </span><span id="local-6989586621680917406"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680917406"><span class="hs-identifier hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Double -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-var">FloatE</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680917406"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-687"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span> </span><span id="local-6989586621680917407"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917407"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-var">LitSymE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917407"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-688"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680917408"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917408"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917409"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917409"><span class="hs-identifier hs-var">args</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917408"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Exp1) -&gt; [PreExp E2Ext Var Ty2] -&gt; [Exp1]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917409"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-689"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span id="local-6989586621680917410"><span class="annot"><span class="annottext">Prim Ty2
</span><a href="#local-6989586621680917410"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680917411"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917411"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prim (UrTy ()) -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Prim Ty2 -&gt; Prim (UrTy ())
</span><a href="#local-6989586621680917412"><span class="hs-identifier hs-var">revertPrim</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty2
</span><a href="#local-6989586621680917410"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Exp1] -&gt; Exp1) -&gt; [Exp1] -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Exp1) -&gt; [PreExp E2Ext Var Ty2] -&gt; [Exp1]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917411"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-690"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917413"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917413"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917414"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917414"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(Var, Var)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">(Var, Var)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917415"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917415"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917416"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917416"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-691"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-type">PackedTy</span></a></span><span> </span><span id="local-6989586621680917417"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917417"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917414"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-692"></span><span>          </span><span class="annot"><span class="annottext">(Var, [()], UrTy (), Exp1) -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917413"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917414"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Var
</span><a href="Gibbon.Language.Constants.html#mkCopyFunName"><span class="hs-identifier hs-var">mkCopyFunName</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917417"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917415"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917416"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917419"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917419"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917420"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917420"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917421"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917421"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917422"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917422"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-694"></span><span>      </span><span class="annot"><span class="annottext">(Var, [()], UrTy (), Exp1) -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917419"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917420"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917421"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917422"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span id="local-6989586621680917423"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917423"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917424"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917424"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680917425"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917425"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; Exp1 -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917423"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917424"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917425"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-696"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680917426"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917426"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp1] -&gt; Exp1) -&gt; [Exp1] -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Exp1) -&gt; [PreExp E2Ext Var Ty2] -&gt; [Exp1]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917426"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-697"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span id="local-6989586621680917427"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680917427"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680917428"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917428"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Int -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-var">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680917427"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917428"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-698"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680917429"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917429"><span class="hs-identifier hs-var">scrt</span></a></span></span><span> </span><span id="local-6989586621680917430"><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917430"><span class="hs-identifier hs-var">brs</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; [(String, [(Var, ())], Exp1)] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; [(String, [(Var, loc)], PreExp ext loc dec)]
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-var">CaseE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917429"><span class="hs-identifier hs-var">scrt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, [(Var, Var)], PreExp E2Ext Var Ty2)
 -&gt; (String, [(Var, ())], Exp1))
-&gt; [(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
-&gt; [(String, [(Var, ())], Exp1)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">(String, [(Var, Var)], PreExp E2Ext Var Ty2)
-&gt; (String, [(Var, ())], Exp1)
</span><a href="#local-6989586621680917431"><span class="hs-identifier hs-var">docase</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917430"><span class="hs-identifier hs-var">brs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-699"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917432"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917432"><span class="hs-identifier hs-var">dcon</span></a></span></span><span> </span><span id="local-6989586621680917433"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917433"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; String -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; String -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917432"><span class="hs-identifier hs-var">dcon</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp1] -&gt; Exp1) -&gt; [Exp1] -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Exp1) -&gt; [PreExp E2Ext Var Ty2] -&gt; [Exp1]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917433"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-700"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680917434"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917434"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680917435"><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917435"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680917436"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917436"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; UrTy () -&gt; Bool -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; dec -&gt; Bool -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917434"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><a href="#local-6989586621680917435"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917436"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-701"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span id="local-6989586621680917437"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917437"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917438"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917438"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917437"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Exp1) -&gt; [PreExp E2Ext Var Ty2] -&gt; [Exp1]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917438"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span>    </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span>
</span><span id="line-703"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span id="local-6989586621680917439"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917439"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917440"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917440"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-var">WithArenaE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917439"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917440"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-704"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span id="local-6989586621680917441"><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917441"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-705"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917441"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-706"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917442"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917442"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917442"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-707"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917443"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917443"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917443"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-708"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocExp
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917444"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917444"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917444"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-709"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span> </span><span id="local-6989586621680917445"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917445"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E1Ext () (UrTy ()) -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; E1Ext () (UrTy ())
forall loc dec. Var -&gt; E1Ext loc dec
</span><a href="Gibbon.L1.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-var">L1.StartOfPkdCursor</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917445"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-710"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span> </span><span id="local-6989586621680917446"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917446"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917447"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917447"><span class="hs-identifier hs-var">_b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E1Ext () (UrTy ()) -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; E1Ext () (UrTy ())
forall loc dec. Var -&gt; E1Ext loc dec
</span><a href="Gibbon.L1.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-var">L1.StartOfPkdCursor</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917446"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-711"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917448"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917448"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917448"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-712"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO AddFixed.&quot;</span></span><span>
</span><span id="line-713"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO FromEndLE&quot;</span></span><span>
</span><span id="line-714"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO BoundsCheck&quot;</span></span><span>
</span><span id="line-715"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO IndirectionE&quot;</span></span><span>
</span><span id="line-716"></span><span>        </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Int -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-717"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917449"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917449"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917449"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-718"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO AddFixed.&quot;</span></span><span>
</span><span id="line-719"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO AddFixed.&quot;</span></span><span>
</span><span id="line-720"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO SSPush.&quot;</span></span><span>
</span><span id="line-721"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO SSPop.&quot;</span></span><span>
</span><span id="line-722"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Exp1) -&gt; String -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO MapE&quot;</span></span><span>
</span><span id="line-723"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Exp1
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Exp1) -&gt; String -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;revertExp: TODO FoldE&quot;</span></span><span>
</span><span id="line-724"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-725"></span><span>    </span><span class="hs-comment">-- Ugh .. this is bad. Can we remove the identity cases here ?</span><span>
</span><span id="line-726"></span><span>    </span><span class="hs-comment">-- TODO: Get rid of this (and L3.toL3Prim) soon.</span><span>
</span><span id="line-727"></span><span>    </span><span class="annot"><a href="#local-6989586621680917412"><span class="hs-identifier hs-type">revertPrim</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prim"><span class="hs-identifier hs-type">Prim</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Ty2"><span class="hs-identifier hs-type">Ty2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prim"><span class="hs-identifier hs-type">Prim</span></a></span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Ty1"><span class="hs-identifier hs-type">Ty1</span></a></span><span>
</span><span id="line-728"></span><span>    </span><span id="local-6989586621680917412"><span class="annot"><span class="annottext">revertPrim :: Prim Ty2 -&gt; Prim (UrTy ())
</span><a href="#local-6989586621680917412"><span class="hs-identifier hs-var hs-var">revertPrim</span></a></span></span><span> </span><span id="local-6989586621680917450"><span class="annot"><span class="annottext">Prim Ty2
</span><a href="#local-6989586621680917450"><span class="hs-identifier hs-var">pr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Ty2 -&gt; UrTy ()) -&gt; Prim Ty2 -&gt; Prim (UrTy ())
forall a b. (a -&gt; b) -&gt; Prim a -&gt; Prim b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Ty2 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty2
</span><a href="#local-6989586621680917450"><span class="hs-identifier hs-var">pr</span></a></span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span>    </span><span class="annot"><a href="#local-6989586621680917431"><span class="hs-identifier hs-type">docase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Exp1"><span class="hs-identifier hs-type">Exp1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-731"></span><span>    </span><span id="local-6989586621680917431"><span class="annot"><span class="annottext">docase :: (String, [(Var, Var)], PreExp E2Ext Var Ty2)
-&gt; (String, [(Var, ())], Exp1)
</span><a href="#local-6989586621680917431"><span class="hs-identifier hs-var hs-var">docase</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917451"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917451"><span class="hs-identifier hs-var">dcon</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917452"><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917452"><span class="hs-identifier hs-var">vlocs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917453"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917453"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-732"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917454"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917454"><span class="hs-identifier hs-var">vars</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; ([Var], [Var])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917452"><span class="hs-identifier hs-var">vlocs</span></a></span><span>
</span><span id="line-733"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917451"><span class="hs-identifier hs-var">dcon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [()] -&gt; [(Var, ())]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917454"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; [()]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917453"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#docase"><span class="hs-identifier hs-type">docase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Exp1"><span class="hs-identifier hs-type">Exp1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-736"></span><span id="docase"><span class="annot"><span class="annottext">docase :: (String, [(Var, Var)], PreExp E2Ext Var Ty2)
-&gt; (String, [(Var, ())], Exp1)
</span><a href="Gibbon.L2.Syntax.html#docase"><span class="hs-identifier hs-var hs-var">docase</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917457"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917457"><span class="hs-identifier hs-var">dcon</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680917458"><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917458"><span class="hs-identifier hs-var">vlocs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680917459"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917459"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-737"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917460"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917460"><span class="hs-identifier hs-var">vars</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; ([Var], [Var])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917458"><span class="hs-identifier hs-var">vlocs</span></a></span><span>
</span><span id="line-738"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917457"><span class="hs-identifier hs-var">dcon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [()] -&gt; [(Var, ())]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917460"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; [()]
forall a. a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#repeat"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Exp1
</span><a href="Gibbon.L2.Syntax.html#revertExp"><span class="hs-identifier hs-var">revertExp</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917459"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-739"></span><span>
</span><span id="line-740"></span><span class="hs-comment">-- | Does a variable occur in an expression ?</span><span>
</span><span id="line-741"></span><span class="hs-comment">--</span><span>
</span><span id="line-742"></span><span class="hs-comment">-- N.B. it only looks for actual variables, not LocVar's or RegionVar's.</span><span>
</span><span id="line-743"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#occurs"><span class="hs-identifier hs-type">occurs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-744"></span><span id="occurs"><span class="annot"><span class="annottext">occurs :: Set Var -&gt; PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="Gibbon.L2.Syntax.html#occurs"><span class="hs-identifier hs-var hs-var">occurs</span></a></span></span><span> </span><span id="local-6989586621680917481"><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621680917482"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917482"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-745"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917482"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-746"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680917483"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917483"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917483"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-747"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-748"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-749"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-750"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-751"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917485"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917485"><span class="hs-identifier hs-var">ls</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Bool) -&gt; [PreExp E2Ext Var Ty2] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917485"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-752"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917488"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917488"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Bool) -&gt; [PreExp E2Ext Var Ty2] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917488"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-753"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917489"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917489"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917490"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917490"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917489"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917490"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-754"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span id="local-6989586621680917492"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917492"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917493"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917493"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680917494"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917494"><span class="hs-identifier hs-var">c</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917492"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917493"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917494"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-755"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680917495"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917495"><span class="hs-identifier hs-var">ls</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Bool) -&gt; [PreExp E2Ext Var Ty2] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917495"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-756"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917496"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917496"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917496"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-757"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680917497"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917497"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680917498"><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917498"><span class="hs-identifier hs-var">brs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917497"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">((String, [(Var, Var)], PreExp E2Ext Var Ty2) -&gt; Bool)
-&gt; [(String, [(Var, Var)], PreExp E2Ext Var Ty2)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[(Var, Var)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917499"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917499"><span class="hs-identifier hs-var">bod</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917499"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917498"><span class="hs-identifier hs-var">brs</span></a></span><span>
</span><span id="line-758"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917500"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917500"><span class="hs-identifier hs-var">ls</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Bool) -&gt; [PreExp E2Ext Var Ty2] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917500"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-759"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680917501"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917501"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917501"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-760"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917502"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917502"><span class="hs-identifier hs-var">ls</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Bool) -&gt; [PreExp E2Ext Var Ty2] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#any"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917502"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-761"></span><span>    </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-762"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span id="local-6989586621680917503"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917503"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917504"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917504"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917503"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917504"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-763"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span id="local-6989586621680917505"><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917505"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-764"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917505"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-765"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917506"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917506"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917506"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-766"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917507"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917507"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917507"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-767"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917508"><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917508"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span id="local-6989586621680917509"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917509"><span class="hs-identifier hs-var">bod</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-768"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680917510"><span class="annot"><span class="annottext">oc_bod :: Bool
</span><a href="#local-6989586621680917510"><span class="hs-identifier hs-var hs-var">oc_bod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917509"><span class="hs-identifier hs-var">bod</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-769"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917508"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-770"></span><span>            </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterVariableLE"><span class="hs-identifier hs-type">AfterVariableLE</span></a></span><span> </span><span id="local-6989586621680917511"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917511"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917511"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917510"><span class="hs-identifier hs-var">oc_bod</span></a></span><span>
</span><span id="line-771"></span><span>            </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfRegionLE"><span class="hs-identifier hs-type">StartOfRegionLE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917510"><span class="hs-identifier hs-var">oc_bod</span></a></span><span>
</span><span id="line-772"></span><span>            </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterConstantLE"><span class="hs-identifier hs-type">AfterConstantLE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917510"><span class="hs-identifier hs-var">oc_bod</span></a></span><span>
</span><span id="line-773"></span><span>            </span><span class="annot"><a href="Gibbon.L2.Syntax.html#InRegionLE"><span class="hs-identifier hs-type">InRegionLE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917510"><span class="hs-identifier hs-var">oc_bod</span></a></span><span>
</span><span id="line-774"></span><span>            </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FreeLE"><span class="hs-identifier hs-type">FreeLE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917510"><span class="hs-identifier hs-var">oc_bod</span></a></span><span>
</span><span id="line-775"></span><span>            </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndLE"><span class="hs-identifier hs-type">FromEndLE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917510"><span class="hs-identifier hs-var">oc_bod</span></a></span><span>
</span><span id="line-776"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span> </span><span id="local-6989586621680917512"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917512"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917512"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-777"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span> </span><span id="local-6989586621680917513"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917513"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917514"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917514"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917513"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917514"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-778"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917515"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917515"><span class="hs-identifier hs-var">v</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917515"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-779"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-780"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-781"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span> </span><span id="local-6989586621680917516"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917516"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917516"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-782"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917517"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917517"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917518"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917518"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917519"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917519"><span class="hs-identifier hs-var">ib</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-783"></span><span>          </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917517"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917518"><span class="hs-identifier hs-var">v2</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917519"><span class="hs-identifier hs-var">ib</span></a></span><span>
</span><span id="line-784"></span><span>        </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-785"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917520"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917520"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917520"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-786"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-787"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-788"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-789"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-790"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;occurs: TODO MapE&quot;</span></span><span>
</span><span id="line-791"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;occurs: TODO FoldE&quot;</span></span><span>
</span><span id="line-792"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-793"></span><span>    </span><span id="local-6989586621680917487"><span class="annot"><span class="annottext">go :: PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="#local-6989586621680917487"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; PreExp E2Ext Var Ty2 -&gt; Bool
</span><a href="Gibbon.L2.Syntax.html#occurs"><span class="hs-identifier hs-var">occurs</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680917481"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-794"></span><span>
</span><span id="line-795"></span><span>
</span><span id="line-796"></span><span id="local-6989586621680914107"><span class="annot"><a href="Gibbon.L2.Syntax.html#mapPacked"><span class="hs-identifier hs-type">mapPacked</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680914107"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914107"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914107"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914107"><span class="hs-identifier hs-type">l</span></a></span></span><span>
</span><span id="line-797"></span><span id="mapPacked"><span class="annot"><span class="annottext">mapPacked :: forall l. (Var -&gt; l -&gt; UrTy l) -&gt; UrTy l -&gt; UrTy l
</span><a href="Gibbon.L2.Syntax.html#mapPacked"><span class="hs-identifier hs-var hs-var">mapPacked</span></a></span></span><span> </span><span id="local-6989586621680917521"><span class="annot"><span class="annottext">Var -&gt; l -&gt; UrTy l
</span><a href="#local-6989586621680917521"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621680917522"><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917522"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917522"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-799"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>
</span><span id="line-800"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span>
</span><span id="line-801"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span><span>
</span><span id="line-802"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span><span>
</span><span id="line-803"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#SymTy"><span class="hs-identifier hs-var">SymTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymTy"><span class="hs-identifier hs-var">SymTy</span></a></span><span>
</span><span id="line-804"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-type">ProdTy</span></a></span><span> </span><span id="local-6989586621680917524"><span class="annot"><span class="annottext">[UrTy l]
</span><a href="#local-6989586621680917524"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[UrTy l] -&gt; UrTy l
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="annot"><span class="annottext">([UrTy l] -&gt; UrTy l) -&gt; [UrTy l] -&gt; UrTy l
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(UrTy l -&gt; UrTy l) -&gt; [UrTy l] -&gt; [UrTy l]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Var -&gt; l -&gt; UrTy l) -&gt; UrTy l -&gt; UrTy l
forall l. (Var -&gt; l -&gt; UrTy l) -&gt; UrTy l -&gt; UrTy l
</span><a href="Gibbon.L2.Syntax.html#mapPacked"><span class="hs-identifier hs-var">mapPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; l -&gt; UrTy l
</span><a href="#local-6989586621680917521"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UrTy l]
</span><a href="#local-6989586621680917524"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-805"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-type">SymDictTy</span></a></span><span> </span><span id="local-6989586621680917525"><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680917525"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917526"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680917526"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; UrTy () -&gt; UrTy l
forall loc. Maybe Var -&gt; UrTy () -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680917525"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680917526"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-806"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictTy"><span class="hs-identifier hs-type">PDictTy</span></a></span><span> </span><span id="local-6989586621680917528"><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917528"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680917529"><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917529"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l -&gt; UrTy l -&gt; UrTy l
forall loc. UrTy loc -&gt; UrTy loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PDictTy"><span class="hs-identifier hs-var">PDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917528"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917529"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-807"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-type">PackedTy</span></a></span><span> </span><span id="local-6989586621680917530"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917530"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680917531"><span class="annot"><span class="annottext">l
</span><a href="#local-6989586621680917531"><span class="hs-identifier hs-var">l</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; l -&gt; UrTy l
</span><a href="#local-6989586621680917521"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Var
</span><a href="Gibbon.Common.html#toVar"><span class="hs-identifier hs-var">toVar</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917530"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">l
</span><a href="#local-6989586621680917531"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-808"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#PtrTy"><span class="hs-identifier hs-var">PtrTy</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PtrTy"><span class="hs-identifier hs-var">PtrTy</span></a></span><span>
</span><span id="line-809"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#CursorTy"><span class="hs-identifier hs-var">CursorTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#CursorTy"><span class="hs-identifier hs-var">CursorTy</span></a></span><span>
</span><span id="line-810"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span><span>
</span><span id="line-811"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VectorTy"><span class="hs-identifier hs-type">VectorTy</span></a></span><span> </span><span id="local-6989586621680917535"><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917535"><span class="hs-identifier hs-var">elty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l -&gt; UrTy l
forall loc. UrTy loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917535"><span class="hs-identifier hs-var">elty</span></a></span><span>
</span><span id="line-812"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ListTy"><span class="hs-identifier hs-type">ListTy</span></a></span><span> </span><span id="local-6989586621680917537"><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917537"><span class="hs-identifier hs-var">elty</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l -&gt; UrTy l
forall loc. UrTy loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ListTy"><span class="hs-identifier hs-var">ListTy</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy l
</span><a href="#local-6989586621680917537"><span class="hs-identifier hs-var">elty</span></a></span><span>
</span><span id="line-813"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span><span>
</span><span id="line-814"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span><span>
</span><span id="line-815"></span><span>    </span><span class="annot"><span class="annottext">UrTy l
</span><a href="Gibbon.Language.Syntax.html#IntHashTy"><span class="hs-identifier hs-var">IntHashTy</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy l
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#IntHashTy"><span class="hs-identifier hs-var">IntHashTy</span></a></span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span id="local-6989586621680914109"><span id="local-6989586621680914110"><span class="annot"><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier hs-type">constPacked</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914109"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914110"><span class="hs-identifier hs-type">a2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914109"><span class="hs-identifier hs-type">a1</span></a></span></span></span><span>
</span><span id="line-818"></span><span id="constPacked"><span class="annot"><span class="annottext">constPacked :: forall a1 a2. UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
</span><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier hs-var hs-var">constPacked</span></a></span></span><span> </span><span id="local-6989586621680917541"><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680917542"><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917542"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-819"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917542"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-820"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>
</span><span id="line-821"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span>
</span><span id="line-822"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span><span>
</span><span id="line-823"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span><span>
</span><span id="line-824"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#SymTy"><span class="hs-identifier hs-var">SymTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymTy"><span class="hs-identifier hs-var">SymTy</span></a></span><span>
</span><span id="line-825"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-type">ProdTy</span></a></span><span> </span><span id="local-6989586621680917543"><span class="annot"><span class="annottext">[UrTy a2]
</span><a href="#local-6989586621680917543"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[UrTy a1] -&gt; UrTy a1
forall loc. [UrTy loc] -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="annot"><span class="annottext">([UrTy a1] -&gt; UrTy a1) -&gt; [UrTy a1] -&gt; UrTy a1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(UrTy a2 -&gt; UrTy a1) -&gt; [UrTy a2] -&gt; [UrTy a1]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
forall a1 a2. UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
</span><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier hs-var">constPacked</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UrTy a2]
</span><a href="#local-6989586621680917543"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-826"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-type">SymDictTy</span></a></span><span> </span><span id="local-6989586621680917544"><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680917544"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917545"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680917545"><span class="hs-identifier hs-var">_x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; UrTy () -&gt; UrTy a1
forall loc. Maybe Var -&gt; UrTy () -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680917544"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">(UrTy () -&gt; UrTy a1) -&gt; UrTy () -&gt; UrTy a1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy ()
forall a. UrTy a -&gt; UrTy ()
</span><a href="Gibbon.Language.html#stripTyLocs"><span class="hs-identifier hs-var">stripTyLocs</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-827"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictTy"><span class="hs-identifier hs-type">PDictTy</span></a></span><span> </span><span id="local-6989586621680917546"><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917546"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680917547"><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917547"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a1 -&gt; UrTy a1
forall loc. UrTy loc -&gt; UrTy loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PDictTy"><span class="hs-identifier hs-var">PDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
forall a1 a2. UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
</span><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier hs-var">constPacked</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917546"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
forall a1 a2. UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
</span><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier hs-var">constPacked</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917547"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-828"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-type">PackedTy</span></a></span><span> </span><span id="local-6989586621680917548"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917548"><span class="hs-identifier hs-var">_k</span></a></span></span><span> </span><span id="local-6989586621680917549"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621680917549"><span class="hs-identifier hs-var">_l</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-829"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#PtrTy"><span class="hs-identifier hs-var">PtrTy</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#PtrTy"><span class="hs-identifier hs-var">PtrTy</span></a></span><span>
</span><span id="line-830"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#CursorTy"><span class="hs-identifier hs-var">CursorTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#CursorTy"><span class="hs-identifier hs-var">CursorTy</span></a></span><span>
</span><span id="line-831"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span><span>
</span><span id="line-832"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VectorTy"><span class="hs-identifier hs-type">VectorTy</span></a></span><span> </span><span id="local-6989586621680917550"><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917550"><span class="hs-identifier hs-var">el_ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a1
forall loc. UrTy loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
forall a1 a2. UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
</span><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier hs-var">constPacked</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917550"><span class="hs-identifier hs-var">el_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-833"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ListTy"><span class="hs-identifier hs-type">ListTy</span></a></span><span> </span><span id="local-6989586621680917551"><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917551"><span class="hs-identifier hs-var">el_ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a1
forall loc. UrTy loc -&gt; UrTy loc
</span><a href="Gibbon.Language.Syntax.html#ListTy"><span class="hs-identifier hs-var">ListTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
forall a1 a2. UrTy a1 -&gt; UrTy a2 -&gt; UrTy a1
</span><a href="Gibbon.L2.Syntax.html#constPacked"><span class="hs-identifier hs-var">constPacked</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a1
</span><a href="#local-6989586621680917541"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="#local-6989586621680917551"><span class="hs-identifier hs-var">el_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-834"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span><span>
</span><span id="line-835"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span><span>
</span><span id="line-836"></span><span>    </span><span class="annot"><span class="annottext">UrTy a2
</span><a href="Gibbon.Language.Syntax.html#IntHashTy"><span class="hs-identifier hs-var">IntHashTy</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UrTy a1
forall loc. UrTy loc
</span><a href="Gibbon.Language.Syntax.html#IntHashTy"><span class="hs-identifier hs-var">IntHashTy</span></a></span><span>
</span><span id="line-837"></span><span>
</span><span id="line-838"></span><span class="annot"><span class="hs-comment">-- | Build a dependency list which can be later converted to a graph</span></span><span>
</span><span id="line-839"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#depList"><span class="hs-identifier hs-type">depList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-840"></span><span class="hs-comment">-- The helper function, go, works with a map rather than list so that all</span><span>
</span><span id="line-841"></span><span class="hs-comment">-- dependencies are properly grouped, without any duplicate keys. But we</span><span>
</span><span id="line-842"></span><span class="hs-comment">-- convert it back to a list so that we can hand it off to 'graphFromEdges'.</span><span>
</span><span id="line-843"></span><span class="hs-comment">-- Reversing the list makes it easy to peek at the return value of this AST later.</span><span>
</span><span id="line-844"></span><span id="depList"><span class="annot"><span class="annottext">depList :: PreExp E2Ext Var Ty2 -&gt; [(Var, Var, [Var])]
</span><a href="Gibbon.L2.Syntax.html#depList"><span class="hs-identifier hs-var hs-var">depList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Var, [Var]) -&gt; (Var, Var, [Var]))
-&gt; [(Var, [Var])] -&gt; [(Var, Var, [Var])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680917567"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917567"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917568"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917568"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917567"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917567"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917568"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Var, [Var])] -&gt; [(Var, Var, [Var])])
-&gt; (PreExp E2Ext Var Ty2 -&gt; [(Var, [Var])])
-&gt; PreExp E2Ext Var Ty2
-&gt; [(Var, Var, [Var])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; [(Var, [Var])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Var [Var] -&gt; [(Var, [Var])])
-&gt; (PreExp E2Ext Var Ty2 -&gt; Map Var [Var])
-&gt; PreExp E2Ext Var Ty2
-&gt; [(Var, [Var])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span>
</span><span id="line-845"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-846"></span><span>      </span><span class="annot"><a href="#local-6989586621680917570"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-847"></span><span>      </span><span id="local-6989586621680917570"><span class="annot"><span class="annottext">go :: Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680917572"><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span id="local-6989586621680917573"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917573"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-848"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917573"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-849"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680917574"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917574"><span class="hs-identifier hs-var">v</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Var] -&gt; [Var] -&gt; [Var])
-&gt; Var -&gt; [Var] -&gt; Map Var [Var] -&gt; Map Var [Var]
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917574"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917574"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-850"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-851"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-852"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-853"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-854"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917576"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917576"><span class="hs-identifier hs-var">args</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var])
-&gt; Map Var [Var] -&gt; [PreExp E2Ext Var Ty2] -&gt; Map Var [Var]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917576"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-855"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917578"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917578"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var])
-&gt; Map Var [Var] -&gt; [PreExp E2Ext Var Ty2] -&gt; Map Var [Var]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917578"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-856"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917579"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917579"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917580"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917580"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917581"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917581"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-857"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680917582"><span class="annot"><span class="annottext">acc_rhs :: Map Var [Var]
</span><a href="#local-6989586621680917582"><span class="hs-identifier hs-var hs-var">acc_rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917580"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-858"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Var] -&gt; [Var] -&gt; [Var])
-&gt; Var -&gt; [Var] -&gt; Map Var [Var] -&gt; Map Var [Var]
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917579"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; [Var]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">S.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set Var -&gt; [Var]) -&gt; Set Var -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917580"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917582"><span class="hs-identifier hs-var">acc_rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917581"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-859"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917583"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917583"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680917584"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917584"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917583"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917584"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-860"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680917585"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917585"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var])
-&gt; Map Var [Var] -&gt; [PreExp E2Ext Var Ty2] -&gt; Map Var [Var]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917585"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-861"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917586"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917586"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917586"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-862"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680917587"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917587"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917588"><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917588"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-863"></span><span>            </span><span class="annot"><span class="annottext">((String, [(Var, Var)], PreExp E2Ext Var Ty2)
 -&gt; Map Var [Var] -&gt; Map Var [Var])
-&gt; Map Var [Var]
-&gt; [(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
-&gt; Map Var [Var]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">L.foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917589"><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917589"><span class="hs-identifier hs-var">vlocs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917590"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917590"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917591"><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917591"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-864"></span><span>                       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917592"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917592"><span class="hs-identifier hs-var">vars</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917593"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917593"><span class="hs-identifier hs-var">locs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; ([Var], [Var])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917589"><span class="hs-identifier hs-var">vlocs</span></a></span><span>
</span><span id="line-865"></span><span>                           </span><span id="local-6989586621680917594"><span class="annot"><span class="annottext">acc'' :: Map Var [Var]
</span><a href="#local-6989586621680917594"><span class="hs-identifier hs-var hs-var">acc''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; Map Var [Var] -&gt; Map Var [Var])
-&gt; Map Var [Var] -&gt; [Var] -&gt; Map Var [Var]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">L.foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680917595"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917595"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621680917596"><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917596"><span class="hs-identifier hs-var">acc'''</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Var] -&gt; [Var] -&gt; [Var])
-&gt; Var -&gt; [Var] -&gt; Map Var [Var] -&gt; Map Var [Var]
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917587"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917595"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917596"><span class="hs-identifier hs-var">acc'''</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-866"></span><span>                                           </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917591"><span class="hs-identifier hs-var">acc'</span></a></span><span>
</span><span id="line-867"></span><span>                                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917592"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917593"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-868"></span><span>                       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917594"><span class="hs-identifier hs-var">acc''</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917590"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span>                    </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-870"></span><span>                    </span><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917588"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-871"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680917597"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917597"><span class="hs-identifier hs-var">_scrt</span></a></span></span><span> </span><span id="local-6989586621680917598"><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917598"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((String, [(Var, Var)], PreExp E2Ext Var Ty2)
 -&gt; Map Var [Var] -&gt; Map Var [Var])
-&gt; Map Var [Var]
-&gt; [(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
-&gt; Map Var [Var]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">L.foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[(Var, Var)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917599"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917599"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917600"><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917600"><span class="hs-identifier hs-var">acc'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917600"><span class="hs-identifier hs-var">acc'</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917599"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917598"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-872"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917601"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917601"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var])
-&gt; Map Var [Var] -&gt; [PreExp E2Ext Var Ty2] -&gt; Map Var [Var]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917601"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-873"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680917602"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917602"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917602"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-874"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917603"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917603"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917603"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-875"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917604"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917604"><span class="hs-identifier hs-var">ls</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var])
-&gt; Map Var [Var] -&gt; [PreExp E2Ext Var Ty2] -&gt; Map Var [Var]
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917604"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-876"></span><span>          </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-877"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-878"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-879"></span><span>          </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span id="local-6989586621680917605"><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917605"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-880"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917605"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-881"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680917606"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917606"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917607"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917607"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-882"></span><span>                </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Var] -&gt; [Var] -&gt; [Var])
-&gt; Var -&gt; [Var] -&gt; Map Var [Var] -&gt; Map Var [Var]
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917606"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; [Var]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">S.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set Var -&gt; [Var]) -&gt; Set Var -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917607"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917607"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-883"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680917608"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917608"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917609"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917609"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-884"></span><span>                </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Var] -&gt; [Var] -&gt; [Var])
-&gt; Var -&gt; [Var] -&gt; Map Var [Var] -&gt; Map Var [Var]
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917608"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; [Var]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">S.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set Var -&gt; [Var]) -&gt; Set Var -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917609"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917609"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-885"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680917610"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917610"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680917611"><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917611"><span class="hs-identifier hs-var">phs</span></a></span></span><span> </span><span id="local-6989586621680917612"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917612"><span class="hs-identifier hs-var">rhs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-886"></span><span>                </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Var] -&gt; [Var] -&gt; [Var])
-&gt; Var -&gt; [Var] -&gt; Map Var [Var] -&gt; Map Var [Var]
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917610"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocExp -&gt; [Var]
</span><a href="#local-6989586621680917613"><span class="hs-identifier hs-var">dep</span></a></span><span> </span><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917611"><span class="hs-identifier hs-var">phs</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; [Var]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">S.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set Var -&gt; [Var]) -&gt; Set Var -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917612"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917612"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-887"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-888"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-889"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-890"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-891"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span> </span><span id="local-6989586621680917614"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917614"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Var] -&gt; [Var] -&gt; [Var])
-&gt; Var -&gt; [Var] -&gt; Map Var [Var] -&gt; Map Var [Var]
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [Var]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">(++)</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917614"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917614"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-892"></span><span>              </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-893"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917615"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917615"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917615"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-894"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-895"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-896"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-897"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-898"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span> </span><span id="local-6989586621680917616"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917616"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext Var Ty2
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917616"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-899"></span><span>              </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span> </span><span id="local-6989586621680917617"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917617"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917618"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917618"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var [Var] -&gt; PreExp E2Ext Var Ty2 -&gt; Map Var [Var]
</span><a href="#local-6989586621680917570"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var [Var]
</span><a href="#local-6989586621680917572"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext Var Ty2
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917617"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext Var Ty2
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917618"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-900"></span><span>
</span><span id="line-901"></span><span>      </span><span class="annot"><a href="#local-6989586621680917613"><span class="hs-identifier hs-type">dep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#PreLocExp"><span class="hs-identifier hs-type">PreLocExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#LocVar"><span class="hs-identifier hs-type">LocVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-902"></span><span>      </span><span id="local-6989586621680917613"><span class="annot"><span class="annottext">dep :: LocExp -&gt; [Var]
</span><a href="#local-6989586621680917613"><span class="hs-identifier hs-var hs-var">dep</span></a></span></span><span> </span><span id="local-6989586621680917619"><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917619"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-903"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917619"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-904"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfRegionLE"><span class="hs-identifier hs-type">StartOfRegionLE</span></a></span><span> </span><span id="local-6989586621680917620"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917620"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917620"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-905"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterConstantLE"><span class="hs-identifier hs-type">AfterConstantLE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917621"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917621"><span class="hs-identifier hs-var">loc</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917621"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-906"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AfterVariableLE"><span class="hs-identifier hs-type">AfterVariableLE</span></a></span><span> </span><span id="local-6989586621680917622"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917622"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917623"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917623"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917622"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917623"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-907"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#InRegionLE"><span class="hs-identifier hs-type">InRegionLE</span></a></span><span> </span><span id="local-6989586621680917624"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917624"><span class="hs-identifier hs-var">r</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917624"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-908"></span><span>          </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndLE"><span class="hs-identifier hs-type">FromEndLE</span></a></span><span> </span><span id="local-6989586621680917625"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917625"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917625"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-909"></span><span>          </span><span class="annot"><span class="annottext">LocExp
</span><a href="Gibbon.L2.Syntax.html#FreeLE"><span class="hs-identifier hs-var">FreeLE</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-910"></span><span>
</span><span id="line-911"></span><span class="hs-comment">-- gFreeVars ++ locations ++ region variables</span><span>
</span><span id="line-912"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-type">allFreeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-913"></span><span id="allFreeVars"><span class="annot"><span class="annottext">allFreeVars :: PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var hs-var">allFreeVars</span></a></span></span><span> </span><span id="local-6989586621680917671"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917671"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-914"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917671"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-915"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917672"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917672"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680917673"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917673"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917672"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Set Var] -&gt; Set Var
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#unions"><span class="hs-identifier hs-var">S.unions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Set Var)
-&gt; [PreExp E2Ext Var Ty2] -&gt; [Set Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917673"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-916"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917675"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917675"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Set Var] -&gt; Set Var
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#unions"><span class="hs-identifier hs-var">S.unions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Set Var)
-&gt; [PreExp E2Ext Var Ty2] -&gt; [Set Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917675"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-917"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917676"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917676"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917677"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917677"><span class="hs-identifier hs-var">locs</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917678"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917678"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917679"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917679"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917677"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917678"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917679"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>                               </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#difference"><span class="hs-operator hs-var">`S.difference`</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917676"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-919"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span id="local-6989586621680917681"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917681"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917682"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917682"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680917683"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917683"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917681"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917682"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917683"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-920"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680917684"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917684"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Set Var] -&gt; Set Var
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#unions"><span class="hs-identifier hs-var">S.unions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Set Var)
-&gt; [PreExp E2Ext Var Ty2] -&gt; [Set Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917684"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-921"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917685"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917685"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917685"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-922"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680917686"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917686"><span class="hs-identifier hs-var">scrt</span></a></span></span><span> </span><span id="local-6989586621680917687"><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917687"><span class="hs-identifier hs-var">brs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917686"><span class="hs-identifier hs-var">scrt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Set Var] -&gt; Set Var
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#unions"><span class="hs-identifier hs-var">S.unions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, [(Var, Var)], PreExp E2Ext Var Ty2) -&gt; Set Var)
-&gt; [(String, [(Var, Var)], PreExp E2Ext Var Ty2)] -&gt; [Set Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621680917688"><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917688"><span class="hs-identifier hs-var">vlocs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917689"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917689"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917689"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#difference"><span class="hs-operator hs-var">`S.difference`</span></a></span><span>
</span><span id="line-923"></span><span>                                                                                   </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Var, Var) -&gt; Var) -&gt; [(Var, Var)] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Var) -&gt; Var
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917688"><span class="hs-identifier hs-var">vlocs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#difference"><span class="hs-operator hs-var">`S.difference`</span></a></span><span>
</span><span id="line-924"></span><span>                                                                                   </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Var, Var) -&gt; Var) -&gt; [(Var, Var)] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Var) -&gt; Var
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Var)]
</span><a href="#local-6989586621680917688"><span class="hs-identifier hs-var">vlocs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-925"></span><span>                                                                  </span><span class="annot"><span class="annottext">[(String, [(Var, Var)], PreExp E2Ext Var Ty2)]
</span><a href="#local-6989586621680917687"><span class="hs-identifier hs-var">brs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-926"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span id="local-6989586621680917692"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917692"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917693"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917693"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917692"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Set Var] -&gt; Set Var
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#unions"><span class="hs-identifier hs-var">S.unions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Set Var)
-&gt; [PreExp E2Ext Var Ty2] -&gt; [Set Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917693"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-927"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680917694"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917694"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917694"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-928"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917695"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917695"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917695"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-929"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917696"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917696"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680917697"><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917697"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917696"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Set Var] -&gt; Set Var
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#unions"><span class="hs-identifier hs-var">S.unions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PreExp E2Ext Var Ty2 -&gt; Set Var)
-&gt; [PreExp E2Ext Var Ty2] -&gt; [Set Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext Var Ty2]
</span><a href="#local-6989586621680917697"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-930"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span id="local-6989586621680917698"><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917698"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-931"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="#local-6989586621680917698"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-932"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680917699"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917699"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917700"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917700"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#delete"><span class="hs-identifier hs-var">S.delete</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917699"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917700"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680917702"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917702"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917703"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917703"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#delete"><span class="hs-identifier hs-var">S.delete</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Region -&gt; Var
</span><a href="Gibbon.L2.Syntax.html#regionToVar"><span class="hs-identifier hs-var">regionToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917702"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917703"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-934"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680917704"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917704"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680917705"><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917705"><span class="hs-identifier hs-var">locexp</span></a></span></span><span> </span><span id="local-6989586621680917706"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917706"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#delete"><span class="hs-identifier hs-var">S.delete</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917704"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917706"><span class="hs-identifier hs-var">bod</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="annot"><span class="annottext">LocExp -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">LocExp
</span><a href="#local-6989586621680917705"><span class="hs-identifier hs-var">locexp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-935"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span> </span><span id="local-6989586621680917707"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917707"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917707"><span class="hs-identifier hs-var">cur</span></a></span><span>
</span><span id="line-936"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span> </span><span id="local-6989586621680917708"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917708"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917709"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917709"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917708"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917709"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-937"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span> </span><span id="local-6989586621680917710"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917710"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680917711"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917711"><span class="hs-identifier hs-var">v</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#insert"><span class="hs-identifier hs-var">S.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917711"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917710"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-938"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span> </span><span id="local-6989586621680917713"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917713"><span class="hs-identifier hs-var">loc</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917713"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-939"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917714"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917714"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span id="local-6989586621680917715"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917715"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917714"><span class="hs-identifier hs-var">reg</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917715"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-940"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917716"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917716"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917717"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917717"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917718"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917718"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917719"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917719"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Var] -&gt; Set Var) -&gt; [Var] -&gt; Set Var
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917716"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917717"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917718"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917719"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-941"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span> </span><span id="local-6989586621680917720"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917720"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917720"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-942"></span><span>        </span><span class="annot"><span class="annottext">E2Ext Var Ty2
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Set Var
forall a. Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#empty"><span class="hs-identifier hs-var">S.empty</span></a></span><span>
</span><span id="line-943"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680917721"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917721"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680917722"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917722"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917721"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#union"><span class="hs-operator hs-var">`S.union`</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917722"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-944"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span> </span><span id="local-6989586621680917723"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917723"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917723"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-945"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span> </span><span id="local-6989586621680917724"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917724"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var
forall a. a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#singleton"><span class="hs-identifier hs-var">S.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917724"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-946"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span> </span><span class="annot"><span class="annottext">SSModality
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917725"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917725"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917726"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917726"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917725"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917726"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-947"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span> </span><span class="annot"><span class="annottext">SSModality
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680917727"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917727"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917728"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917728"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917727"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917728"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-948"></span><span>    </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917671"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-949"></span><span>
</span><span id="line-950"></span><span class="annot"><a href="Gibbon.L2.Syntax.html#freeLocVars"><span class="hs-identifier hs-type">freeLocVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#Exp2"><span class="hs-identifier hs-type">Exp2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-951"></span><span id="freeLocVars"><span class="annot"><span class="annottext">freeLocVars :: PreExp E2Ext Var Ty2 -&gt; [Var]
</span><a href="Gibbon.L2.Syntax.html#freeLocVars"><span class="hs-identifier hs-var hs-var">freeLocVars</span></a></span></span><span> </span><span id="local-6989586621680917732"><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917732"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; [Var]
forall a. Set a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">S.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set Var -&gt; [Var]) -&gt; Set Var -&gt; [Var]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
</span><a href="Gibbon.L2.Syntax.html#allFreeVars"><span class="hs-identifier hs-var">allFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917732"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#difference"><span class="hs-operator hs-var">`S.difference`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2 -&gt; Set Var
forall a. FreeVars a =&gt; a -&gt; Set Var
</span><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-var">gFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext Var Ty2
</span><a href="#local-6989586621680917732"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-952"></span><span>
</span><span id="line-953"></span><span id="local-6989586621680914128"><span id="local-6989586621680914129"><span class="annot"><a href="Gibbon.L2.Syntax.html#changeAppToSpawn"><span class="hs-identifier hs-type">changeAppToSpawn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914128"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914129"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914128"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914129"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914128"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914129"><span class="hs-identifier hs-type">dec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="Gibbon.L2.Syntax.html#E2Ext"><span class="hs-identifier hs-type">E2Ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914128"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680914129"><span class="hs-identifier hs-type">dec</span></a></span></span></span><span>
</span><span id="line-954"></span><span id="changeAppToSpawn"><span class="annot"><span class="annottext">changeAppToSpawn :: forall loc dec.
(Eq loc, Eq dec) =&gt;
Var
-&gt; [PreExp E2Ext loc dec]
-&gt; PreExp E2Ext loc dec
-&gt; PreExp E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#changeAppToSpawn"><span class="hs-identifier hs-var hs-var">changeAppToSpawn</span></a></span></span><span> </span><span id="local-6989586621680917745"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917745"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917746"><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917746"><span class="hs-identifier hs-var">args2</span></a></span></span><span> </span><span id="local-6989586621680917747"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-955"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-956"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-957"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-958"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-959"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-960"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-961"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680917748"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917748"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680917749"><span class="annot"><span class="annottext">[loc]
</span><a href="#local-6989586621680917749"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680917750"><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917750"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917745"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Var -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917748"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917750"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec] -&gt; [PreExp E2Ext loc dec] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917746"><span class="hs-identifier hs-var">args2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [loc] -&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917748"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[loc]
</span><a href="#local-6989586621680917749"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">([PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; [PreExp E2Ext loc dec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917750"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-962"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680917753"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917753"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680917754"><span class="annot"><span class="annottext">[loc]
</span><a href="#local-6989586621680917754"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680917755"><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917755"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [loc] -&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917753"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[loc]
</span><a href="#local-6989586621680917754"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">([PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; [PreExp E2Ext loc dec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917755"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-963"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span id="local-6989586621680917756"><span class="annot"><span class="annottext">Prim dec
</span><a href="#local-6989586621680917756"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680917757"><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917757"><span class="hs-identifier hs-var">args</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prim dec -&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim dec
</span><a href="#local-6989586621680917756"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; [PreExp E2Ext loc dec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917757"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-964"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680917758"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917758"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917759"><span class="annot"><span class="annottext">[loc]
</span><a href="#local-6989586621680917759"><span class="hs-identifier hs-var">loc</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917760"><span class="annot"><span class="annottext">dec
</span><a href="#local-6989586621680917760"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917761"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917761"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680917762"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917762"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Var, [loc], dec, PreExp E2Ext loc dec)
-&gt; PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917758"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[loc]
</span><a href="#local-6989586621680917759"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">dec
</span><a href="#local-6989586621680917760"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917761"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917762"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-965"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span id="local-6989586621680917763"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917763"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680917764"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917764"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680917765"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917765"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
-&gt; PreExp E2Ext loc dec
-&gt; PreExp E2Ext loc dec
-&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917763"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917764"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917765"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680917766"><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917766"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="annot"><span class="annottext">([PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; [PreExp E2Ext loc dec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917766"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-967"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span id="local-6989586621680917767"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680917767"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680917768"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917768"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
Int -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-var">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680917767"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917768"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-968"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span id="local-6989586621680917769"><span class="annot"><span class="annottext">loc
</span><a href="#local-6989586621680917769"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680917770"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917770"><span class="hs-identifier hs-var">dcon</span></a></span></span><span> </span><span id="local-6989586621680917771"><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917771"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">loc -&gt; String -&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; String -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><a href="#local-6989586621680917769"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917770"><span class="hs-identifier hs-var">dcon</span></a></span><span> </span><span class="annot"><span class="annottext">([PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; [PreExp E2Ext loc dec] -&gt; [PreExp E2Ext loc dec]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917771"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-969"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680917772"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917772"><span class="hs-identifier hs-var">scrt</span></a></span></span><span> </span><span id="local-6989586621680917773"><span class="annot"><span class="annottext">[(String, [(Var, loc)], PreExp E2Ext loc dec)]
</span><a href="#local-6989586621680917773"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-970"></span><span>      </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
-&gt; [(String, [(Var, loc)], PreExp E2Ext loc dec)]
-&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; [(String, [(Var, loc)], PreExp ext loc dec)]
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-var">CaseE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917772"><span class="hs-identifier hs-var">scrt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(String, [(Var, loc)], PreExp E2Ext loc dec)]
 -&gt; PreExp E2Ext loc dec)
-&gt; [(String, [(Var, loc)], PreExp E2Ext loc dec)]
-&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((String, [(Var, loc)], PreExp E2Ext loc dec)
 -&gt; (String, [(Var, loc)], PreExp E2Ext loc dec))
-&gt; [(String, [(Var, loc)], PreExp E2Ext loc dec)]
-&gt; [(String, [(Var, loc)], PreExp E2Ext loc dec)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680917774"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917774"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917775"><span class="annot"><span class="annottext">[(Var, loc)]
</span><a href="#local-6989586621680917775"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680917776"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917776"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680917774"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[(Var, loc)]
</span><a href="#local-6989586621680917775"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917776"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, [(Var, loc)], PreExp E2Ext loc dec)]
</span><a href="#local-6989586621680917773"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-971"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680917777"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917777"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680917778"><span class="annot"><span class="annottext">dec
</span><a href="#local-6989586621680917778"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680917779"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917779"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; dec -&gt; Bool -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; dec -&gt; Bool -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917777"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">dec
</span><a href="#local-6989586621680917778"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680917779"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-972"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span id="local-6989586621680917780"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917780"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680917781"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917781"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-var">WithArenaE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917780"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917781"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-973"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-974"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-type">SyncE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-975"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span id="local-6989586621680917782"><span class="annot"><span class="annottext">E2Ext loc dec
</span><a href="#local-6989586621680917782"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-976"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E2Ext loc dec
</span><a href="#local-6989586621680917782"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-977"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-type">LetRegionE</span></a></span><span> </span><span id="local-6989586621680917783"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917783"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680917784"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680917784"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680917785"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680917785"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680917786"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917786"><span class="hs-identifier hs-var">rhs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize
-&gt; Maybe RegionType
-&gt; PreExp E2Ext loc dec
-&gt; E2Ext loc dec
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetRegionE"><span class="hs-identifier hs-var">LetRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917783"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680917784"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680917785"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917786"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-978"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-type">LetParRegionE</span></a></span><span> </span><span id="local-6989586621680917787"><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917787"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680917788"><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680917788"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621680917789"><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680917789"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680917790"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917790"><span class="hs-identifier hs-var">rhs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Region
-&gt; RegionSize
-&gt; Maybe RegionType
-&gt; PreExp E2Ext loc dec
-&gt; E2Ext loc dec
forall loc dec.
Region
-&gt; RegionSize -&gt; Maybe RegionType -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetParRegionE"><span class="hs-identifier hs-var">LetParRegionE</span></a></span><span> </span><span class="annot"><span class="annottext">Region
</span><a href="#local-6989586621680917787"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">RegionSize
</span><a href="#local-6989586621680917788"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe RegionType
</span><a href="#local-6989586621680917789"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917790"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-979"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-type">LetLocE</span></a></span><span> </span><span id="local-6989586621680917791"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917791"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680917792"><span class="annot"><span class="annottext">PreLocExp loc
</span><a href="#local-6989586621680917792"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621680917793"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917793"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PreLocExp loc -&gt; PreExp E2Ext loc dec -&gt; E2Ext loc dec
forall loc dec. Var -&gt; PreLocExp loc -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetLocE"><span class="hs-identifier hs-var">LetLocE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917791"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">PreLocExp loc
</span><a href="#local-6989586621680917792"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917793"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-980"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">StartOfPkdCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-981"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#TagCursor"><span class="hs-identifier hs-type">TagCursor</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-982"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#RetE"><span class="hs-identifier hs-type">RetE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-983"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#FromEndE"><span class="hs-identifier hs-type">FromEndE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-984"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#BoundsCheck"><span class="hs-identifier hs-type">BoundsCheck</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-985"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#IndirectionE"><span class="hs-identifier hs-type">IndirectionE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-986"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AddFixed"><span class="hs-identifier hs-type">AddFixed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-987"></span><span>        </span><span class="annot"><span class="annottext">E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#GetCilkWorkerNum"><span class="hs-identifier hs-var">GetCilkWorkerNum</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-988"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-type">LetAvail</span></a></span><span> </span><span id="local-6989586621680917794"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917794"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680917795"><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917795"><span class="hs-identifier hs-var">bod</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E2Ext loc dec -&gt; PreExp E2Ext loc dec)
-&gt; E2Ext loc dec -&gt; PreExp E2Ext loc dec
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; PreExp E2Ext loc dec -&gt; E2Ext loc dec
forall loc dec. [Var] -&gt; E2 loc dec -&gt; E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#LetAvail"><span class="hs-identifier hs-var">LetAvail</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680917794"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917795"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-989"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateTagHere"><span class="hs-identifier hs-type">AllocateTagHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-990"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#AllocateScalarsHere"><span class="hs-identifier hs-type">AllocateScalarsHere</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-991"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPush"><span class="hs-identifier hs-type">SSPush</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-992"></span><span>        </span><span class="annot"><a href="Gibbon.L2.Syntax.html#SSPop"><span class="hs-identifier hs-type">SSPop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PreExp E2Ext loc dec
</span><a href="#local-6989586621680917747"><span class="hs-identifier hs-var">ex1</span></a></span><span>
</span><span id="line-993"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PreExp E2Ext loc dec
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;addRANExp: TODO MapE&quot;</span></span><span>
</span><span id="line-994"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PreExp E2Ext loc dec
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;addRANExp: TODO FoldE&quot;</span></span><span>
</span><span id="line-995"></span><span>
</span><span id="line-996"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680917752"><span class="annot"><span class="annottext">go :: PreExp E2Ext loc dec -&gt; PreExp E2Ext loc dec
</span><a href="#local-6989586621680917752"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var
-&gt; [PreExp E2Ext loc dec]
-&gt; PreExp E2Ext loc dec
-&gt; PreExp E2Ext loc dec
forall loc dec.
(Eq loc, Eq dec) =&gt;
Var
-&gt; [PreExp E2Ext loc dec]
-&gt; PreExp E2Ext loc dec
-&gt; PreExp E2Ext loc dec
</span><a href="Gibbon.L2.Syntax.html#changeAppToSpawn"><span class="hs-identifier hs-var">changeAppToSpawn</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680917745"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[PreExp E2Ext loc dec]
</span><a href="#local-6989586621680917746"><span class="hs-identifier hs-var">args2</span></a></span><span>
</span><span id="line-997"></span></pre></body></html>
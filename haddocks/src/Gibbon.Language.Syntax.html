<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving         #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveTraversable          #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass             #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies         #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts           #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances          #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances       #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses      #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE CPP                        #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds            #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell            #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Gibbon.Language.Syntax</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Datatype definitions</span></span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier">DDefs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier">TyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Tag"><span class="hs-identifier">Tag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IsBoxed"><span class="hs-identifier">IsBoxed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier">DDef</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupDDef"><span class="hs-identifier">lookupDDef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#getConOrdering"><span class="hs-identifier">getConOrdering</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#getTyOfDataCon"><span class="hs-identifier">getTyOfDataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupDataCon"><span class="hs-identifier">lookupDataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#lkp"><span class="hs-identifier">lkp</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupDataCon%27"><span class="hs-identifier">lookupDataCon'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#insertDD"><span class="hs-identifier">insertDD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#emptyDD"><span class="hs-identifier">emptyDD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#fromListDD"><span class="hs-identifier">fromListDD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#isVoidDDef"><span class="hs-identifier">isVoidDDef</span></a></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Function definitions</span></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunctionTy"><span class="hs-identifier">FunctionTy</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier">FunDefs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier">FunDef</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunMeta"><span class="hs-identifier">FunMeta</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunRec"><span class="hs-identifier">FunRec</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunInline"><span class="hs-identifier">FunInline</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#insertFD"><span class="hs-identifier">insertFD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#fromListFD"><span class="hs-identifier">fromListFD</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#initFunEnv"><span class="hs-identifier">initFunEnv</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Programs</span></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier">Prog</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#progToEnv"><span class="hs-identifier">progToEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#getFunTy"><span class="hs-identifier">getFunTy</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Environments</span></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyEnv"><span class="hs-identifier">TyEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier">Env2</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#emptyEnv2"><span class="hs-identifier">emptyEnv2</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#extendVEnv"><span class="hs-identifier">extendVEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#extendsVEnv"><span class="hs-identifier">extendsVEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupVEnv"><span class="hs-identifier">lookupVEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#extendFEnv"><span class="hs-identifier">extendFEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupFEnv"><span class="hs-identifier">lookupFEnv</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Expresssions and thier types</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier">PreExp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prim"><span class="hs-identifier">Prim</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier">UrTy</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Functors for recursion-schemes</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExpF"><span class="hs-identifier">PreExpF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimF"><span class="hs-identifier">PrimF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTyF"><span class="hs-identifier">UrTyF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Generic operations</span></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FreeVars"><span class="hs-identifier">FreeVars</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier">Expression</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Binds"><span class="hs-identifier">Binds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Flattenable"><span class="hs-identifier">Flattenable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Simplifiable"><span class="hs-identifier">Simplifiable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SimplifiableExt"><span class="hs-identifier">SimplifiableExt</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Typeable"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Substitutable"><span class="hs-identifier">Substitutable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SubstitutableExt"><span class="hs-identifier">SubstitutableExt</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Renamable"><span class="hs-identifier">Renamable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Helpers for writing instances</span></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSimplifiable"><span class="hs-identifier">HasSimplifiable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSimplifiableExt"><span class="hs-identifier">HasSimplifiableExt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSubstitutable"><span class="hs-identifier">HasSubstitutable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSubstitutableExt"><span class="hs-identifier">HasSubstitutableExt</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasRenamable"><span class="hs-identifier">HasRenamable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasOut"><span class="hs-identifier">HasOut</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasShow"><span class="hs-identifier">HasShow</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasEq"><span class="hs-identifier">HasEq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasGeneric"><span class="hs-identifier">HasGeneric</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#HasNFData"><span class="hs-identifier">HasNFData</span></a></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- * Interpreter</span></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Interp"><span class="hs-identifier">Interp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpExt"><span class="hs-identifier">InterpExt</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpProg"><span class="hs-identifier">InterpProg</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier">Value</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ValEnv"><span class="hs-identifier">ValEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpLog"><span class="hs-identifier">InterpLog</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpM"><span class="hs-identifier">InterpM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#runInterpM"><span class="hs-identifier">runInterpM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#execAndPrint"><span class="hs-identifier">execAndPrint</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html"><span class="hs-identifier">Control.DeepSeq</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.html"><span class="hs-identifier">Control.Monad.State</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Writer.html"><span class="hs-identifier">Control.Monad.Writer</span></a></span><span class="hs-cpp">
#if !MIN_VERSION_base(4,13,0)
</span><span class="hs-comment">-- https://downloads.haskell.org/ghc/8.8.1/docs/html/users_guide/8.8.1-notes.html</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Monad.Fail</span><span class="hs-special">(</span><span class="hs-identifier">MonadFail</span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Word.html#Word8"><span class="hs-identifier">Word8</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Kind.html"><span class="hs-identifier">Data.Kind</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Type"><span class="hs-identifier">Type</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html"><span class="hs-identifier">Text.PrettyPrint.GenericPretty</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/recursion-schemes-5.2.3-5c783cce65b62d0dbf9a28f427d4da1a27df54e177fbefd8856688c99c46858f/share/doc/html/src/Data.Functor.Foldable.TH.html"><span class="hs-identifier">Data.Functor.Foldable.TH</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/bytestring-0.11.4.0/src/Data.ByteString.Lazy.Char8.html"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/bytestring-0.11.4.0/src/Data.ByteString.Builder.html"><span class="hs-identifier">Data.ByteString.Builder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/bytestring-0.11.4.0/src/Data.ByteString.Builder.Internal.html#Builder"><span class="hs-identifier">Builder</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/System.IO.Unsafe.html"><span class="hs-identifier">System.IO.Unsafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier">unsafePerformIO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Gibbon.Common.html"><span class="hs-identifier">Gibbon.Common</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- Data type definitions</span><span>
</span><span id="line-75"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">type</span><span> </span><span id="DDefs"><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-var">DDefs</span></a></span></span><span> </span><span id="local-6989586621680903758"><span class="annot"><a href="#local-6989586621680903758"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903758"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-keyword">type</span><span> </span><span id="DataCon"><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-var">DataCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-80"></span><span class="hs-keyword">type</span><span> </span><span id="TyCon"><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-var">TyCon</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-81"></span><span class="hs-keyword">type</span><span> </span><span id="Tag"><span class="annot"><a href="Gibbon.Language.Syntax.html#Tag"><span class="hs-identifier hs-var">Tag</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Word.html#Word8"><span class="hs-identifier hs-type">Word8</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">type</span><span> </span><span id="IsBoxed"><span class="annot"><a href="Gibbon.Language.Syntax.html#IsBoxed"><span class="hs-identifier hs-var">IsBoxed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | Data type definitions.</span><span>
</span><span id="line-86"></span><span class="hs-comment">--</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- Monomorphism: In the extreme case we can strip packed datatypes of</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- all type parameters, or we can allow them to retain type params but</span><span>
</span><span id="line-89"></span><span class="hs-comment">-- require that they always be fully instantiated to monomorphic types</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- in the context of our monomorphic programs.</span><span>
</span><span id="line-91"></span><span class="hs-comment">--</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- Here we allow individual to be marked with whether or not they</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- should be boxed.  We say that a regular, pointer-based datatype has</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- all-boxed fields, whereas a fully serialized datatype has no boxed</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- fields.</span><span>
</span><span id="line-96"></span><span class="hs-keyword">data</span><span> </span><span id="DDef"><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span></span><span> </span><span id="local-6989586621680902923"><span class="annot"><a href="#local-6989586621680902923"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DDef"><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="tyName"><span class="annot"><span class="annottext">forall a. DDef a -&gt; Var
</span><a href="Gibbon.Language.Syntax.html#tyName"><span class="hs-identifier hs-var hs-var">tyName</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-97"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="tyArgs"><span class="annot"><span class="annottext">forall a. DDef a -&gt; [TyVar]
</span><a href="Gibbon.Language.Syntax.html#tyArgs"><span class="hs-identifier hs-var hs-var">tyArgs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-98"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="dataCons"><span class="annot"><span class="annottext">forall a. DDef a -&gt; [(DataCon, [(IsBoxed, a)])]
</span><a href="Gibbon.Language.Syntax.html#dataCons"><span class="hs-identifier hs-var hs-var">dataCons</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#IsBoxed"><span class="hs-identifier hs-type">IsBoxed</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680902923"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680903765"><span id="local-6989586621680903769"><span id="local-6989586621680903772"><span id="local-6989586621680903791"><span class="annot"><span class="annottext">ReadPrec [DDef a]
ReadPrec (DDef a)
Int -&gt; ReadS (DDef a)
ReadS [DDef a]
(Int -&gt; ReadS (DDef a))
-&gt; ReadS [DDef a]
-&gt; ReadPrec (DDef a)
-&gt; ReadPrec [DDef a]
-&gt; Read (DDef a)
forall a. Read a =&gt; ReadPrec [DDef a]
forall a. Read a =&gt; ReadPrec (DDef a)
forall a. Read a =&gt; Int -&gt; ReadS (DDef a)
forall a. Read a =&gt; ReadS [DDef a]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: forall a. Read a =&gt; Int -&gt; ReadS (DDef a)
readsPrec :: Int -&gt; ReadS (DDef a)
$creadList :: forall a. Read a =&gt; ReadS [DDef a]
readList :: ReadS [DDef a]
$creadPrec :: forall a. Read a =&gt; ReadPrec (DDef a)
readPrec :: ReadPrec (DDef a)
$creadListPrec :: forall a. Read a =&gt; ReadPrec [DDef a]
readListPrec :: ReadPrec [DDef a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680903805"><span id="local-6989586621680903816"><span id="local-6989586621680903820"><span class="annot"><span class="annottext">Int -&gt; DDef a -&gt; ShowS
[DDef a] -&gt; ShowS
DDef a -&gt; DataCon
(Int -&gt; DDef a -&gt; ShowS)
-&gt; (DDef a -&gt; DataCon) -&gt; ([DDef a] -&gt; ShowS) -&gt; Show (DDef a)
forall a. Show a =&gt; Int -&gt; DDef a -&gt; ShowS
forall a. Show a =&gt; [DDef a] -&gt; ShowS
forall a. Show a =&gt; DDef a -&gt; DataCon
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; DataCon) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; DDef a -&gt; ShowS
showsPrec :: Int -&gt; DDef a -&gt; ShowS
$cshow :: forall a. Show a =&gt; DDef a -&gt; DataCon
show :: DDef a -&gt; DataCon
$cshowList :: forall a. Show a =&gt; [DDef a] -&gt; ShowS
showList :: [DDef a] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680903834"><span id="local-6989586621680903843"><span class="annot"><span class="annottext">DDef a -&gt; DDef a -&gt; IsBoxed
(DDef a -&gt; DDef a -&gt; IsBoxed)
-&gt; (DDef a -&gt; DDef a -&gt; IsBoxed) -&gt; Eq (DDef a)
forall a. Eq a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
$c== :: forall a. Eq a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
== :: DDef a -&gt; DDef a -&gt; IsBoxed
$c/= :: forall a. Eq a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
/= :: DDef a -&gt; DDef a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680903861"><span id="local-6989586621680903870"><span id="local-6989586621680903877"><span id="local-6989586621680903881"><span id="local-6989586621680903884"><span id="local-6989586621680903887"><span id="local-6989586621680903890"><span class="annot"><span class="annottext">Eq (DDef a)
Eq (DDef a)
-&gt; (DDef a -&gt; DDef a -&gt; Ordering)
-&gt; (DDef a -&gt; DDef a -&gt; IsBoxed)
-&gt; (DDef a -&gt; DDef a -&gt; IsBoxed)
-&gt; (DDef a -&gt; DDef a -&gt; IsBoxed)
-&gt; (DDef a -&gt; DDef a -&gt; IsBoxed)
-&gt; (DDef a -&gt; DDef a -&gt; DDef a)
-&gt; (DDef a -&gt; DDef a -&gt; DDef a)
-&gt; Ord (DDef a)
DDef a -&gt; DDef a -&gt; IsBoxed
DDef a -&gt; DDef a -&gt; Ordering
DDef a -&gt; DDef a -&gt; DDef a
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {a}. Ord a =&gt; Eq (DDef a)
forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; Ordering
forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; DDef a
$ccompare :: forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; Ordering
compare :: DDef a -&gt; DDef a -&gt; Ordering
$c&lt; :: forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
&lt; :: DDef a -&gt; DDef a -&gt; IsBoxed
$c&lt;= :: forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
&lt;= :: DDef a -&gt; DDef a -&gt; IsBoxed
$c&gt; :: forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
&gt; :: DDef a -&gt; DDef a -&gt; IsBoxed
$c&gt;= :: forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; IsBoxed
&gt;= :: DDef a -&gt; DDef a -&gt; IsBoxed
$cmax :: forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; DDef a
max :: DDef a -&gt; DDef a -&gt; DDef a
$cmin :: forall a. Ord a =&gt; DDef a -&gt; DDef a -&gt; DDef a
min :: DDef a -&gt; DDef a -&gt; DDef a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680903909"><span id="local-6989586621680903914"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; DDef a -&gt; DDef b)
-&gt; (forall a b. a -&gt; DDef b -&gt; DDef a) -&gt; Functor DDef
forall a b. a -&gt; DDef b -&gt; DDef a
forall a b. (a -&gt; b) -&gt; DDef a -&gt; DDef b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; DDef a -&gt; DDef b
fmap :: forall a b. (a -&gt; b) -&gt; DDef a -&gt; DDef b
$c&lt;$ :: forall a b. a -&gt; DDef b -&gt; DDef a
&lt;$ :: forall a b. a -&gt; DDef b -&gt; DDef a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680903920"><span id="local-6989586621680903922"><span class="annot"><span class="annottext">(forall x. DDef a -&gt; Rep (DDef a) x)
-&gt; (forall x. Rep (DDef a) x -&gt; DDef a) -&gt; Generic (DDef a)
forall x. Rep (DDef a) x -&gt; DDef a
forall x. DDef a -&gt; Rep (DDef a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (DDef a) x -&gt; DDef a
forall a x. DDef a -&gt; Rep (DDef a) x
$cfrom :: forall a x. DDef a -&gt; Rep (DDef a) x
from :: forall x. DDef a -&gt; Rep (DDef a) x
$cto :: forall a x. Rep (DDef a) x -&gt; DDef a
to :: forall x. Rep (DDef a) x -&gt; DDef a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680902988"><span id="local-6989586621680903927"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680902988"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680902988"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680903026"><span id="local-6989586621680903964"><span id="local-6989586621680903971"><span id="local-6989586621680903977"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903026"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903026"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="annot"><span class="hs-comment">-- | Lookup a ddef in its entirety</span></span><span>
</span><span id="line-106"></span><span id="local-6989586621680903027"><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupDDef"><span class="hs-identifier hs-type">lookupDDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903027"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903027"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903027"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-107"></span><span id="lookupDDef"><span class="annot"><span class="annottext">lookupDDef :: forall a. Out a =&gt; DDefs a -&gt; DataCon -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#lookupDDef"><span class="hs-identifier hs-var hs-var">lookupDDef</span></a></span></span><span> </span><span id="local-6989586621680904098"><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904098"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span id="local-6989586621680904099"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904099"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; DDefs a -&gt; Maybe (DDef a)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; Var
</span><a href="Gibbon.Common.html#toVar"><span class="hs-identifier hs-var">toVar</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904099"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904098"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-109"></span><span>      </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680904102"><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904102"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904102"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-110"></span><span>      </span><span class="annot"><span class="annottext">Maybe (DDef a)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DDef a
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; DDef a) -&gt; DataCon -&gt; DDef a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;lookupDDef failed on symbol: &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904099"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;\nDDefs: &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DDefs a -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904098"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-comment">-- | Get the canonical ordering for data constructors, currently based</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- on ordering in the original source code.  Takes a TyCon as argument.</span><span>
</span><span id="line-114"></span><span id="local-6989586621680903044"><span class="annot"><a href="Gibbon.Language.Syntax.html#getConOrdering"><span class="hs-identifier hs-type">getConOrdering</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903044"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903044"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-115"></span><span id="getConOrdering"><span class="annot"><span class="annottext">getConOrdering :: forall a. Out a =&gt; DDefs a -&gt; DataCon -&gt; [DataCon]
</span><a href="Gibbon.Language.Syntax.html#getConOrdering"><span class="hs-identifier hs-var hs-var">getConOrdering</span></a></span></span><span> </span><span id="local-6989586621680904107"><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904107"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span id="local-6989586621680904108"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904108"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((DataCon, [(IsBoxed, a)]) -&gt; DataCon)
-&gt; [(DataCon, [(IsBoxed, a)])] -&gt; [DataCon]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)]) -&gt; DataCon
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
</span><a href="#local-6989586621680904110"><span class="hs-identifier hs-var">dataCons</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span class="hs-special">{</span><span id="local-6989586621680904110"><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
dataCons :: forall a. DDef a -&gt; [(DataCon, [(IsBoxed, a)])]
dataCons :: [(DataCon, [(IsBoxed, a)])]
</span><a href="Gibbon.Language.Syntax.html#dataCons"><span class="hs-identifier hs-var hs-var">dataCons</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DDefs a -&gt; DataCon -&gt; DDef a
forall a. Out a =&gt; DDefs a -&gt; DataCon -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#lookupDDef"><span class="hs-identifier hs-var">lookupDDef</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904107"><span class="hs-identifier hs-var">dd</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904108"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">-- | Lookup the name of the TyCon that goes with a given DataCon.</span><span>
</span><span id="line-119"></span><span class="hs-comment">--   Must be unique!</span><span>
</span><span id="line-120"></span><span id="local-6989586621680903050"><span class="annot"><a href="Gibbon.Language.Syntax.html#getTyOfDataCon"><span class="hs-identifier hs-type">getTyOfDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903050"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903050"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span></span><span>
</span><span id="line-121"></span><span id="getTyOfDataCon"><span class="annot"><span class="annottext">getTyOfDataCon :: forall a. Out a =&gt; DDefs a -&gt; ShowS
</span><a href="Gibbon.Language.Syntax.html#getTyOfDataCon"><span class="hs-identifier hs-var hs-var">getTyOfDataCon</span></a></span></span><span> </span><span id="local-6989586621680904113"><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904113"><span class="hs-identifier hs-var">dds</span></a></span></span><span> </span><span id="local-6989586621680904114"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904114"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; DataCon
</span><a href="Gibbon.Common.html#fromVar"><span class="hs-identifier hs-var">fromVar</span></a></span><span> </span><span class="annot"><span class="annottext">(Var -&gt; DataCon)
-&gt; ((Var, (DataCon, [(IsBoxed, a)])) -&gt; Var)
-&gt; (Var, (DataCon, [(IsBoxed, a)]))
-&gt; DataCon
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, (DataCon, [(IsBoxed, a)])) -&gt; Var
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Var, (DataCon, [(IsBoxed, a)])) -&gt; DataCon)
-&gt; (Var, (DataCon, [(IsBoxed, a)])) -&gt; DataCon
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a -&gt; DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
forall a.
Out a =&gt;
DDefs a -&gt; DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
</span><a href="Gibbon.Language.Syntax.html#lkp"><span class="hs-identifier hs-var">lkp</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904113"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904114"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="annot"><span class="hs-comment">-- | Lookup the arguments to a data contstructor.</span></span><span>
</span><span id="line-124"></span><span id="local-6989586621680903056"><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupDataCon"><span class="hs-identifier hs-type">lookupDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903056"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903056"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680903056"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-125"></span><span id="lookupDataCon"><span class="annot"><span class="annottext">lookupDataCon :: forall a. Out a =&gt; DDefs a -&gt; DataCon -&gt; [a]
</span><a href="Gibbon.Language.Syntax.html#lookupDataCon"><span class="hs-identifier hs-var hs-var">lookupDataCon</span></a></span></span><span> </span><span id="local-6989586621680904119"><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904119"><span class="hs-identifier hs-var">dds</span></a></span></span><span> </span><span id="local-6989586621680904120"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904120"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-comment">-- dbgTrace 5 (&quot;lookupDataCon -- &quot;++sdoc(dds,con)) $</span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><span class="annottext">((IsBoxed, a) -&gt; a) -&gt; [(IsBoxed, a)] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">(IsBoxed, a) -&gt; a
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">([(IsBoxed, a)] -&gt; [a]) -&gt; [(IsBoxed, a)] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)]) -&gt; [(IsBoxed, a)]
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((DataCon, [(IsBoxed, a)]) -&gt; [(IsBoxed, a)])
-&gt; (DataCon, [(IsBoxed, a)]) -&gt; [(IsBoxed, a)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, (DataCon, [(IsBoxed, a)])) -&gt; (DataCon, [(IsBoxed, a)])
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((Var, (DataCon, [(IsBoxed, a)])) -&gt; (DataCon, [(IsBoxed, a)]))
-&gt; (Var, (DataCon, [(IsBoxed, a)])) -&gt; (DataCon, [(IsBoxed, a)])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a -&gt; DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
forall a.
Out a =&gt;
DDefs a -&gt; DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
</span><a href="Gibbon.Language.Syntax.html#lkp"><span class="hs-identifier hs-var">lkp</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904119"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904120"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | Like 'lookupDataCon' but lookup arguments to a data contstructor for a</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- specific instance of a datatype.</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="hs-comment">--     lookupDataCon' (Maybe Int) Just = [Int]</span><span>
</span><span id="line-133"></span><span id="local-6989586621680903060"><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupDataCon%27"><span class="hs-identifier hs-type">lookupDataCon'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903060"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903060"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680903060"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-134"></span><span id="lookupDataCon%27"><span class="annot"><span class="annottext">lookupDataCon' :: forall a. Out a =&gt; DDef a -&gt; DataCon -&gt; [a]
</span><a href="Gibbon.Language.Syntax.html#lookupDataCon%27"><span class="hs-identifier hs-var hs-var">lookupDataCon'</span></a></span></span><span> </span><span id="local-6989586621680904139"><span class="annot"><span class="annottext">ddf :: DDef a
</span><a href="#local-6989586621680904139"><span class="hs-identifier hs-var">ddf</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span class="hs-special">{</span><span id="local-6989586621680904140"><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
dataCons :: forall a. DDef a -&gt; [(DataCon, [(IsBoxed, a)])]
dataCons :: [(DataCon, [(IsBoxed, a)])]
</span><a href="Gibbon.Language.Syntax.html#dataCons"><span class="hs-identifier hs-var hs-var">dataCons</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680904141"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904141"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-135"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">((DataCon, [(IsBoxed, a)]) -&gt; IsBoxed)
-&gt; [(DataCon, [(IsBoxed, a)])] -&gt; [(DataCon, [(IsBoxed, a)])]
forall a. (a -&gt; IsBoxed) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">L.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; DataCon -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904141"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; IsBoxed)
-&gt; ((DataCon, [(IsBoxed, a)]) -&gt; DataCon)
-&gt; (DataCon, [(IsBoxed, a)])
-&gt; IsBoxed
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)]) -&gt; DataCon
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
</span><a href="#local-6989586621680904140"><span class="hs-identifier hs-var">dataCons</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-136"></span><span>     </span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [a]
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(DataCon -&gt; [a]) -&gt; DataCon -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;lookupDataCon': could not find constructor &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904141"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-137"></span><span>              </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;, in datatype:\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904139"><span class="hs-identifier hs-var">ddf</span></a></span><span>
</span><span id="line-138"></span><span>     </span><span class="hs-special">[</span><span id="local-6989586621680904143"><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)])
</span><a href="#local-6989586621680904143"><span class="hs-identifier hs-var">hit</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((IsBoxed, a) -&gt; a) -&gt; [(IsBoxed, a)] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">(IsBoxed, a) -&gt; a
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)]) -&gt; [(IsBoxed, a)]
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)])
</span><a href="#local-6989586621680904143"><span class="hs-identifier hs-var">hit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>     </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [a]
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(DataCon -&gt; [a]) -&gt; DataCon -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;lookupDataCon': found multiple occurences of constructor &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904141"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-140"></span><span>              </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;, in datatype:\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904139"><span class="hs-identifier hs-var">ddf</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="annot"><span class="hs-comment">-- | Lookup a Datacon.  Return (TyCon, (DataCon, [flds]))</span></span><span>
</span><span id="line-143"></span><span id="local-6989586621680903055"><span class="annot"><a href="Gibbon.Language.Syntax.html#lkp"><span class="hs-identifier hs-type">lkp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903055"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903055"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#IsBoxed"><span class="hs-identifier hs-type">IsBoxed</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680903055"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-144"></span><span id="lkp"><span class="annot"><span class="annottext">lkp :: forall a.
Out a =&gt;
DDefs a -&gt; DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
</span><a href="Gibbon.Language.Syntax.html#lkp"><span class="hs-identifier hs-var hs-var">lkp</span></a></span></span><span> </span><span id="local-6989586621680904163"><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904163"><span class="hs-identifier hs-var">dds</span></a></span></span><span> </span><span id="local-6989586621680904164"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904164"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-145"></span><span>   </span><span class="hs-comment">-- Here we try to lookup in ALL datatypes, assuming unique datacons:</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680904165"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)])
</span><a href="#local-6989586621680904166"><span class="hs-identifier hs-var">variant</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680904165"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680904165"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span class="hs-special">{</span><span id="local-6989586621680904167"><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
dataCons :: forall a. DDef a -&gt; [(DataCon, [(IsBoxed, a)])]
dataCons :: [(DataCon, [(IsBoxed, a)])]
</span><a href="Gibbon.Language.Syntax.html#dataCons"><span class="hs-identifier hs-var hs-var">dataCons</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DDefs a -&gt; [(Var, DDef a)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904163"><span class="hs-identifier hs-var">dds</span></a></span><span>
</span><span id="line-148"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904166"><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)])
</span><a href="#local-6989586621680904166"><span class="hs-identifier hs-var">variant</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((DataCon, [(IsBoxed, a)]) -&gt; IsBoxed)
-&gt; [(DataCon, [(IsBoxed, a)])] -&gt; [(DataCon, [(IsBoxed, a)])]
forall a. (a -&gt; IsBoxed) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">L.filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; DataCon -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904164"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(DataCon -&gt; IsBoxed)
-&gt; ((DataCon, [(IsBoxed, a)]) -&gt; DataCon)
-&gt; (DataCon, [(IsBoxed, a)])
-&gt; IsBoxed
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, a)]) -&gt; DataCon
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
</span><a href="#local-6989586621680904167"><span class="hs-identifier hs-var">dataCons</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)])))
-&gt; DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;lookupDataCon: could not find constructor &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904164"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-150"></span><span>          </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;, in datatypes:\n  &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DDefs a -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904163"><span class="hs-identifier hs-var">dds</span></a></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621680904169"><span class="annot"><span class="annottext">(Var, (DataCon, [(IsBoxed, a)]))
</span><a href="#local-6989586621680904169"><span class="hs-identifier hs-var">hit</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Var, (DataCon, [(IsBoxed, a)]))
</span><a href="#local-6989586621680904169"><span class="hs-identifier hs-var">hit</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><span class="annottext">[(Var, (DataCon, [(IsBoxed, a)]))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)])))
-&gt; DataCon -&gt; (Var, (DataCon, [(IsBoxed, a)]))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;lookupDataCon: found multiple occurences of constructor &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680904164"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-153"></span><span>          </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;, in datatypes:\n  &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DDefs a -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
</span><a href="#local-6989586621680904163"><span class="hs-identifier hs-var">dds</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span id="local-6989586621680903066"><span class="annot"><a href="Gibbon.Language.Syntax.html#insertDD"><span class="hs-identifier hs-type">insertDD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903066"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903066"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903066"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-157"></span><span id="insertDD"><span class="annot"><span class="annottext">insertDD :: forall a. DDef a -&gt; DDefs a -&gt; DDefs a
</span><a href="Gibbon.Language.Syntax.html#insertDD"><span class="hs-identifier hs-var hs-var">insertDD</span></a></span></span><span> </span><span id="local-6989586621680904176"><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904176"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DDef a -&gt; DDef a -&gt; DDef a)
-&gt; Var -&gt; DDef a -&gt; Map Var (DDef a) -&gt; Map Var (DDef a)
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a -&gt; DDef a -&gt; DDef a
</span><a href="#local-6989586621680904178"><span class="hs-identifier hs-var">err'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DDef a -&gt; Var
forall a. DDef a -&gt; Var
</span><a href="Gibbon.Language.Syntax.html#tyName"><span class="hs-identifier hs-var">tyName</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904176"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904176"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-159"></span><span>   </span><span id="local-6989586621680904178"><span class="annot"><span class="annottext">err' :: DDef a -&gt; DDef a -&gt; DDef a
</span><a href="#local-6989586621680904178"><span class="hs-identifier hs-var hs-var">err'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DDef a -&gt; DDef a -&gt; DDef a
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; DDef a -&gt; DDef a -&gt; DDef a)
-&gt; DataCon -&gt; DDef a -&gt; DDef a -&gt; DDef a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;insertDD: data definition with duplicate name: &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Var -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DDef a -&gt; Var
forall a. DDef a -&gt; Var
</span><a href="Gibbon.Language.Syntax.html#tyName"><span class="hs-identifier hs-var">tyName</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a
</span><a href="#local-6989586621680904176"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span id="local-6989586621680903070"><span class="annot"><a href="Gibbon.Language.Syntax.html#emptyDD"><span class="hs-identifier hs-type">emptyDD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903070"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-162"></span><span id="emptyDD"><span class="annot"><span class="annottext">emptyDD :: forall a. DDefs a
</span><a href="Gibbon.Language.Syntax.html#emptyDD"><span class="hs-identifier hs-var hs-var">emptyDD</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Var (DDef a)
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span id="local-6989586621680903074"><span class="annot"><a href="Gibbon.Language.Syntax.html#fromListDD"><span class="hs-identifier hs-type">fromListDD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903074"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903074"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-165"></span><span id="fromListDD"><span class="annot"><span class="annottext">fromListDD :: forall a. [DDef a] -&gt; DDefs a
</span><a href="Gibbon.Language.Syntax.html#fromListDD"><span class="hs-identifier hs-var hs-var">fromListDD</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DDef a -&gt; DDefs a -&gt; DDefs a) -&gt; DDefs a -&gt; [DDef a] -&gt; DDefs a
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">L.foldr</span></a></span><span> </span><span class="annot"><span class="annottext">DDef a -&gt; DDefs a -&gt; DDefs a
forall a. DDef a -&gt; DDefs a -&gt; DDefs a
</span><a href="Gibbon.Language.Syntax.html#insertDD"><span class="hs-identifier hs-var">insertDD</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs a
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="annot"><span class="hs-comment">-- | Is this an empty type (like 'data Void' in Haskell) ?</span></span><span>
</span><span id="line-168"></span><span id="local-6989586621680903079"><span class="annot"><a href="Gibbon.Language.Syntax.html#isVoidDDef"><span class="hs-identifier hs-type">isVoidDDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903079"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span></span><span>
</span><span id="line-169"></span><span id="isVoidDDef"><span class="annot"><span class="annottext">isVoidDDef :: forall a. DDef a -&gt; IsBoxed
</span><a href="Gibbon.Language.Syntax.html#isVoidDDef"><span class="hs-identifier hs-var hs-var">isVoidDDef</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span class="hs-special">{</span><span id="local-6989586621680904184"><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
dataCons :: forall a. DDef a -&gt; [(DataCon, [(IsBoxed, a)])]
dataCons :: [(DataCon, [(IsBoxed, a)])]
</span><a href="Gibbon.Language.Syntax.html#dataCons"><span class="hs-identifier hs-var hs-var">dataCons</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])] -&gt; IsBoxed
forall a. [a] -&gt; IsBoxed
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">L.null</span></a></span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, a)])]
</span><a href="#local-6989586621680904184"><span class="hs-identifier hs-var">dataCons</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- Function definitions</span><span>
</span><span id="line-173"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><span class="hs-comment">-- | A type family describing function types.</span></span><span>
</span><span id="line-176"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="FunctionTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunctionTy"><span class="hs-identifier hs-var">FunctionTy</span></a></span></span><span> </span><span id="local-6989586621680903082"><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ArrowTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-var">ArrowTy</span></a></span></span><span> </span><span id="local-6989586621680903082"><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span></span><span>
</span><span id="line-178"></span><span>  </span><span id="inTys"><span class="annot"><a href="Gibbon.Language.Syntax.html#inTys"><span class="hs-identifier hs-type">inTys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-179"></span><span>  </span><span id="outTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#outTy"><span class="hs-identifier hs-type">outTy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903082"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><span class="hs-comment">-- | A set of top-level recursive function definitions.</span></span><span>
</span><span id="line-182"></span><span class="hs-keyword">type</span><span> </span><span id="FunDefs"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-var">FunDefs</span></a></span></span><span> </span><span id="local-6989586621680904190"><span class="annot"><a href="#local-6989586621680904190"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680904190"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-keyword">data</span><span> </span><span id="FunRec"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunRec"><span class="hs-identifier hs-var">FunRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Rec"><span class="annot"><a href="Gibbon.Language.Syntax.html#Rec"><span class="hs-identifier hs-var">Rec</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NotRec"><span class="annot"><a href="Gibbon.Language.Syntax.html#NotRec"><span class="hs-identifier hs-var">NotRec</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="TailRec"><span class="annot"><a href="Gibbon.Language.Syntax.html#TailRec"><span class="hs-identifier hs-var">TailRec</span></a></span></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680904195"><span id="local-6989586621680904199"><span id="local-6989586621680904202"><span id="local-6989586621680904207"><span class="annot"><span class="annottext">ReadPrec [FunRec]
ReadPrec FunRec
Int -&gt; ReadS FunRec
ReadS [FunRec]
(Int -&gt; ReadS FunRec)
-&gt; ReadS [FunRec]
-&gt; ReadPrec FunRec
-&gt; ReadPrec [FunRec]
-&gt; Read FunRec
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FunRec
readsPrec :: Int -&gt; ReadS FunRec
$creadList :: ReadS [FunRec]
readList :: ReadS [FunRec]
$creadPrec :: ReadPrec FunRec
readPrec :: ReadPrec FunRec
$creadListPrec :: ReadPrec [FunRec]
readListPrec :: ReadPrec [FunRec]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904210"><span id="local-6989586621680904212"><span id="local-6989586621680904216"><span class="annot"><span class="annottext">Int -&gt; FunRec -&gt; ShowS
[FunRec] -&gt; ShowS
FunRec -&gt; DataCon
(Int -&gt; FunRec -&gt; ShowS)
-&gt; (FunRec -&gt; DataCon) -&gt; ([FunRec] -&gt; ShowS) -&gt; Show FunRec
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; DataCon) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FunRec -&gt; ShowS
showsPrec :: Int -&gt; FunRec -&gt; ShowS
$cshow :: FunRec -&gt; DataCon
show :: FunRec -&gt; DataCon
$cshowList :: [FunRec] -&gt; ShowS
showList :: [FunRec] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904219"><span id="local-6989586621680904221"><span class="annot"><span class="annottext">FunRec -&gt; FunRec -&gt; IsBoxed
(FunRec -&gt; FunRec -&gt; IsBoxed)
-&gt; (FunRec -&gt; FunRec -&gt; IsBoxed) -&gt; Eq FunRec
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
$c== :: FunRec -&gt; FunRec -&gt; IsBoxed
== :: FunRec -&gt; FunRec -&gt; IsBoxed
$c/= :: FunRec -&gt; FunRec -&gt; IsBoxed
/= :: FunRec -&gt; FunRec -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904227"><span id="local-6989586621680904229"><span id="local-6989586621680904231"><span id="local-6989586621680904235"><span id="local-6989586621680904238"><span id="local-6989586621680904241"><span id="local-6989586621680904244"><span class="annot"><span class="annottext">Eq FunRec
Eq FunRec
-&gt; (FunRec -&gt; FunRec -&gt; Ordering)
-&gt; (FunRec -&gt; FunRec -&gt; IsBoxed)
-&gt; (FunRec -&gt; FunRec -&gt; IsBoxed)
-&gt; (FunRec -&gt; FunRec -&gt; IsBoxed)
-&gt; (FunRec -&gt; FunRec -&gt; IsBoxed)
-&gt; (FunRec -&gt; FunRec -&gt; FunRec)
-&gt; (FunRec -&gt; FunRec -&gt; FunRec)
-&gt; Ord FunRec
FunRec -&gt; FunRec -&gt; IsBoxed
FunRec -&gt; FunRec -&gt; Ordering
FunRec -&gt; FunRec -&gt; FunRec
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FunRec -&gt; FunRec -&gt; Ordering
compare :: FunRec -&gt; FunRec -&gt; Ordering
$c&lt; :: FunRec -&gt; FunRec -&gt; IsBoxed
&lt; :: FunRec -&gt; FunRec -&gt; IsBoxed
$c&lt;= :: FunRec -&gt; FunRec -&gt; IsBoxed
&lt;= :: FunRec -&gt; FunRec -&gt; IsBoxed
$c&gt; :: FunRec -&gt; FunRec -&gt; IsBoxed
&gt; :: FunRec -&gt; FunRec -&gt; IsBoxed
$c&gt;= :: FunRec -&gt; FunRec -&gt; IsBoxed
&gt;= :: FunRec -&gt; FunRec -&gt; IsBoxed
$cmax :: FunRec -&gt; FunRec -&gt; FunRec
max :: FunRec -&gt; FunRec -&gt; FunRec
$cmin :: FunRec -&gt; FunRec -&gt; FunRec
min :: FunRec -&gt; FunRec -&gt; FunRec
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904247"><span id="local-6989586621680904249"><span class="annot"><span class="annottext">(forall x. FunRec -&gt; Rep FunRec x)
-&gt; (forall x. Rep FunRec x -&gt; FunRec) -&gt; Generic FunRec
forall x. Rep FunRec x -&gt; FunRec
forall x. FunRec -&gt; Rep FunRec x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. FunRec -&gt; Rep FunRec x
from :: forall x. FunRec -&gt; Rep FunRec x
$cto :: forall x. Rep FunRec x -&gt; FunRec
to :: forall x. Rep FunRec x -&gt; FunRec
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904252"><span class="annot"><span class="annottext">FunRec -&gt; ()
(FunRec -&gt; ()) -&gt; NFData FunRec
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: FunRec -&gt; ()
rnf :: FunRec -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904267"><span id="local-6989586621680904274"><span id="local-6989586621680904280"><span class="annot"><span class="annottext">Int -&gt; FunRec -&gt; Doc
[FunRec] -&gt; Doc
FunRec -&gt; Doc
(Int -&gt; FunRec -&gt; Doc)
-&gt; (FunRec -&gt; Doc) -&gt; ([FunRec] -&gt; Doc) -&gt; Out FunRec
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
$cdocPrec :: Int -&gt; FunRec -&gt; Doc
docPrec :: Int -&gt; FunRec -&gt; Doc
$cdoc :: FunRec -&gt; Doc
doc :: FunRec -&gt; Doc
$cdocList :: [FunRec] -&gt; Doc
docList :: [FunRec] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-keyword">data</span><span> </span><span id="FunInline"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunInline"><span class="hs-identifier hs-var">FunInline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Inline"><span class="annot"><a href="Gibbon.Language.Syntax.html#Inline"><span class="hs-identifier hs-var">Inline</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NoInline"><span class="annot"><a href="Gibbon.Language.Syntax.html#NoInline"><span class="hs-identifier hs-var">NoInline</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Inlineable"><span class="annot"><a href="Gibbon.Language.Syntax.html#Inlineable"><span class="hs-identifier hs-var">Inlineable</span></a></span></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680904324"><span id="local-6989586621680904328"><span id="local-6989586621680904331"><span id="local-6989586621680904336"><span class="annot"><span class="annottext">ReadPrec [FunInline]
ReadPrec FunInline
Int -&gt; ReadS FunInline
ReadS [FunInline]
(Int -&gt; ReadS FunInline)
-&gt; ReadS [FunInline]
-&gt; ReadPrec FunInline
-&gt; ReadPrec [FunInline]
-&gt; Read FunInline
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FunInline
readsPrec :: Int -&gt; ReadS FunInline
$creadList :: ReadS [FunInline]
readList :: ReadS [FunInline]
$creadPrec :: ReadPrec FunInline
readPrec :: ReadPrec FunInline
$creadListPrec :: ReadPrec [FunInline]
readListPrec :: ReadPrec [FunInline]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904339"><span id="local-6989586621680904341"><span id="local-6989586621680904345"><span class="annot"><span class="annottext">Int -&gt; FunInline -&gt; ShowS
[FunInline] -&gt; ShowS
FunInline -&gt; DataCon
(Int -&gt; FunInline -&gt; ShowS)
-&gt; (FunInline -&gt; DataCon)
-&gt; ([FunInline] -&gt; ShowS)
-&gt; Show FunInline
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; DataCon) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FunInline -&gt; ShowS
showsPrec :: Int -&gt; FunInline -&gt; ShowS
$cshow :: FunInline -&gt; DataCon
show :: FunInline -&gt; DataCon
$cshowList :: [FunInline] -&gt; ShowS
showList :: [FunInline] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904348"><span id="local-6989586621680904350"><span class="annot"><span class="annottext">FunInline -&gt; FunInline -&gt; IsBoxed
(FunInline -&gt; FunInline -&gt; IsBoxed)
-&gt; (FunInline -&gt; FunInline -&gt; IsBoxed) -&gt; Eq FunInline
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
$c== :: FunInline -&gt; FunInline -&gt; IsBoxed
== :: FunInline -&gt; FunInline -&gt; IsBoxed
$c/= :: FunInline -&gt; FunInline -&gt; IsBoxed
/= :: FunInline -&gt; FunInline -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904356"><span id="local-6989586621680904358"><span id="local-6989586621680904360"><span id="local-6989586621680904364"><span id="local-6989586621680904367"><span id="local-6989586621680904370"><span id="local-6989586621680904373"><span class="annot"><span class="annottext">Eq FunInline
Eq FunInline
-&gt; (FunInline -&gt; FunInline -&gt; Ordering)
-&gt; (FunInline -&gt; FunInline -&gt; IsBoxed)
-&gt; (FunInline -&gt; FunInline -&gt; IsBoxed)
-&gt; (FunInline -&gt; FunInline -&gt; IsBoxed)
-&gt; (FunInline -&gt; FunInline -&gt; IsBoxed)
-&gt; (FunInline -&gt; FunInline -&gt; FunInline)
-&gt; (FunInline -&gt; FunInline -&gt; FunInline)
-&gt; Ord FunInline
FunInline -&gt; FunInline -&gt; IsBoxed
FunInline -&gt; FunInline -&gt; Ordering
FunInline -&gt; FunInline -&gt; FunInline
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FunInline -&gt; FunInline -&gt; Ordering
compare :: FunInline -&gt; FunInline -&gt; Ordering
$c&lt; :: FunInline -&gt; FunInline -&gt; IsBoxed
&lt; :: FunInline -&gt; FunInline -&gt; IsBoxed
$c&lt;= :: FunInline -&gt; FunInline -&gt; IsBoxed
&lt;= :: FunInline -&gt; FunInline -&gt; IsBoxed
$c&gt; :: FunInline -&gt; FunInline -&gt; IsBoxed
&gt; :: FunInline -&gt; FunInline -&gt; IsBoxed
$c&gt;= :: FunInline -&gt; FunInline -&gt; IsBoxed
&gt;= :: FunInline -&gt; FunInline -&gt; IsBoxed
$cmax :: FunInline -&gt; FunInline -&gt; FunInline
max :: FunInline -&gt; FunInline -&gt; FunInline
$cmin :: FunInline -&gt; FunInline -&gt; FunInline
min :: FunInline -&gt; FunInline -&gt; FunInline
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904376"><span id="local-6989586621680904378"><span class="annot"><span class="annottext">(forall x. FunInline -&gt; Rep FunInline x)
-&gt; (forall x. Rep FunInline x -&gt; FunInline) -&gt; Generic FunInline
forall x. Rep FunInline x -&gt; FunInline
forall x. FunInline -&gt; Rep FunInline x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. FunInline -&gt; Rep FunInline x
from :: forall x. FunInline -&gt; Rep FunInline x
$cto :: forall x. Rep FunInline x -&gt; FunInline
to :: forall x. Rep FunInline x -&gt; FunInline
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904381"><span class="annot"><span class="annottext">FunInline -&gt; ()
(FunInline -&gt; ()) -&gt; NFData FunInline
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: FunInline -&gt; ()
rnf :: FunInline -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904394"><span id="local-6989586621680904401"><span id="local-6989586621680904407"><span class="annot"><span class="annottext">Int -&gt; FunInline -&gt; Doc
[FunInline] -&gt; Doc
FunInline -&gt; Doc
(Int -&gt; FunInline -&gt; Doc)
-&gt; (FunInline -&gt; Doc) -&gt; ([FunInline] -&gt; Doc) -&gt; Out FunInline
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
$cdocPrec :: Int -&gt; FunInline -&gt; Doc
docPrec :: Int -&gt; FunInline -&gt; Doc
$cdoc :: FunInline -&gt; Doc
doc :: FunInline -&gt; Doc
$cdocList :: [FunInline] -&gt; Doc
docList :: [FunInline] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">data</span><span> </span><span id="FunMeta"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunMeta"><span class="hs-identifier hs-var">FunMeta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FunMeta"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunMeta"><span class="hs-identifier hs-var">FunMeta</span></a></span></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="funRec"><span class="annot"><span class="annottext">FunMeta -&gt; FunRec
</span><a href="Gibbon.Language.Syntax.html#funRec"><span class="hs-identifier hs-var hs-var">funRec</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunRec"><span class="hs-identifier hs-type">FunRec</span></a></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="funInline"><span class="annot"><span class="annottext">FunMeta -&gt; FunInline
</span><a href="Gibbon.Language.Syntax.html#funInline"><span class="hs-identifier hs-var hs-var">funInline</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunInline"><span class="hs-identifier hs-type">FunInline</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-comment">-- Whether the transitive closure of this function can trigger GC.</span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="funCanTriggerGC"><span class="annot"><span class="annottext">FunMeta -&gt; IsBoxed
</span><a href="Gibbon.Language.Syntax.html#funCanTriggerGC"><span class="hs-identifier hs-var hs-var">funCanTriggerGC</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680904450"><span id="local-6989586621680904454"><span id="local-6989586621680904457"><span id="local-6989586621680904471"><span class="annot"><span class="annottext">ReadPrec [FunMeta]
ReadPrec FunMeta
Int -&gt; ReadS FunMeta
ReadS [FunMeta]
(Int -&gt; ReadS FunMeta)
-&gt; ReadS [FunMeta]
-&gt; ReadPrec FunMeta
-&gt; ReadPrec [FunMeta]
-&gt; Read FunMeta
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS FunMeta
readsPrec :: Int -&gt; ReadS FunMeta
$creadList :: ReadS [FunMeta]
readList :: ReadS [FunMeta]
$creadPrec :: ReadPrec FunMeta
readPrec :: ReadPrec FunMeta
$creadListPrec :: ReadPrec [FunMeta]
readListPrec :: ReadPrec [FunMeta]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904474"><span id="local-6989586621680904480"><span id="local-6989586621680904484"><span class="annot"><span class="annottext">Int -&gt; FunMeta -&gt; ShowS
[FunMeta] -&gt; ShowS
FunMeta -&gt; DataCon
(Int -&gt; FunMeta -&gt; ShowS)
-&gt; (FunMeta -&gt; DataCon) -&gt; ([FunMeta] -&gt; ShowS) -&gt; Show FunMeta
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; DataCon) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; FunMeta -&gt; ShowS
showsPrec :: Int -&gt; FunMeta -&gt; ShowS
$cshow :: FunMeta -&gt; DataCon
show :: FunMeta -&gt; DataCon
$cshowList :: [FunMeta] -&gt; ShowS
showList :: [FunMeta] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904487"><span id="local-6989586621680904492"><span class="annot"><span class="annottext">FunMeta -&gt; FunMeta -&gt; IsBoxed
(FunMeta -&gt; FunMeta -&gt; IsBoxed)
-&gt; (FunMeta -&gt; FunMeta -&gt; IsBoxed) -&gt; Eq FunMeta
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
$c== :: FunMeta -&gt; FunMeta -&gt; IsBoxed
== :: FunMeta -&gt; FunMeta -&gt; IsBoxed
$c/= :: FunMeta -&gt; FunMeta -&gt; IsBoxed
/= :: FunMeta -&gt; FunMeta -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904498"><span id="local-6989586621680904503"><span id="local-6989586621680904508"><span id="local-6989586621680904512"><span id="local-6989586621680904515"><span id="local-6989586621680904518"><span id="local-6989586621680904521"><span class="annot"><span class="annottext">Eq FunMeta
Eq FunMeta
-&gt; (FunMeta -&gt; FunMeta -&gt; Ordering)
-&gt; (FunMeta -&gt; FunMeta -&gt; IsBoxed)
-&gt; (FunMeta -&gt; FunMeta -&gt; IsBoxed)
-&gt; (FunMeta -&gt; FunMeta -&gt; IsBoxed)
-&gt; (FunMeta -&gt; FunMeta -&gt; IsBoxed)
-&gt; (FunMeta -&gt; FunMeta -&gt; FunMeta)
-&gt; (FunMeta -&gt; FunMeta -&gt; FunMeta)
-&gt; Ord FunMeta
FunMeta -&gt; FunMeta -&gt; IsBoxed
FunMeta -&gt; FunMeta -&gt; Ordering
FunMeta -&gt; FunMeta -&gt; FunMeta
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: FunMeta -&gt; FunMeta -&gt; Ordering
compare :: FunMeta -&gt; FunMeta -&gt; Ordering
$c&lt; :: FunMeta -&gt; FunMeta -&gt; IsBoxed
&lt; :: FunMeta -&gt; FunMeta -&gt; IsBoxed
$c&lt;= :: FunMeta -&gt; FunMeta -&gt; IsBoxed
&lt;= :: FunMeta -&gt; FunMeta -&gt; IsBoxed
$c&gt; :: FunMeta -&gt; FunMeta -&gt; IsBoxed
&gt; :: FunMeta -&gt; FunMeta -&gt; IsBoxed
$c&gt;= :: FunMeta -&gt; FunMeta -&gt; IsBoxed
&gt;= :: FunMeta -&gt; FunMeta -&gt; IsBoxed
$cmax :: FunMeta -&gt; FunMeta -&gt; FunMeta
max :: FunMeta -&gt; FunMeta -&gt; FunMeta
$cmin :: FunMeta -&gt; FunMeta -&gt; FunMeta
min :: FunMeta -&gt; FunMeta -&gt; FunMeta
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904524"><span id="local-6989586621680904526"><span class="annot"><span class="annottext">(forall x. FunMeta -&gt; Rep FunMeta x)
-&gt; (forall x. Rep FunMeta x -&gt; FunMeta) -&gt; Generic FunMeta
forall x. Rep FunMeta x -&gt; FunMeta
forall x. FunMeta -&gt; Rep FunMeta x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. FunMeta -&gt; Rep FunMeta x
from :: forall x. FunMeta -&gt; Rep FunMeta x
$cto :: forall x. Rep FunMeta x -&gt; FunMeta
to :: forall x. Rep FunMeta x -&gt; FunMeta
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904529"><span class="annot"><span class="annottext">FunMeta -&gt; ()
(FunMeta -&gt; ()) -&gt; NFData FunMeta
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: FunMeta -&gt; ()
rnf :: FunMeta -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680904548"><span id="local-6989586621680904555"><span id="local-6989586621680904561"><span class="annot"><span class="annottext">Int -&gt; FunMeta -&gt; Doc
[FunMeta] -&gt; Doc
FunMeta -&gt; Doc
(Int -&gt; FunMeta -&gt; Doc)
-&gt; (FunMeta -&gt; Doc) -&gt; ([FunMeta] -&gt; Doc) -&gt; Out FunMeta
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
$cdocPrec :: Int -&gt; FunMeta -&gt; Doc
docPrec :: Int -&gt; FunMeta -&gt; Doc
$cdoc :: FunMeta -&gt; Doc
doc :: FunMeta -&gt; Doc
$cdocList :: [FunMeta] -&gt; Doc
docList :: [FunMeta] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><span class="hs-comment">-- | A function definiton indexed by a type and expression.</span></span><span>
</span><span id="line-199"></span><span class="hs-keyword">data</span><span> </span><span id="FunDef"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-var">FunDef</span></a></span></span><span> </span><span id="local-6989586621680903094"><span class="annot"><a href="#local-6989586621680903094"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FunDef"><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-var">FunDef</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="funName"><span class="annot"><span class="annottext">forall ex. FunDef ex -&gt; Var
</span><a href="Gibbon.Language.Syntax.html#funName"><span class="hs-identifier hs-var hs-var">funName</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-200"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="funArgs"><span class="annot"><span class="annottext">forall ex. FunDef ex -&gt; [Var]
</span><a href="Gibbon.Language.Syntax.html#funArgs"><span class="hs-identifier hs-var hs-var">funArgs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-201"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="funTy"><span class="annot"><span class="annottext">forall ex. FunDef ex -&gt; ArrowTy (TyOf ex)
</span><a href="Gibbon.Language.Syntax.html#funTy"><span class="hs-identifier hs-var hs-var">funTy</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903094"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="funBody"><span class="annot"><span class="annottext">forall ex. FunDef ex -&gt; ex
</span><a href="Gibbon.Language.Syntax.html#funBody"><span class="hs-identifier hs-var hs-var">funBody</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680903094"><span class="hs-identifier hs-type">ex</span></a></span><span>
</span><span id="line-203"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="funMeta"><span class="annot"><span class="annottext">forall ex. FunDef ex -&gt; FunMeta
</span><a href="Gibbon.Language.Syntax.html#funMeta"><span class="hs-identifier hs-var hs-var">funMeta</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunMeta"><span class="hs-identifier hs-type">FunMeta</span></a></span><span>
</span><span id="line-204"></span><span>                        </span><span class="hs-special">}</span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span id="local-6989586621680903103"><span id="local-6989586621680904642"><span id="local-6989586621680904646"><span id="local-6989586621680904649"><span id="local-6989586621680904669"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903103"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903103"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903103"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-207"></span><span id="local-6989586621680903105"><span id="local-6989586621680904674"><span id="local-6989586621680904682"><span id="local-6989586621680904686"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903105"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903105"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903105"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-208"></span><span id="local-6989586621680903107"><span id="local-6989586621680904691"><span id="local-6989586621680904698"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903107"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903107"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903107"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-209"></span><span id="local-6989586621680903109"><span id="local-6989586621680904708"><span id="local-6989586621680904715"><span id="local-6989586621680904722"><span id="local-6989586621680904726"><span id="local-6989586621680904729"><span id="local-6989586621680904732"><span id="local-6989586621680904735"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903109"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903109"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903109"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-210"></span><span id="local-6989586621680903111"><span id="local-6989586621680904738"><span id="local-6989586621680904740"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903111"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-211"></span><span id="local-6989586621680903113"><span id="local-6989586621680904746"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903113"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903113"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903113"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903113"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-212"></span><span id="local-6989586621680903115"><span id="local-6989586621680904774"><span id="local-6989586621680904781"><span id="local-6989586621680904787"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903115"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903115"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903115"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>  </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903115"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-comment">-- | Insert a 'FunDef' into 'FunDefs'.</span><span>
</span><span id="line-215"></span><span class="hs-comment">-- Raise an error if a function with the same name already exists.</span><span>
</span><span id="line-216"></span><span id="local-6989586621680903116"><span class="annot"><a href="Gibbon.Language.Syntax.html#insertFD"><span class="hs-identifier hs-type">insertFD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903116"><span class="hs-identifier hs-type">ex</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903116"><span class="hs-identifier hs-type">ex</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903116"><span class="hs-identifier hs-type">ex</span></a></span></span><span>
</span><span id="line-217"></span><span id="insertFD"><span class="annot"><span class="annottext">insertFD :: forall ex. FunDef ex -&gt; FunDefs ex -&gt; FunDefs ex
</span><a href="Gibbon.Language.Syntax.html#insertFD"><span class="hs-identifier hs-var hs-var">insertFD</span></a></span></span><span> </span><span id="local-6989586621680904893"><span class="annot"><span class="annottext">FunDef ex
</span><a href="#local-6989586621680904893"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FunDef ex -&gt; FunDef ex -&gt; FunDef ex)
-&gt; Var -&gt; FunDef ex -&gt; Map Var (FunDef ex) -&gt; Map Var (FunDef ex)
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insertWith"><span class="hs-identifier hs-var">M.insertWith</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef ex -&gt; FunDef ex -&gt; FunDef ex
</span><a href="#local-6989586621680904894"><span class="hs-identifier hs-var">err'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FunDef ex -&gt; Var
forall ex. FunDef ex -&gt; Var
</span><a href="Gibbon.Language.Syntax.html#funName"><span class="hs-identifier hs-var">funName</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef ex
</span><a href="#local-6989586621680904893"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FunDef ex
</span><a href="#local-6989586621680904893"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>   </span><span id="local-6989586621680904894"><span class="annot"><span class="annottext">err' :: FunDef ex -&gt; FunDef ex -&gt; FunDef ex
</span><a href="#local-6989586621680904894"><span class="hs-identifier hs-var hs-var">err'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; FunDef ex -&gt; FunDef ex -&gt; FunDef ex
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; FunDef ex -&gt; FunDef ex -&gt; FunDef ex)
-&gt; DataCon -&gt; FunDef ex -&gt; FunDef ex -&gt; FunDef ex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;insertFD: function definition with duplicate name: &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Var -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FunDef ex -&gt; Var
forall ex. FunDef ex -&gt; Var
</span><a href="Gibbon.Language.Syntax.html#funName"><span class="hs-identifier hs-var">funName</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef ex
</span><a href="#local-6989586621680904893"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><span class="hs-comment">-- |</span></span><span>
</span><span id="line-222"></span><span id="local-6989586621680903119"><span class="annot"><a href="Gibbon.Language.Syntax.html#fromListFD"><span class="hs-identifier hs-type">fromListFD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903119"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903119"><span class="hs-identifier hs-type">ex</span></a></span></span><span>
</span><span id="line-223"></span><span id="fromListFD"><span class="annot"><span class="annottext">fromListFD :: forall ex. [FunDef ex] -&gt; FunDefs ex
</span><a href="Gibbon.Language.Syntax.html#fromListFD"><span class="hs-identifier hs-var hs-var">fromListFD</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FunDef ex -&gt; FunDefs ex -&gt; FunDefs ex)
-&gt; FunDefs ex -&gt; [FunDef ex] -&gt; FunDefs ex
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">L.foldr</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef ex -&gt; FunDefs ex -&gt; FunDefs ex
forall ex. FunDef ex -&gt; FunDefs ex -&gt; FunDefs ex
</span><a href="Gibbon.Language.Syntax.html#insertFD"><span class="hs-identifier hs-var">insertFD</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs ex
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="annot"><span class="hs-comment">-- |</span></span><span>
</span><span id="line-226"></span><span id="local-6989586621680903121"><span class="annot"><a href="Gibbon.Language.Syntax.html#initFunEnv"><span class="hs-identifier hs-type">initFunEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903121"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyEnv"><span class="hs-identifier hs-type">TyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903121"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-227"></span><span id="initFunEnv"><span class="annot"><span class="annottext">initFunEnv :: forall a. FunDefs a -&gt; TyEnv (ArrowTy (TyOf a))
</span><a href="Gibbon.Language.Syntax.html#initFunEnv"><span class="hs-identifier hs-var hs-var">initFunEnv</span></a></span></span><span> </span><span id="local-6989586621680904896"><span class="annot"><span class="annottext">FunDefs a
</span><a href="#local-6989586621680904896"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FunDef a -&gt; ArrowTy (TyOf a))
-&gt; FunDefs a -&gt; Map Var (ArrowTy (TyOf a))
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#map"><span class="hs-identifier hs-var">M.map</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef a -&gt; ArrowTy (TyOf a)
forall ex. FunDef ex -&gt; ArrowTy (TyOf ex)
</span><a href="Gibbon.Language.Syntax.html#funTy"><span class="hs-identifier hs-var">funTy</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs a
</span><a href="#local-6989586621680904896"><span class="hs-identifier hs-var">fds</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- Programs</span><span>
</span><span id="line-231"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="hs-comment">-- | Complete programs include datatype definitions:</span><span>
</span><span id="line-234"></span><span class="hs-comment">--</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- For evaluating a complete program, main's type will be an Int or a</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- datatype.  For running a pass benchmark, main will be Nothing and</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- we will expect a &quot;benchmark&quot; function definition which consumes an</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- appropriate packed AST datatype.</span><span>
</span><span id="line-239"></span><span class="hs-keyword">data</span><span> </span><span id="Prog"><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-var">Prog</span></a></span></span><span> </span><span id="local-6989586621680903127"><span class="annot"><a href="#local-6989586621680903127"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Prog"><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-var">Prog</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="ddefs"><span class="annot"><span class="annottext">forall ex. Prog ex -&gt; DDefs (TyOf ex)
</span><a href="Gibbon.Language.Syntax.html#ddefs"><span class="hs-identifier hs-var hs-var">ddefs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903127"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>                    </span><span class="hs-special">,</span><span> </span><span id="fundefs"><span class="annot"><span class="annottext">forall ex. Prog ex -&gt; FunDefs ex
</span><a href="Gibbon.Language.Syntax.html#fundefs"><span class="hs-identifier hs-var hs-var">fundefs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903127"><span class="hs-identifier hs-type">ex</span></a></span><span>
</span><span id="line-241"></span><span>                    </span><span class="hs-special">,</span><span> </span><span id="mainExp"><span class="annot"><span class="annottext">forall ex. Prog ex -&gt; Maybe (ex, TyOf ex)
</span><a href="Gibbon.Language.Syntax.html#mainExp"><span class="hs-identifier hs-var hs-var">mainExp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680903127"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903127"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>                    </span><span class="hs-special">}</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- Since 'FunDef' is defined using a type family, we cannot use the deriving clause.</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- Ryan Scott recommended using singletons-like alternative outlined here:</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- https://lpaste.net/365181</span><span>
</span><span id="line-247"></span><span class="hs-comment">--</span><span>
</span><span id="line-248"></span><span id="local-6989586621680903136"><span id="local-6989586621680904906"><span id="local-6989586621680904910"><span id="local-6989586621680904913"><span id="local-6989586621680904934"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903136"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903136"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903136"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903136"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-249"></span><span id="local-6989586621680903141"><span id="local-6989586621680904940"><span id="local-6989586621680904952"><span id="local-6989586621680904956"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903141"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903141"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903141"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903141"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-250"></span><span id="local-6989586621680903146"><span id="local-6989586621680904962"><span id="local-6989586621680904973"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903146"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903146"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903146"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903146"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-251"></span><span id="local-6989586621680903151"><span id="local-6989586621680904985"><span id="local-6989586621680904996"><span id="local-6989586621680905005"><span id="local-6989586621680905009"><span id="local-6989586621680905012"><span id="local-6989586621680905015"><span id="local-6989586621680905018"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903151"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903151"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903151"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903151"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-252"></span><span id="local-6989586621680903153"><span id="local-6989586621680905021"><span id="local-6989586621680905023"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903153"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-253"></span><span id="local-6989586621680903158"><span id="local-6989586621680905030"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903158"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903158"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903158"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903158"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903158"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-comment">-- | Abstract some of the differences of top level program types, by</span><span>
</span><span id="line-256"></span><span class="hs-comment">--   having a common way to extract an initial environment.  The</span><span>
</span><span id="line-257"></span><span class="hs-comment">--   initial environment has types only for functions.</span><span>
</span><span id="line-258"></span><span id="local-6989586621680903159"><span class="annot"><a href="Gibbon.Language.Syntax.html#progToEnv"><span class="hs-identifier hs-type">progToEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903159"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903159"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-259"></span><span id="progToEnv"><span class="annot"><span class="annottext">progToEnv :: forall a. Prog a -&gt; Env2 (TyOf a)
</span><a href="Gibbon.Language.Syntax.html#progToEnv"><span class="hs-identifier hs-var hs-var">progToEnv</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span class="hs-special">{</span><span id="local-6989586621680905054"><span class="annot"><span class="annottext">FunDefs a
fundefs :: forall ex. Prog ex -&gt; FunDefs ex
fundefs :: FunDefs a
</span><a href="Gibbon.Language.Syntax.html#fundefs"><span class="hs-identifier hs-var hs-var">fundefs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyEnv (TyOf a) -&gt; TyEnv (ArrowTy (TyOf a)) -&gt; Env2 (TyOf a)
forall a. TyEnv a -&gt; TyEnv (ArrowTy a) -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-var">Env2</span></a></span><span> </span><span class="annot"><span class="annottext">TyEnv (TyOf a)
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FunDefs a -&gt; TyEnv (ArrowTy (TyOf a))
forall a. FunDefs a -&gt; TyEnv (ArrowTy (TyOf a))
</span><a href="Gibbon.Language.Syntax.html#initFunEnv"><span class="hs-identifier hs-var">initFunEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs a
</span><a href="#local-6989586621680905054"><span class="hs-identifier hs-var">fundefs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="annot"><span class="hs-comment">-- | Look up the input/output type of a top-level function binding.</span></span><span>
</span><span id="line-262"></span><span id="local-6989586621680903163"><span class="annot"><a href="Gibbon.Language.Syntax.html#getFunTy"><span class="hs-identifier hs-type">getFunTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903163"><span class="hs-identifier hs-type">ex</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903163"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-263"></span><span id="getFunTy"><span class="annot"><span class="annottext">getFunTy :: forall ex. Var -&gt; Prog ex -&gt; ArrowTy (TyOf ex)
</span><a href="Gibbon.Language.Syntax.html#getFunTy"><span class="hs-identifier hs-var hs-var">getFunTy</span></a></span></span><span> </span><span id="local-6989586621680905062"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905062"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span class="hs-special">{</span><span id="local-6989586621680905063"><span class="annot"><span class="annottext">FunDefs ex
fundefs :: forall ex. Prog ex -&gt; FunDefs ex
fundefs :: FunDefs ex
</span><a href="Gibbon.Language.Syntax.html#fundefs"><span class="hs-identifier hs-var hs-var">fundefs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; FunDefs ex -&gt; Maybe (FunDef ex)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905062"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs ex
</span><a href="#local-6989586621680905063"><span class="hs-identifier hs-var">fundefs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680905064"><span class="annot"><span class="annottext">FunDef ex
</span><a href="#local-6989586621680905064"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FunDef ex -&gt; ArrowTy (TyOf ex)
forall ex. FunDef ex -&gt; ArrowTy (TyOf ex)
</span><a href="Gibbon.Language.Syntax.html#funTy"><span class="hs-identifier hs-var">funTy</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef ex
</span><a href="#local-6989586621680905064"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><span class="annottext">Maybe (FunDef ex)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ArrowTy (TyOf ex)
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; ArrowTy (TyOf ex)) -&gt; DataCon -&gt; ArrowTy (TyOf ex)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;getFunTy: L1 program does not contain binding for function: &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Var -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905062"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680903167"><span id="local-6989586621680905070"><span id="local-6989586621680905077"><span id="local-6989586621680905083"><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903167"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903167"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-269"></span><span>          </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903167"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903167"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903167"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- Environments</span><span>
</span><span id="line-273"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><span class="hs-comment">-- | A simple type environment</span></span><span>
</span><span id="line-276"></span><span class="hs-keyword">type</span><span> </span><span id="TyEnv"><span class="annot"><a href="Gibbon.Language.Syntax.html#TyEnv"><span class="hs-identifier hs-var">TyEnv</span></a></span></span><span> </span><span id="local-6989586621680905164"><span class="annot"><a href="#local-6989586621680905164"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680905164"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span id="local-6989586621680903168"><span class="annot"><a href="Gibbon.Language.Syntax.html#emptyTyEnv"><span class="hs-identifier hs-type">emptyTyEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyEnv"><span class="hs-identifier hs-type">TyEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903168"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-279"></span><span id="emptyTyEnv"><span class="annot"><span class="annottext">emptyTyEnv :: forall a. TyEnv a
</span><a href="Gibbon.Language.Syntax.html#emptyTyEnv"><span class="hs-identifier hs-var hs-var">emptyTyEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Var a
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-comment">-- | A common currency for a two part environment consisting of</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- function bindings and regular value bindings.</span><span>
</span><span id="line-283"></span><span class="hs-keyword">data</span><span> </span><span id="Env2"><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-var">Env2</span></a></span></span><span> </span><span id="local-6989586621680903162"><span class="annot"><a href="#local-6989586621680903162"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Env2"><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-var">Env2</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="vEnv"><span class="annot"><span class="annottext">forall a. Env2 a -&gt; TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var hs-var">vEnv</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyEnv"><span class="hs-identifier hs-type">TyEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903162"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-284"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="fEnv"><span class="annot"><span class="annottext">forall a. Env2 a -&gt; TyEnv (ArrowTy a)
</span><a href="Gibbon.Language.Syntax.html#fEnv"><span class="hs-identifier hs-var hs-var">fEnv</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyEnv"><span class="hs-identifier hs-type">TyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903162"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span id="local-6989586621680903173"><span id="local-6989586621680905172"><span id="local-6989586621680905178"><span id="local-6989586621680905182"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903173"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-288"></span><span id="local-6989586621680903175"><span id="local-6989586621680905188"><span id="local-6989586621680905192"><span id="local-6989586621680905195"><span id="local-6989586621680905208"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903175"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-289"></span><span id="local-6989586621680903177"><span id="local-6989586621680905214"><span id="local-6989586621680905219"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903177"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903177"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903177"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903177"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-290"></span><span class="hs-comment">-- deriving instance (Ord (TyOf a), Ord a, Ord (ArrowTy a)) =&gt; Ord (Env2 a)</span><span>
</span><span id="line-291"></span><span id="local-6989586621680903179"><span id="local-6989586621680905223"><span id="local-6989586621680905225"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903179"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-292"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680903181"><span id="local-6989586621680905230"><span id="local-6989586621680905237"><span id="local-6989586621680905243"><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903181"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903181"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903181"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span id="local-6989586621680903182"><span class="annot"><a href="Gibbon.Language.Syntax.html#emptyEnv2"><span class="hs-identifier hs-type">emptyEnv2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903182"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-295"></span><span id="emptyEnv2"><span class="annot"><span class="annottext">emptyEnv2 :: forall a. Env2 a
</span><a href="Gibbon.Language.Syntax.html#emptyEnv2"><span class="hs-identifier hs-var hs-var">emptyEnv2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">vEnv :: TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var">vEnv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyEnv a
forall a. TyEnv a
</span><a href="Gibbon.Language.Syntax.html#emptyTyEnv"><span class="hs-identifier hs-var">emptyTyEnv</span></a></span><span>
</span><span id="line-296"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fEnv :: TyEnv (ArrowTy a)
</span><a href="Gibbon.Language.Syntax.html#fEnv"><span class="hs-identifier hs-var">fEnv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="annot"><span class="hs-comment">-- | Extend non-function value environment.</span></span><span>
</span><span id="line-299"></span><span id="local-6989586621680903184"><span class="annot"><a href="Gibbon.Language.Syntax.html#extendVEnv"><span class="hs-identifier hs-type">extendVEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903184"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903184"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903184"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-300"></span><span id="extendVEnv"><span class="annot"><span class="annottext">extendVEnv :: forall a. Var -&gt; a -&gt; Env2 a -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#extendVEnv"><span class="hs-identifier hs-var hs-var">extendVEnv</span></a></span></span><span> </span><span id="local-6989586621680905302"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905302"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680905303"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680905303"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span id="local-6989586621680905304"><span class="annot"><span class="annottext">TyEnv a
</span><a href="#local-6989586621680905304"><span class="hs-identifier hs-var">ve</span></a></span></span><span> </span><span id="local-6989586621680905305"><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
</span><a href="#local-6989586621680905305"><span class="hs-identifier hs-var">fe</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyEnv a -&gt; TyEnv (ArrowTy a) -&gt; Env2 a
forall a. TyEnv a -&gt; TyEnv (ArrowTy a) -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-var">Env2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; a -&gt; TyEnv a -&gt; TyEnv a
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905302"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680905303"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">TyEnv a
</span><a href="#local-6989586621680905304"><span class="hs-identifier hs-var">ve</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
</span><a href="#local-6989586621680905305"><span class="hs-identifier hs-var">fe</span></a></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="annot"><span class="hs-comment">-- | Extend multiple times in one go.</span></span><span>
</span><span id="line-303"></span><span id="local-6989586621680903188"><span class="annot"><a href="Gibbon.Language.Syntax.html#extendsVEnv"><span class="hs-identifier hs-type">extendsVEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903188"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903188"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903188"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-304"></span><span id="extendsVEnv"><span class="annot"><span class="annottext">extendsVEnv :: forall a. Map Var a -&gt; Env2 a -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#extendsVEnv"><span class="hs-identifier hs-var hs-var">extendsVEnv</span></a></span></span><span> </span><span id="local-6989586621680905308"><span class="annot"><span class="annottext">Map Var a
</span><a href="#local-6989586621680905308"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span id="local-6989586621680905309"><span class="annot"><span class="annottext">Map Var a
</span><a href="#local-6989586621680905309"><span class="hs-identifier hs-var">ve</span></a></span></span><span> </span><span id="local-6989586621680905310"><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
</span><a href="#local-6989586621680905310"><span class="hs-identifier hs-var">fe</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Var a -&gt; TyEnv (ArrowTy a) -&gt; Env2 a
forall a. TyEnv a -&gt; TyEnv (ArrowTy a) -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-var">Env2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Var a -&gt; Map Var a -&gt; Map Var a
forall k a. Ord k =&gt; Map k a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#union"><span class="hs-identifier hs-var">M.union</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var a
</span><a href="#local-6989586621680905308"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">Map Var a
</span><a href="#local-6989586621680905309"><span class="hs-identifier hs-var">ve</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
</span><a href="#local-6989586621680905310"><span class="hs-identifier hs-var">fe</span></a></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span id="local-6989586621680903192"><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupVEnv"><span class="hs-identifier hs-type">lookupVEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903192"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903192"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903192"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-307"></span><span id="lookupVEnv"><span class="annot"><span class="annottext">lookupVEnv :: forall a. Out a =&gt; Var -&gt; Env2 a -&gt; a
</span><a href="Gibbon.Language.Syntax.html#lookupVEnv"><span class="hs-identifier hs-var hs-var">lookupVEnv</span></a></span></span><span> </span><span id="local-6989586621680905319"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905319"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680905320"><span class="annot"><span class="annottext">Env2 a
</span><a href="#local-6989586621680905320"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env2 a -&gt; TyEnv a
forall a. Env2 a -&gt; TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var">vEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 a
</span><a href="#local-6989586621680905320"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyEnv a -&gt; Var -&gt; a
forall a b.
(Ord a, Out a, Out b, Show a, HasCallStack) =&gt;
Map a b -&gt; a -&gt; b
</span><a href="Gibbon.Common.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905319"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span id="local-6989586621680903196"><span class="annot"><a href="Gibbon.Language.Syntax.html#mblookupVEnv"><span class="hs-identifier hs-type">mblookupVEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903196"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903196"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-310"></span><span id="mblookupVEnv"><span class="annot"><span class="annottext">mblookupVEnv :: forall a. Var -&gt; Env2 a -&gt; Maybe a
</span><a href="Gibbon.Language.Syntax.html#mblookupVEnv"><span class="hs-identifier hs-var hs-var">mblookupVEnv</span></a></span></span><span> </span><span id="local-6989586621680905324"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905324"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621680905325"><span class="annot"><span class="annottext">Env2 a
</span><a href="#local-6989586621680905325"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Map Var a -&gt; Maybe a
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905324"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env2 a -&gt; Map Var a
forall a. Env2 a -&gt; TyEnv a
</span><a href="Gibbon.Language.Syntax.html#vEnv"><span class="hs-identifier hs-var">vEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 a
</span><a href="#local-6989586621680905325"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span id="local-6989586621680905326"><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupVEnv%27"><span class="hs-identifier hs-type">lookupVEnv'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680905326"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680905326"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-313"></span><span id="lookupVEnv%27"><span class="annot"><span class="annottext">lookupVEnv' :: forall a. Var -&gt; Env2 a -&gt; Maybe a
</span><a href="Gibbon.Language.Syntax.html#lookupVEnv%27"><span class="hs-identifier hs-var hs-var">lookupVEnv'</span></a></span></span><span> </span><span id="local-6989586621680905329"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905329"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span id="local-6989586621680905330"><span class="annot"><span class="annottext">TyEnv a
</span><a href="#local-6989586621680905330"><span class="hs-identifier hs-var">ve</span></a></span></span><span> </span><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; TyEnv a -&gt; Maybe a
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905329"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">TyEnv a
</span><a href="#local-6989586621680905330"><span class="hs-identifier hs-var">ve</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="annot"><span class="hs-comment">-- | Extend function type environment.</span></span><span>
</span><span id="line-316"></span><span id="local-6989586621680903199"><span class="annot"><a href="Gibbon.Language.Syntax.html#extendFEnv"><span class="hs-identifier hs-type">extendFEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903199"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903199"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903199"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-317"></span><span id="extendFEnv"><span class="annot"><span class="annottext">extendFEnv :: forall a. Var -&gt; ArrowTy a -&gt; Env2 a -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#extendFEnv"><span class="hs-identifier hs-var hs-var">extendFEnv</span></a></span></span><span> </span><span id="local-6989586621680905332"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905332"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680905333"><span class="annot"><span class="annottext">ArrowTy a
</span><a href="#local-6989586621680905333"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span id="local-6989586621680905334"><span class="annot"><span class="annottext">TyEnv a
</span><a href="#local-6989586621680905334"><span class="hs-identifier hs-var">ve</span></a></span></span><span> </span><span id="local-6989586621680905335"><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
</span><a href="#local-6989586621680905335"><span class="hs-identifier hs-var">fe</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyEnv a -&gt; TyEnv (ArrowTy a) -&gt; Env2 a
forall a. TyEnv a -&gt; TyEnv (ArrowTy a) -&gt; Env2 a
</span><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-var">Env2</span></a></span><span> </span><span class="annot"><span class="annottext">TyEnv a
</span><a href="#local-6989586621680905334"><span class="hs-identifier hs-var">ve</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; ArrowTy a -&gt; TyEnv (ArrowTy a) -&gt; TyEnv (ArrowTy a)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905332"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy a
</span><a href="#local-6989586621680905333"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">TyEnv (ArrowTy a)
</span><a href="#local-6989586621680905335"><span class="hs-identifier hs-var">fe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span id="local-6989586621680903201"><span class="annot"><a href="Gibbon.Language.Syntax.html#lookupFEnv"><span class="hs-identifier hs-type">lookupFEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903201"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903201"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903201"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-320"></span><span id="lookupFEnv"><span class="annot"><span class="annottext">lookupFEnv :: forall a. Out (ArrowTy a) =&gt; Var -&gt; Env2 a -&gt; ArrowTy a
</span><a href="Gibbon.Language.Syntax.html#lookupFEnv"><span class="hs-identifier hs-var hs-var">lookupFEnv</span></a></span></span><span> </span><span id="local-6989586621680905343"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905343"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680905344"><span class="annot"><span class="annottext">Env2 a
</span><a href="#local-6989586621680905344"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env2 a -&gt; Map Var (ArrowTy a)
forall a. Env2 a -&gt; TyEnv (ArrowTy a)
</span><a href="Gibbon.Language.Syntax.html#fEnv"><span class="hs-identifier hs-var">fEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Env2 a
</span><a href="#local-6989586621680905344"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Var (ArrowTy a) -&gt; Var -&gt; ArrowTy a
forall a b.
(Ord a, Out a, Out b, Show a, HasCallStack) =&gt;
Map a b -&gt; a -&gt; b
</span><a href="Gibbon.Common.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680905343"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- Expressions</span><span>
</span><span id="line-325"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="hs-comment">-- Shorthand to make the below definition more readable.</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- I.e., this covers all the verbose recursive fields.</span><span class="hs-cpp">
#define EXP (PreExp ext loc dec)
</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | The source language.  It has pointer-based sums and products, as</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- well as packed algebraic datatypes.</span><span>
</span><span id="line-333"></span><span class="hs-comment">--</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- (1) It is parameterized by an a potential extension point.</span><span>
</span><span id="line-335"></span><span class="hs-comment">--</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- (2) It is parameterized by 'loc', the type of locations.</span><span>
</span><span id="line-337"></span><span class="hs-comment">--</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- (3) It is parameterized by a decoration, d, attached to every binder.</span><span>
</span><span id="line-339"></span><span class="hs-comment">--</span><span>
</span><span id="line-340"></span><span class="hs-keyword">data</span><span> </span><span id="PreExp"><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-var">PreExp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680903203"><span class="annot"><a href="#local-6989586621680903203"><span class="hs-identifier hs-type">ext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680903204"><span class="annot"><a href="#local-6989586621680903204"><span class="hs-identifier hs-type">loc</span></a></span></span><span> </span><span id="local-6989586621680903205"><span class="annot"><a href="#local-6989586621680903205"><span class="hs-identifier hs-type">dec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-341"></span><span>     </span><span id="VarE"><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Variable reference</span></span><span>
</span><span id="line-342"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="LitE"><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Numeric literal</span></span><span>
</span><span id="line-343"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="CharE"><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-var">CharE</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ A character literal</span></span><span>
</span><span id="line-344"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="FloatE"><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-var">FloatE</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ Floating point literal</span></span><span>
</span><span id="line-345"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="LitSymE"><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-var">LitSymE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ A quoted symbol literal</span></span><span>
</span><span id="line-346"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="AppE"><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680903204"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">EXP</span><span class="hs-special">]</span><span>
</span><span id="line-347"></span><span>     </span><span class="hs-comment">-- ^ Apply a top-level / first-order function.  Instantiate</span><span>
</span><span id="line-348"></span><span>     </span><span class="hs-comment">-- its type schema by providing location-variable arguments,</span><span>
</span><span id="line-349"></span><span>     </span><span class="hs-comment">-- if applicable.</span><span>
</span><span id="line-350"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="PrimAppE"><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prim"><span class="hs-identifier hs-type">Prim</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903205"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">EXP</span><span class="hs-special">]</span><span>
</span><span id="line-351"></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ Primitive applications don't manipulate locations.</span></span><span>
</span><span id="line-352"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="LetE"><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680903204"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680903205"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">EXP</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- binding</span><span>
</span><span id="line-353"></span><span>          </span><span class="hs-identifier">EXP</span><span>                  </span><span class="hs-comment">-- body</span><span>
</span><span id="line-354"></span><span>    </span><span class="hs-comment">-- ^ One binding at a time.  Allows binding a list of</span><span>
</span><span id="line-355"></span><span>    </span><span class="hs-comment">-- implicit *location* return vales from the RHS, plus a single &quot;real&quot; value.</span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-comment">-- This list of implicit returnsb</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="IfE"><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span></span><span> </span><span class="hs-identifier">EXP</span><span> </span><span class="hs-identifier">EXP</span><span> </span><span class="hs-identifier">EXP</span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span>   </span><span class="hs-comment">-- TODO: eventually tuples will just be a wired-in datatype.</span><span>
</span><span id="line-361"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="MkProdE"><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span></span><span>   </span><span class="hs-special">[</span><span class="hs-identifier">EXP</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ Tuple construction</span><span>
</span><span id="line-362"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="ProjE"><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-var">ProjE</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-identifier">EXP</span><span>   </span><span class="hs-comment">-- ^ Tuple projection.</span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>     </span><span class="hs-comment">-- in L0, loc carries the type of the corresponding var</span><span>
</span><span id="line-365"></span><span>     </span><span class="hs-comment">-- as there is no location information</span><span>
</span><span id="line-366"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="CaseE"><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-var">CaseE</span></a></span></span><span> </span><span class="hs-identifier">EXP</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">DataCon</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-identifier">Var</span><span class="hs-special">,</span><span class="hs-identifier">loc</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">EXP</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-367"></span><span>     </span><span class="hs-comment">-- ^ Case on a datatype.  Each bound, unpacked variable lives at</span><span>
</span><span id="line-368"></span><span>     </span><span class="hs-comment">-- a fixed, read-only location.</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="DataConE"><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903204"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-identifier">EXP</span><span class="hs-special">]</span><span>
</span><span id="line-371"></span><span>     </span><span class="hs-comment">-- ^ Construct data that may unpack some fields.  The location</span><span>
</span><span id="line-372"></span><span>     </span><span class="hs-comment">-- argument, if applicable, is the byte location at which to</span><span>
</span><span id="line-373"></span><span>     </span><span class="hs-comment">-- write the tag for the sum type.</span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="TimeIt"><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span></span><span> </span><span class="hs-identifier">EXP</span><span> </span><span class="hs-identifier">dec</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-comment">-- ^ The boolean being true indicates this TimeIt is really (iterate _)</span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-comment">-- This iterate form is used for criterion-style benchmarking.</span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="WithArenaE"><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-var">WithArenaE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-identifier">EXP</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="SpawnE"><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680903204"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">EXP</span><span class="hs-special">]</span><span>
</span><span id="line-382"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="SyncE"><span class="annot"><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span>   </span><span class="hs-comment">-- Limited list handling:</span><span>
</span><span id="line-385"></span><span>   </span><span class="hs-comment">-- TODO: RENAME to &quot;Array&quot;.</span><span>
</span><span id="line-386"></span><span>   </span><span class="hs-comment">-- TODO: Replace with Generate, add array reference.</span><span>
</span><span id="line-387"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="MapE"><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-var">MapE</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680903205"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">EXP</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">EXP</span><span>
</span><span id="line-388"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span id="FoldE"><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-var">FoldE</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="initial"><span class="annot"><span class="annottext">forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; (Var, dec, PreExp ext loc dec)
</span><a href="Gibbon.Language.Syntax.html#initial"><span class="hs-identifier hs-var hs-var">initial</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680903205"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">,</span><span class="hs-identifier">EXP</span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>           </span><span class="hs-special">,</span><span> </span><span id="iterator"><span class="annot"><span class="annottext">forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; (Var, dec, PreExp ext loc dec)
</span><a href="Gibbon.Language.Syntax.html#iterator"><span class="hs-identifier hs-var hs-var">iterator</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680903205"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">,</span><span class="hs-identifier">EXP</span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>           </span><span class="hs-special">,</span><span> </span><span id="body"><span class="annot"><span class="annottext">forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#body"><span class="hs-identifier hs-var hs-var">body</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">EXP</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span>   </span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Ext"><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680903203"><span class="hs-identifier hs-type">ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903204"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903205"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Extension point for downstream language extensions.</span></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680905372"><span id="local-6989586621680905438"><span id="local-6989586621680905442"><span class="annot"><span class="annottext">Int -&gt; PreExp ext loc dec -&gt; ShowS
[PreExp ext loc dec] -&gt; ShowS
PreExp ext loc dec -&gt; DataCon
(Int -&gt; PreExp ext loc dec -&gt; ShowS)
-&gt; (PreExp ext loc dec -&gt; DataCon)
-&gt; ([PreExp ext loc dec] -&gt; ShowS)
-&gt; Show (PreExp ext loc dec)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; DataCon) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Show loc, Show dec, Show (ext loc dec)) =&gt;
Int -&gt; PreExp ext loc dec -&gt; ShowS
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Show loc, Show dec, Show (ext loc dec)) =&gt;
[PreExp ext loc dec] -&gt; ShowS
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Show loc, Show dec, Show (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; DataCon
$cshowsPrec :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Show loc, Show dec, Show (ext loc dec)) =&gt;
Int -&gt; PreExp ext loc dec -&gt; ShowS
showsPrec :: Int -&gt; PreExp ext loc dec -&gt; ShowS
$cshow :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Show loc, Show dec, Show (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; DataCon
show :: PreExp ext loc dec -&gt; DataCon
$cshowList :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Show loc, Show dec, Show (ext loc dec)) =&gt;
[PreExp ext loc dec] -&gt; ShowS
showList :: [PreExp ext loc dec] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680905450"><span id="local-6989586621680905454"><span id="local-6989586621680905457"><span id="local-6989586621680905585"><span class="annot"><span class="annottext">ReadPrec [PreExp ext loc dec]
ReadPrec (PreExp ext loc dec)
Int -&gt; ReadS (PreExp ext loc dec)
ReadS [PreExp ext loc dec]
(Int -&gt; ReadS (PreExp ext loc dec))
-&gt; ReadS [PreExp ext loc dec]
-&gt; ReadPrec (PreExp ext loc dec)
-&gt; ReadPrec [PreExp ext loc dec]
-&gt; Read (PreExp ext loc dec)
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
ReadPrec [PreExp ext loc dec]
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
ReadPrec (PreExp ext loc dec)
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
Int -&gt; ReadS (PreExp ext loc dec)
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
ReadS [PreExp ext loc dec]
$creadsPrec :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
Int -&gt; ReadS (PreExp ext loc dec)
readsPrec :: Int -&gt; ReadS (PreExp ext loc dec)
$creadList :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
ReadS [PreExp ext loc dec]
readList :: ReadS [PreExp ext loc dec]
$creadPrec :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
ReadPrec (PreExp ext loc dec)
readPrec :: ReadPrec (PreExp ext loc dec)
$creadListPrec :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Read loc, Read dec, Read (ext loc dec)) =&gt;
ReadPrec [PreExp ext loc dec]
readListPrec :: ReadPrec [PreExp ext loc dec]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680905593"><span id="local-6989586621680905640"><span class="annot"><span class="annottext">PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
(PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed)
-&gt; Eq (PreExp ext loc dec)
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Eq loc, Eq dec, Eq (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
$c== :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Eq loc, Eq dec, Eq (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
== :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
$c/= :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Eq loc, Eq dec, Eq (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
/= :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680905654"><span id="local-6989586621680905700"><span id="local-6989586621680905704"><span id="local-6989586621680905707"><span id="local-6989586621680905710"><span id="local-6989586621680905713"><span id="local-6989586621680905716"><span class="annot"><span class="annottext">Eq (PreExp ext loc dec)
Eq (PreExp ext loc dec)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; Ordering)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec)
-&gt; (PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec)
-&gt; Ord (PreExp ext loc dec)
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; Ordering
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {ext :: * -&gt; * -&gt; *} {loc} {dec}.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
Eq (PreExp ext loc dec)
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; Ordering
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
$ccompare :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; Ordering
compare :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; Ordering
$c&lt; :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
&lt; :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
$c&lt;= :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
&lt;= :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
$c&gt; :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
&gt; :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
$c&gt;= :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
&gt;= :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; IsBoxed
$cmax :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
max :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
$cmin :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Ord loc, Ord dec, Ord (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
min :: PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680905721"><span id="local-6989586621680905723"><span class="annot"><span class="annottext">(forall x. PreExp ext loc dec -&gt; Rep (PreExp ext loc dec) x)
-&gt; (forall x. Rep (PreExp ext loc dec) x -&gt; PreExp ext loc dec)
-&gt; Generic (PreExp ext loc dec)
forall x. Rep (PreExp ext loc dec) x -&gt; PreExp ext loc dec
forall x. PreExp ext loc dec -&gt; Rep (PreExp ext loc dec) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (ext :: * -&gt; * -&gt; *) loc dec x.
Rep (PreExp ext loc dec) x -&gt; PreExp ext loc dec
forall (ext :: * -&gt; * -&gt; *) loc dec x.
PreExp ext loc dec -&gt; Rep (PreExp ext loc dec) x
$cfrom :: forall (ext :: * -&gt; * -&gt; *) loc dec x.
PreExp ext loc dec -&gt; Rep (PreExp ext loc dec) x
from :: forall x. PreExp ext loc dec -&gt; Rep (PreExp ext loc dec) x
$cto :: forall (ext :: * -&gt; * -&gt; *) loc dec x.
Rep (PreExp ext loc dec) x -&gt; PreExp ext loc dec
to :: forall x. Rep (PreExp ext loc dec) x -&gt; PreExp ext loc dec
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680905729"><span class="annot"><span class="annottext">PreExp ext loc dec -&gt; ()
(PreExp ext loc dec -&gt; ()) -&gt; NFData (PreExp ext loc dec)
forall a. (a -&gt; ()) -&gt; NFData a
forall (ext :: * -&gt; * -&gt; *) loc dec.
(NFData loc, NFData dec, NFData (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; ()
$crnf :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(NFData loc, NFData dec, NFData (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; ()
rnf :: PreExp ext loc dec -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680905848"><span id="local-6989586621680905880"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; PreExp ext loc a -&gt; PreExp ext loc b)
-&gt; (forall a b. a -&gt; PreExp ext loc b -&gt; PreExp ext loc a)
-&gt; Functor (PreExp ext loc)
forall a b. a -&gt; PreExp ext loc b -&gt; PreExp ext loc a
forall a b. (a -&gt; b) -&gt; PreExp ext loc a -&gt; PreExp ext loc b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
forall (ext :: * -&gt; * -&gt; *) loc a b.
Functor (ext loc) =&gt;
a -&gt; PreExp ext loc b -&gt; PreExp ext loc a
forall (ext :: * -&gt; * -&gt; *) loc a b.
Functor (ext loc) =&gt;
(a -&gt; b) -&gt; PreExp ext loc a -&gt; PreExp ext loc b
$cfmap :: forall (ext :: * -&gt; * -&gt; *) loc a b.
Functor (ext loc) =&gt;
(a -&gt; b) -&gt; PreExp ext loc a -&gt; PreExp ext loc b
fmap :: forall a b. (a -&gt; b) -&gt; PreExp ext loc a -&gt; PreExp ext loc b
$c&lt;$ :: forall (ext :: * -&gt; * -&gt; *) loc a b.
Functor (ext loc) =&gt;
a -&gt; PreExp ext loc b -&gt; PreExp ext loc a
&lt;$ :: forall a b. a -&gt; PreExp ext loc b -&gt; PreExp ext loc a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680905911"><span id="local-6989586621680905917"><span id="local-6989586621680905996"><span id="local-6989586621680906001"><span id="local-6989586621680906031"><span id="local-6989586621680906034"><span id="local-6989586621680906037"><span id="local-6989586621680906040"><span id="local-6989586621680906043"><span id="local-6989586621680906046"><span id="local-6989586621680906049"><span id="local-6989586621680906071"><span id="local-6989586621680906074"><span id="local-6989586621680906079"><span id="local-6989586621680906084"><span id="local-6989586621680906089"><span id="local-6989586621680906094"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; PreExp ext loc m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PreExp ext loc a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PreExp ext loc a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a)
-&gt; (forall a. PreExp ext loc a -&gt; [a])
-&gt; (forall a. PreExp ext loc a -&gt; IsBoxed)
-&gt; (forall a. PreExp ext loc a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; PreExp ext loc a -&gt; IsBoxed)
-&gt; (forall a. Ord a =&gt; PreExp ext loc a -&gt; a)
-&gt; (forall a. Ord a =&gt; PreExp ext loc a -&gt; a)
-&gt; (forall a. Num a =&gt; PreExp ext loc a -&gt; a)
-&gt; (forall a. Num a =&gt; PreExp ext loc a -&gt; a)
-&gt; Foldable (PreExp ext loc)
forall a. Eq a =&gt; a -&gt; PreExp ext loc a -&gt; IsBoxed
forall a. Num a =&gt; PreExp ext loc a -&gt; a
forall a. Ord a =&gt; PreExp ext loc a -&gt; a
forall m. Monoid m =&gt; PreExp ext loc m -&gt; m
forall a. PreExp ext loc a -&gt; IsBoxed
forall a. PreExp ext loc a -&gt; Int
forall a. PreExp ext loc a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PreExp ext loc a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; IsBoxed)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; IsBoxed)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Eq a) =&gt;
a -&gt; PreExp ext loc a -&gt; IsBoxed
forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Num a) =&gt;
PreExp ext loc a -&gt; a
forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Ord a) =&gt;
PreExp ext loc a -&gt; a
forall (ext :: * -&gt; * -&gt; *) loc m.
(Foldable (ext loc), Monoid m) =&gt;
PreExp ext loc m -&gt; m
forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
PreExp ext loc a -&gt; IsBoxed
forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
PreExp ext loc a -&gt; Int
forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
PreExp ext loc a -&gt; [a]
forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
(a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a
forall (ext :: * -&gt; * -&gt; *) loc m a.
(Foldable (ext loc), Monoid m) =&gt;
(a -&gt; m) -&gt; PreExp ext loc a -&gt; m
forall (ext :: * -&gt; * -&gt; *) loc b a.
Foldable (ext loc) =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
forall (ext :: * -&gt; * -&gt; *) loc a b.
Foldable (ext loc) =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
$cfold :: forall (ext :: * -&gt; * -&gt; *) loc m.
(Foldable (ext loc), Monoid m) =&gt;
PreExp ext loc m -&gt; m
fold :: forall m. Monoid m =&gt; PreExp ext loc m -&gt; m
$cfoldMap :: forall (ext :: * -&gt; * -&gt; *) loc m a.
(Foldable (ext loc), Monoid m) =&gt;
(a -&gt; m) -&gt; PreExp ext loc a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PreExp ext loc a -&gt; m
$cfoldMap' :: forall (ext :: * -&gt; * -&gt; *) loc m a.
(Foldable (ext loc), Monoid m) =&gt;
(a -&gt; m) -&gt; PreExp ext loc a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; PreExp ext loc a -&gt; m
$cfoldr :: forall (ext :: * -&gt; * -&gt; *) loc a b.
Foldable (ext loc) =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
$cfoldr' :: forall (ext :: * -&gt; * -&gt; *) loc a b.
Foldable (ext loc) =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
$cfoldl :: forall (ext :: * -&gt; * -&gt; *) loc b a.
Foldable (ext loc) =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
$cfoldl' :: forall (ext :: * -&gt; * -&gt; *) loc b a.
Foldable (ext loc) =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; PreExp ext loc a -&gt; b
$cfoldr1 :: forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
(a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a
$cfoldl1 :: forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
(a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; PreExp ext loc a -&gt; a
$ctoList :: forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
PreExp ext loc a -&gt; [a]
toList :: forall a. PreExp ext loc a -&gt; [a]
$cnull :: forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
PreExp ext loc a -&gt; IsBoxed
null :: forall a. PreExp ext loc a -&gt; IsBoxed
$clength :: forall (ext :: * -&gt; * -&gt; *) loc a.
Foldable (ext loc) =&gt;
PreExp ext loc a -&gt; Int
length :: forall a. PreExp ext loc a -&gt; Int
$celem :: forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Eq a) =&gt;
a -&gt; PreExp ext loc a -&gt; IsBoxed
elem :: forall a. Eq a =&gt; a -&gt; PreExp ext loc a -&gt; IsBoxed
$cmaximum :: forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Ord a) =&gt;
PreExp ext loc a -&gt; a
maximum :: forall a. Ord a =&gt; PreExp ext loc a -&gt; a
$cminimum :: forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Ord a) =&gt;
PreExp ext loc a -&gt; a
minimum :: forall a. Ord a =&gt; PreExp ext loc a -&gt; a
$csum :: forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Num a) =&gt;
PreExp ext loc a -&gt; a
sum :: forall a. Num a =&gt; PreExp ext loc a -&gt; a
$cproduct :: forall (ext :: * -&gt; * -&gt; *) loc a.
(Foldable (ext loc), Num a) =&gt;
PreExp ext loc a -&gt; a
product :: forall a. Num a =&gt; PreExp ext loc a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680906107"><span id="local-6989586621680906197"><span id="local-6989586621680906202"><span id="local-6989586621680906207"><span class="annot"><span class="annottext">Functor (PreExp ext loc)
Foldable (PreExp ext loc)
Functor (PreExp ext loc)
-&gt; Foldable (PreExp ext loc)
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; PreExp ext loc a -&gt; f (PreExp ext loc b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    PreExp ext loc (f a) -&gt; f (PreExp ext loc a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; PreExp ext loc a -&gt; m (PreExp ext loc b))
-&gt; (forall (m :: * -&gt; *) a.
    Monad m =&gt;
    PreExp ext loc (m a) -&gt; m (PreExp ext loc a))
-&gt; Traversable (PreExp ext loc)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a.
Monad m =&gt;
PreExp ext loc (m a) -&gt; m (PreExp ext loc a)
forall (f :: * -&gt; *) a.
Applicative f =&gt;
PreExp ext loc (f a) -&gt; f (PreExp ext loc a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; PreExp ext loc a -&gt; m (PreExp ext loc b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; PreExp ext loc a -&gt; f (PreExp ext loc b)
forall {ext :: * -&gt; * -&gt; *} {loc}.
Traversable (ext loc) =&gt;
Functor (PreExp ext loc)
forall {ext :: * -&gt; * -&gt; *} {loc}.
Traversable (ext loc) =&gt;
Foldable (PreExp ext loc)
forall (ext :: * -&gt; * -&gt; *) loc (m :: * -&gt; *) a.
(Traversable (ext loc), Monad m) =&gt;
PreExp ext loc (m a) -&gt; m (PreExp ext loc a)
forall (ext :: * -&gt; * -&gt; *) loc (f :: * -&gt; *) a.
(Traversable (ext loc), Applicative f) =&gt;
PreExp ext loc (f a) -&gt; f (PreExp ext loc a)
forall (ext :: * -&gt; * -&gt; *) loc (m :: * -&gt; *) a b.
(Traversable (ext loc), Monad m) =&gt;
(a -&gt; m b) -&gt; PreExp ext loc a -&gt; m (PreExp ext loc b)
forall (ext :: * -&gt; * -&gt; *) loc (f :: * -&gt; *) a b.
(Traversable (ext loc), Applicative f) =&gt;
(a -&gt; f b) -&gt; PreExp ext loc a -&gt; f (PreExp ext loc b)
$ctraverse :: forall (ext :: * -&gt; * -&gt; *) loc (f :: * -&gt; *) a b.
(Traversable (ext loc), Applicative f) =&gt;
(a -&gt; f b) -&gt; PreExp ext loc a -&gt; f (PreExp ext loc b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; PreExp ext loc a -&gt; f (PreExp ext loc b)
$csequenceA :: forall (ext :: * -&gt; * -&gt; *) loc (f :: * -&gt; *) a.
(Traversable (ext loc), Applicative f) =&gt;
PreExp ext loc (f a) -&gt; f (PreExp ext loc a)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
PreExp ext loc (f a) -&gt; f (PreExp ext loc a)
$cmapM :: forall (ext :: * -&gt; * -&gt; *) loc (m :: * -&gt; *) a b.
(Traversable (ext loc), Monad m) =&gt;
(a -&gt; m b) -&gt; PreExp ext loc a -&gt; m (PreExp ext loc b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; PreExp ext loc a -&gt; m (PreExp ext loc b)
$csequence :: forall (ext :: * -&gt; * -&gt; *) loc (m :: * -&gt; *) a.
(Traversable (ext loc), Monad m) =&gt;
PreExp ext loc (m a) -&gt; m (PreExp ext loc a)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
PreExp ext loc (m a) -&gt; m (PreExp ext loc a)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#Traversable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680906219"><span id="local-6989586621680906226"><span id="local-6989586621680906232"><span class="annot"><span class="annottext">Int -&gt; PreExp ext loc dec -&gt; Doc
[PreExp ext loc dec] -&gt; Doc
PreExp ext loc dec -&gt; Doc
(Int -&gt; PreExp ext loc dec -&gt; Doc)
-&gt; (PreExp ext loc dec -&gt; Doc)
-&gt; ([PreExp ext loc dec] -&gt; Doc)
-&gt; Out (PreExp ext loc dec)
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Out loc, Out dec, Out (ext loc dec)) =&gt;
Int -&gt; PreExp ext loc dec -&gt; Doc
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Out loc, Out dec, Out (ext loc dec)) =&gt;
[PreExp ext loc dec] -&gt; Doc
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Out loc, Out dec, Out (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; Doc
$cdocPrec :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Out loc, Out dec, Out (ext loc dec)) =&gt;
Int -&gt; PreExp ext loc dec -&gt; Doc
docPrec :: Int -&gt; PreExp ext loc dec -&gt; Doc
$cdoc :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Out loc, Out dec, Out (ext loc dec)) =&gt;
PreExp ext loc dec -&gt; Doc
doc :: PreExp ext loc dec -&gt; Doc
$cdocList :: forall (ext :: * -&gt; * -&gt; *) loc dec.
(Out loc, Out dec, Out (ext loc dec)) =&gt;
[PreExp ext loc dec] -&gt; Doc
docList :: [PreExp ext loc dec] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-399"></span><span class="hs-comment">-- Primitives</span><span>
</span><span id="line-400"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-comment">-- | Some of these primitives are (temporarily) tagged directly with</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- their return types.</span><span>
</span><span id="line-404"></span><span class="hs-keyword">data</span><span> </span><span id="Prim"><span class="annot"><a href="Gibbon.Language.Syntax.html#Prim"><span class="hs-identifier hs-var">Prim</span></a></span></span><span> </span><span id="local-6989586621680903716"><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span></span><span>
</span><span id="line-405"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span id="AddP"><span class="annot"><a href="Gibbon.Language.Syntax.html#AddP"><span class="hs-identifier hs-var">AddP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="SubP"><span class="annot"><a href="Gibbon.Language.Syntax.html#SubP"><span class="hs-identifier hs-var">SubP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="MulP"><span class="annot"><a href="Gibbon.Language.Syntax.html#MulP"><span class="hs-identifier hs-var">MulP</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ May need more numeric primitives...</span></span><span>
</span><span id="line-406"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="DivP"><span class="annot"><a href="Gibbon.Language.Syntax.html#DivP"><span class="hs-identifier hs-var">DivP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="ModP"><span class="annot"><a href="Gibbon.Language.Syntax.html#ModP"><span class="hs-identifier hs-var">ModP</span></a></span></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Integer division and modulus</span></span><span>
</span><span id="line-407"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="ExpP"><span class="annot"><a href="Gibbon.Language.Syntax.html#ExpP"><span class="hs-identifier hs-var">ExpP</span></a></span></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ Exponentiation</span></span><span>
</span><span id="line-408"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="RandP"><span class="annot"><a href="Gibbon.Language.Syntax.html#RandP"><span class="hs-identifier hs-var">RandP</span></a></span></span><span>              </span><span class="hs-comment">-- ^ Generate a random number.</span><span>
</span><span id="line-409"></span><span>                               </span><span class="hs-comment">--   Translates to 'rand()' in C.</span><span>
</span><span id="line-410"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="EqIntP"><span class="annot"><a href="Gibbon.Language.Syntax.html#EqIntP"><span class="hs-identifier hs-var">EqIntP</span></a></span></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ Equality on Int</span></span><span>
</span><span id="line-411"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LtP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LtP"><span class="hs-identifier hs-var">LtP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="GtP"><span class="annot"><a href="Gibbon.Language.Syntax.html#GtP"><span class="hs-identifier hs-var">GtP</span></a></span></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ (&lt;) and (&gt;) for Int's</span></span><span>
</span><span id="line-412"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LtEqP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LtEqP"><span class="hs-identifier hs-var">LtEqP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="GtEqP"><span class="annot"><a href="Gibbon.Language.Syntax.html#GtEqP"><span class="hs-identifier hs-var">GtEqP</span></a></span></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ &lt;= and &gt;=</span></span><span>
</span><span id="line-413"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="FAddP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FAddP"><span class="hs-identifier hs-var">FAddP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FSubP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FSubP"><span class="hs-identifier hs-var">FSubP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FMulP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FMulP"><span class="hs-identifier hs-var">FMulP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FDivP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FDivP"><span class="hs-identifier hs-var">FDivP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FExpP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FExpP"><span class="hs-identifier hs-var">FExpP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FRandP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FRandP"><span class="hs-identifier hs-var">FRandP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="EqFloatP"><span class="annot"><a href="Gibbon.Language.Syntax.html#EqFloatP"><span class="hs-identifier hs-var">EqFloatP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="EqCharP"><span class="annot"><a href="Gibbon.Language.Syntax.html#EqCharP"><span class="hs-identifier hs-var">EqCharP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FLtP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FLtP"><span class="hs-identifier hs-var">FLtP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FGtP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FGtP"><span class="hs-identifier hs-var">FGtP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FLtEqP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FLtEqP"><span class="hs-identifier hs-var">FLtEqP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FGtEqP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FGtEqP"><span class="hs-identifier hs-var">FGtEqP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FSqrtP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FSqrtP"><span class="hs-identifier hs-var">FSqrtP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="IntToFloatP"><span class="annot"><a href="Gibbon.Language.Syntax.html#IntToFloatP"><span class="hs-identifier hs-var">IntToFloatP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="FloatToIntP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatToIntP"><span class="hs-identifier hs-var">FloatToIntP</span></a></span></span><span>
</span><span id="line-414"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="FTanP"><span class="annot"><a href="Gibbon.Language.Syntax.html#FTanP"><span class="hs-identifier hs-var">FTanP</span></a></span></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Translates to 'tan()' in C.</span></span><span>
</span><span id="line-415"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="EqSymP"><span class="annot"><a href="Gibbon.Language.Syntax.html#EqSymP"><span class="hs-identifier hs-var">EqSymP</span></a></span></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ Equality on Sym</span></span><span>
</span><span id="line-416"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="EqBenchProgP"><span class="annot"><a href="Gibbon.Language.Syntax.html#EqBenchProgP"><span class="hs-identifier hs-var">EqBenchProgP</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-417"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="OrP"><span class="annot"><a href="Gibbon.Language.Syntax.html#OrP"><span class="hs-identifier hs-var">OrP</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="AndP"><span class="annot"><a href="Gibbon.Language.Syntax.html#AndP"><span class="hs-identifier hs-var">AndP</span></a></span></span><span>
</span><span id="line-418"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="MkTrue"><span class="annot"><a href="Gibbon.Language.Syntax.html#MkTrue"><span class="hs-identifier hs-var">MkTrue</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Zero argument constructor.</span></span><span>
</span><span id="line-419"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="MkFalse"><span class="annot"><a href="Gibbon.Language.Syntax.html#MkFalse"><span class="hs-identifier hs-var">MkFalse</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Zero argument constructor.</span></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="ErrorP"><span class="annot"><a href="Gibbon.Language.Syntax.html#ErrorP"><span class="hs-identifier hs-var">ErrorP</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-422"></span><span>              </span><span class="hs-comment">-- ^ crash and issue a static error message.</span><span>
</span><span id="line-423"></span><span>              </span><span class="hs-comment">--   To avoid needing inference, this is labeled with a return type.</span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SizeParam"><span class="annot"><a href="Gibbon.Language.Syntax.html#SizeParam"><span class="hs-identifier hs-var">SizeParam</span></a></span></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="IsBig"><span class="annot"><a href="Gibbon.Language.Syntax.html#IsBig"><span class="hs-identifier hs-var">IsBig</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Check the size of constructors with size.</span></span><span>
</span><span id="line-428"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="GetNumProcessors"><span class="annot"><a href="Gibbon.Language.Syntax.html#GetNumProcessors"><span class="hs-identifier hs-var">GetNumProcessors</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Return the number of processors</span></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PrintInt"><span class="annot"><a href="Gibbon.Language.Syntax.html#PrintInt"><span class="hs-identifier hs-var">PrintInt</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Print an integer to standard out</span></span><span>
</span><span id="line-431"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PrintChar"><span class="annot"><a href="Gibbon.Language.Syntax.html#PrintChar"><span class="hs-identifier hs-var">PrintChar</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Print a character to standard out</span></span><span>
</span><span id="line-432"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PrintFloat"><span class="annot"><a href="Gibbon.Language.Syntax.html#PrintFloat"><span class="hs-identifier hs-var">PrintFloat</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Print a floating point number to standard out</span></span><span>
</span><span id="line-433"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PrintBool"><span class="annot"><a href="Gibbon.Language.Syntax.html#PrintBool"><span class="hs-identifier hs-var">PrintBool</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Print a boolean to standard out</span></span><span>
</span><span id="line-434"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PrintSym"><span class="annot"><a href="Gibbon.Language.Syntax.html#PrintSym"><span class="hs-identifier hs-var">PrintSym</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Print a symbol to standard out</span></span><span>
</span><span id="line-435"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="ReadInt"><span class="annot"><a href="Gibbon.Language.Syntax.html#ReadInt"><span class="hs-identifier hs-var">ReadInt</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Read an int from standard in</span></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span>          </span><span class="hs-comment">-- Dictionaries.</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="DictInsertP"><span class="annot"><a href="Gibbon.Language.Syntax.html#DictInsertP"><span class="hs-identifier hs-var">DictInsertP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ takes dict, k,v; annotated with element type</span></span><span>
</span><span id="line-440"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="DictLookupP"><span class="annot"><a href="Gibbon.Language.Syntax.html#DictLookupP"><span class="hs-identifier hs-var">DictLookupP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ takes dict,k errors if absent; annotated with element type</span></span><span>
</span><span id="line-441"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="DictEmptyP"><span class="annot"><a href="Gibbon.Language.Syntax.html#DictEmptyP"><span class="hs-identifier hs-var">DictEmptyP</span></a></span></span><span>  </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ annotated with element type to avoid ambiguity</span></span><span>
</span><span id="line-442"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="DictHasKeyP"><span class="annot"><a href="Gibbon.Language.Syntax.html#DictHasKeyP"><span class="hs-identifier hs-var">DictHasKeyP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ takes dict,k; returns a Bool, annotated with element type</span></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SymSetEmpty"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymSetEmpty"><span class="hs-identifier hs-var">SymSetEmpty</span></a></span></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Creates an empty set</span></span><span>
</span><span id="line-445"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SymSetInsert"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymSetInsert"><span class="hs-identifier hs-var">SymSetInsert</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Inserts a symbol into a set of symbols</span></span><span>
</span><span id="line-446"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SymSetContains"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymSetContains"><span class="hs-identifier hs-var">SymSetContains</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Queries if a symbol is in a set</span></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SymHashEmpty"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymHashEmpty"><span class="hs-identifier hs-var">SymHashEmpty</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Create empty hash table of symbols</span></span><span>
</span><span id="line-449"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SymHashInsert"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymHashInsert"><span class="hs-identifier hs-var">SymHashInsert</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Insert a symbol into a hash table</span></span><span>
</span><span id="line-450"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SymHashLookup"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymHashLookup"><span class="hs-identifier hs-var">SymHashLookup</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Look up a symbol in a hash table (takes default symbol)</span></span><span>
</span><span id="line-451"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="SymHashContains"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymHashContains"><span class="hs-identifier hs-var">SymHashContains</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Queries if a symbol is in a hash</span></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="IntHashEmpty"><span class="annot"><a href="Gibbon.Language.Syntax.html#IntHashEmpty"><span class="hs-identifier hs-var">IntHashEmpty</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Create empty hash table of integers</span></span><span>
</span><span id="line-454"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="IntHashInsert"><span class="annot"><a href="Gibbon.Language.Syntax.html#IntHashInsert"><span class="hs-identifier hs-var">IntHashInsert</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Insert an integer into a hash table</span></span><span>
</span><span id="line-455"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="IntHashLookup"><span class="annot"><a href="Gibbon.Language.Syntax.html#IntHashLookup"><span class="hs-identifier hs-var">IntHashLookup</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Look up a integer in a hash table (takes default integer)</span></span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span>          </span><span class="hs-comment">-- Thread safe dictionaries.</span><span>
</span><span id="line-458"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PDictAllocP"><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictAllocP"><span class="hs-identifier hs-var">PDictAllocP</span></a></span></span><span>  </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ annotated with element type to avoid ambiguity</span></span><span>
</span><span id="line-459"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PDictInsertP"><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictInsertP"><span class="hs-identifier hs-var">PDictInsertP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ takes dict, k, v; annotated with element type</span></span><span>
</span><span id="line-460"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PDictLookupP"><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictLookupP"><span class="hs-identifier hs-var">PDictLookupP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ takes dict, k. errors if absent; annotated with element type</span></span><span>
</span><span id="line-461"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PDictHasKeyP"><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictHasKeyP"><span class="hs-identifier hs-var">PDictHasKeyP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ takes dict,k; returns a Bool, annotated with element type</span></span><span>
</span><span id="line-462"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PDictForkP"><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictForkP"><span class="hs-identifier hs-var">PDictForkP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ takes dict; returns thread safe safe dicts.</span></span><span>
</span><span id="line-463"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="PDictJoinP"><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictJoinP"><span class="hs-identifier hs-var">PDictJoinP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ takes 2 dicts; returns a merged dict.</span></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span>          </span><span class="hs-comment">-- Linked Lists.</span><span>
</span><span id="line-466"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLAllocP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLAllocP"><span class="hs-identifier hs-var">LLAllocP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-467"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLIsEmptyP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLIsEmptyP"><span class="hs-identifier hs-var">LLIsEmptyP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-468"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLConsP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLConsP"><span class="hs-identifier hs-var">LLConsP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-469"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLHeadP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLHeadP"><span class="hs-identifier hs-var">LLHeadP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-470"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLTailP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLTailP"><span class="hs-identifier hs-var">LLTailP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-471"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLFreeP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLFreeP"><span class="hs-identifier hs-var">LLFreeP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Free the list, and it's data.</span></span><span>
</span><span id="line-472"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLFree2P"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLFree2P"><span class="hs-identifier hs-var">LLFree2P</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Free list struct, but not it's data.</span></span><span>
</span><span id="line-473"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="LLCopyP"><span class="annot"><a href="Gibbon.Language.Syntax.html#LLCopyP"><span class="hs-identifier hs-var">LLCopyP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Copy the list node.</span></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span>          </span><span class="hs-comment">-- Operations on vectors</span><span>
</span><span id="line-476"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VAllocP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VAllocP"><span class="hs-identifier hs-var">VAllocP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Allocate a vector</span></span><span>
</span><span id="line-477"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VFreeP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VFreeP"><span class="hs-identifier hs-var">VFreeP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Free a vector, and it's data.</span></span><span>
</span><span id="line-478"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VFree2P"><span class="annot"><a href="Gibbon.Language.Syntax.html#VFree2P"><span class="hs-identifier hs-var">VFree2P</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Free the vector struct, but not it's data.</span></span><span>
</span><span id="line-479"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VLengthP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VLengthP"><span class="hs-identifier hs-var">VLengthP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Length of the vector</span></span><span>
</span><span id="line-480"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VNthP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VNthP"><span class="hs-identifier hs-var">VNthP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Fetch the nth element</span></span><span>
</span><span id="line-481"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VSliceP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VSliceP"><span class="hs-identifier hs-var">VSliceP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ An efficient slice operation</span></span><span>
</span><span id="line-482"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="InplaceVUpdateP"><span class="annot"><a href="Gibbon.Language.Syntax.html#InplaceVUpdateP"><span class="hs-identifier hs-var">InplaceVUpdateP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Update ith element of the vector</span></span><span>
</span><span id="line-483"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VConcatP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VConcatP"><span class="hs-identifier hs-var">VConcatP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Flatten a vector</span></span><span>
</span><span id="line-484"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VSortP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VSortP"><span class="hs-identifier hs-var">VSortP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ A sort primop that accepts a function pointer</span></span><span>
</span><span id="line-485"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="InplaceVSortP"><span class="annot"><a href="Gibbon.Language.Syntax.html#InplaceVSortP"><span class="hs-identifier hs-var">InplaceVSortP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ A sort primop that sorts the array in place</span></span><span>
</span><span id="line-486"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="VMergeP"><span class="annot"><a href="Gibbon.Language.Syntax.html#VMergeP"><span class="hs-identifier hs-var">VMergeP</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>         </span><span class="hs-comment">-- ^ ASSUMPTION: the vectors being merged have the same</span><span>
</span><span id="line-487"></span><span>                               </span><span class="hs-comment">--   underlying mutable array. This assumption is checked</span><span>
</span><span id="line-488"></span><span>                               </span><span class="hs-comment">--   at the type level with a Rank-2 type variable. But this</span><span>
</span><span id="line-489"></span><span>                               </span><span class="hs-comment">--   evidence is erased (by the desugarer) by the time we get</span><span>
</span><span id="line-490"></span><span>                               </span><span class="hs-comment">--   to L0.</span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="Write3dPpmFile"><span class="annot"><a href="Gibbon.Language.Syntax.html#Write3dPpmFile"><span class="hs-identifier hs-var">Write3dPpmFile</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="ReadPackedFile"><span class="annot"><a href="Gibbon.Language.Syntax.html#ReadPackedFile"><span class="hs-identifier hs-var">ReadPackedFile</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-495"></span><span>            </span><span class="hs-comment">-- ^ Read (mmap) a binary file containing packed data.  This must be annotated with the</span><span>
</span><span id="line-496"></span><span>            </span><span class="hs-comment">-- type of the file being read.  The `Ty` tracks the type as the program evolvels</span><span>
</span><span id="line-497"></span><span>            </span><span class="hs-comment">-- (first PackedTy then CursorTy).  The TyCon tracks the original type name.</span><span>
</span><span id="line-498"></span><span>            </span><span class="hs-comment">-- The variable represents the region that this file will be mapped to, and is</span><span>
</span><span id="line-499"></span><span>            </span><span class="hs-comment">-- set by InferLocations.</span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="WritePackedFile"><span class="annot"><a href="Gibbon.Language.Syntax.html#WritePackedFile"><span class="hs-identifier hs-var">WritePackedFile</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-502"></span><span>            </span><span class="hs-comment">-- ^ Write a packed value to a file.</span><span>
</span><span id="line-503"></span><span>            </span><span class="hs-comment">-- To enable re-reading this packed value with Gibbon, this primitive gets rid</span><span>
</span><span id="line-504"></span><span>            </span><span class="hs-comment">-- of any absolute pointers in the value. First, it inlines (by copying) any</span><span>
</span><span id="line-505"></span><span>            </span><span class="hs-comment">-- regions pointed to by the packed value. Next, random access nodes are eliminated.</span><span>
</span><span id="line-506"></span><span>            </span><span class="hs-comment">-- We could change them to relative pointers (numeric offsets),</span><span>
</span><span id="line-507"></span><span>            </span><span class="hs-comment">-- but for a first version we can simplify things by getting rid of them completely.</span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="ReadArrayFile"><span class="annot"><a href="Gibbon.Language.Syntax.html#ReadArrayFile"><span class="hs-identifier hs-var">ReadArrayFile</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680903716"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-510"></span><span>            </span><span class="hs-comment">-- ^ Parse a file into a Vector. This is decorated with the</span><span>
</span><span id="line-511"></span><span>            </span><span class="hs-comment">-- element type. If the element type is a struct,</span><span>
</span><span id="line-512"></span><span>            </span><span class="hs-comment">-- like (Int, Int) for example, each line must contain 2 numbers</span><span>
</span><span id="line-513"></span><span>            </span><span class="hs-comment">-- separated by a space. The Int is the number of lines in the</span><span>
</span><span id="line-514"></span><span>            </span><span class="hs-comment">-- file.    </span><span>
</span><span id="line-515"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RequestEndOf"><span class="annot"><a href="Gibbon.Language.Syntax.html#RequestEndOf"><span class="hs-identifier hs-var">RequestEndOf</span></a></span></span><span>
</span><span id="line-516"></span><span>          </span><span class="hs-comment">-- ^ Conveys a demand for the &quot;end of&quot; some packed value, which is</span><span>
</span><span id="line-517"></span><span>          </span><span class="hs-comment">-- fulfilled by Cursorize. N.B. the argument must be a VarE that</span><span>
</span><span id="line-518"></span><span>          </span><span class="hs-comment">-- refers to a packed value.</span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="RequestSizeOf"><span class="annot"><a href="Gibbon.Language.Syntax.html#RequestSizeOf"><span class="hs-identifier hs-var">RequestSizeOf</span></a></span></span><span>
</span><span id="line-521"></span><span>          </span><span class="hs-comment">-- ^ Like 'RequestEndOf' but gets the size of a packed value. Assume</span><span>
</span><span id="line-522"></span><span>          </span><span class="hs-comment">-- that the value is written in a contiguous region, and size = end_v - v.</span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="Gensym"><span class="annot"><a href="Gibbon.Language.Syntax.html#Gensym"><span class="hs-identifier hs-var">Gensym</span></a></span></span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680906673"><span id="local-6989586621680906676"><span id="local-6989586621680906679"><span id="local-6989586621680906903"><span class="annot"><span class="annottext">ReadPrec [Prim ty]
ReadPrec (Prim ty)
Int -&gt; ReadS (Prim ty)
ReadS [Prim ty]
(Int -&gt; ReadS (Prim ty))
-&gt; ReadS [Prim ty]
-&gt; ReadPrec (Prim ty)
-&gt; ReadPrec [Prim ty]
-&gt; Read (Prim ty)
forall ty. Read ty =&gt; ReadPrec [Prim ty]
forall ty. Read ty =&gt; ReadPrec (Prim ty)
forall ty. Read ty =&gt; Int -&gt; ReadS (Prim ty)
forall ty. Read ty =&gt; ReadS [Prim ty]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: forall ty. Read ty =&gt; Int -&gt; ReadS (Prim ty)
readsPrec :: Int -&gt; ReadS (Prim ty)
$creadList :: forall ty. Read ty =&gt; ReadS [Prim ty]
readList :: ReadS [Prim ty]
$creadPrec :: forall ty. Read ty =&gt; ReadPrec (Prim ty)
readPrec :: ReadPrec (Prim ty)
$creadListPrec :: forall ty. Read ty =&gt; ReadPrec [Prim ty]
readListPrec :: ReadPrec [Prim ty]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680906908"><span id="local-6989586621680906995"><span id="local-6989586621680906998"><span class="annot"><span class="annottext">Int -&gt; Prim ty -&gt; ShowS
[Prim ty] -&gt; ShowS
Prim ty -&gt; DataCon
(Int -&gt; Prim ty -&gt; ShowS)
-&gt; (Prim ty -&gt; DataCon) -&gt; ([Prim ty] -&gt; ShowS) -&gt; Show (Prim ty)
forall ty. Show ty =&gt; Int -&gt; Prim ty -&gt; ShowS
forall ty. Show ty =&gt; [Prim ty] -&gt; ShowS
forall ty. Show ty =&gt; Prim ty -&gt; DataCon
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; DataCon) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall ty. Show ty =&gt; Int -&gt; Prim ty -&gt; ShowS
showsPrec :: Int -&gt; Prim ty -&gt; ShowS
$cshow :: forall ty. Show ty =&gt; Prim ty -&gt; DataCon
show :: Prim ty -&gt; DataCon
$cshowList :: forall ty. Show ty =&gt; [Prim ty] -&gt; ShowS
showList :: [Prim ty] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907003"><span id="local-6989586621680907055"><span class="annot"><span class="annottext">Prim ty -&gt; Prim ty -&gt; IsBoxed
(Prim ty -&gt; Prim ty -&gt; IsBoxed)
-&gt; (Prim ty -&gt; Prim ty -&gt; IsBoxed) -&gt; Eq (Prim ty)
forall ty. Eq ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
$c== :: forall ty. Eq ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
== :: Prim ty -&gt; Prim ty -&gt; IsBoxed
$c/= :: forall ty. Eq ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
/= :: Prim ty -&gt; Prim ty -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907063"><span id="local-6989586621680907115"><span id="local-6989586621680907118"><span id="local-6989586621680907121"><span id="local-6989586621680907124"><span id="local-6989586621680907127"><span id="local-6989586621680907130"><span class="annot"><span class="annottext">Eq (Prim ty)
Eq (Prim ty)
-&gt; (Prim ty -&gt; Prim ty -&gt; Ordering)
-&gt; (Prim ty -&gt; Prim ty -&gt; IsBoxed)
-&gt; (Prim ty -&gt; Prim ty -&gt; IsBoxed)
-&gt; (Prim ty -&gt; Prim ty -&gt; IsBoxed)
-&gt; (Prim ty -&gt; Prim ty -&gt; IsBoxed)
-&gt; (Prim ty -&gt; Prim ty -&gt; Prim ty)
-&gt; (Prim ty -&gt; Prim ty -&gt; Prim ty)
-&gt; Ord (Prim ty)
Prim ty -&gt; Prim ty -&gt; IsBoxed
Prim ty -&gt; Prim ty -&gt; Ordering
Prim ty -&gt; Prim ty -&gt; Prim ty
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {ty}. Ord ty =&gt; Eq (Prim ty)
forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; Ordering
forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; Prim ty
$ccompare :: forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; Ordering
compare :: Prim ty -&gt; Prim ty -&gt; Ordering
$c&lt; :: forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
&lt; :: Prim ty -&gt; Prim ty -&gt; IsBoxed
$c&lt;= :: forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
&lt;= :: Prim ty -&gt; Prim ty -&gt; IsBoxed
$c&gt; :: forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
&gt; :: Prim ty -&gt; Prim ty -&gt; IsBoxed
$c&gt;= :: forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; IsBoxed
&gt;= :: Prim ty -&gt; Prim ty -&gt; IsBoxed
$cmax :: forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; Prim ty
max :: Prim ty -&gt; Prim ty -&gt; Prim ty
$cmin :: forall ty. Ord ty =&gt; Prim ty -&gt; Prim ty -&gt; Prim ty
min :: Prim ty -&gt; Prim ty -&gt; Prim ty
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907134"><span id="local-6989586621680907136"><span class="annot"><span class="annottext">(forall x. Prim ty -&gt; Rep (Prim ty) x)
-&gt; (forall x. Rep (Prim ty) x -&gt; Prim ty) -&gt; Generic (Prim ty)
forall x. Rep (Prim ty) x -&gt; Prim ty
forall x. Prim ty -&gt; Rep (Prim ty) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall ty x. Rep (Prim ty) x -&gt; Prim ty
forall ty x. Prim ty -&gt; Rep (Prim ty) x
$cfrom :: forall ty x. Prim ty -&gt; Rep (Prim ty) x
from :: forall x. Prim ty -&gt; Rep (Prim ty) x
$cto :: forall ty x. Rep (Prim ty) x -&gt; Prim ty
to :: forall x. Rep (Prim ty) x -&gt; Prim ty
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907140"><span class="annot"><span class="annottext">Prim ty -&gt; ()
(Prim ty -&gt; ()) -&gt; NFData (Prim ty)
forall ty. NFData ty =&gt; Prim ty -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: forall ty. NFData ty =&gt; Prim ty -&gt; ()
rnf :: Prim ty -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907350"><span id="local-6989586621680907352"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; Prim a -&gt; Prim b)
-&gt; (forall a b. a -&gt; Prim b -&gt; Prim a) -&gt; Functor Prim
forall a b. a -&gt; Prim b -&gt; Prim a
forall a b. (a -&gt; b) -&gt; Prim a -&gt; Prim b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; Prim a -&gt; Prim b
fmap :: forall a b. (a -&gt; b) -&gt; Prim a -&gt; Prim b
$c&lt;$ :: forall a b. a -&gt; Prim b -&gt; Prim a
&lt;$ :: forall a b. a -&gt; Prim b -&gt; Prim a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907354"><span id="local-6989586621680907359"><span id="local-6989586621680907425"><span id="local-6989586621680907430"><span id="local-6989586621680907432"><span id="local-6989586621680907435"><span id="local-6989586621680907438"><span id="local-6989586621680907441"><span id="local-6989586621680907444"><span id="local-6989586621680907447"><span id="local-6989586621680907450"><span id="local-6989586621680907452"><span id="local-6989586621680907455"><span id="local-6989586621680907460"><span id="local-6989586621680907465"><span id="local-6989586621680907470"><span id="local-6989586621680907475"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; Prim m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Prim a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Prim a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Prim a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Prim a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Prim a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Prim a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Prim a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; Prim a -&gt; a)
-&gt; (forall a. Prim a -&gt; [a])
-&gt; (forall a. Prim a -&gt; IsBoxed)
-&gt; (forall a. Prim a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; Prim a -&gt; IsBoxed)
-&gt; (forall a. Ord a =&gt; Prim a -&gt; a)
-&gt; (forall a. Ord a =&gt; Prim a -&gt; a)
-&gt; (forall a. Num a =&gt; Prim a -&gt; a)
-&gt; (forall a. Num a =&gt; Prim a -&gt; a)
-&gt; Foldable Prim
forall a. Eq a =&gt; a -&gt; Prim a -&gt; IsBoxed
forall a. Num a =&gt; Prim a -&gt; a
forall a. Ord a =&gt; Prim a -&gt; a
forall m. Monoid m =&gt; Prim m -&gt; m
forall a. Prim a -&gt; IsBoxed
forall a. Prim a -&gt; Int
forall a. Prim a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; Prim a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Prim a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Prim a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Prim a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; IsBoxed)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; IsBoxed)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; Prim m -&gt; m
fold :: forall m. Monoid m =&gt; Prim m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Prim a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Prim a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Prim a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Prim a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Prim a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Prim a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Prim a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Prim a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Prim a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Prim a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Prim a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Prim a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Prim a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Prim a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Prim a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Prim a -&gt; a
$ctoList :: forall a. Prim a -&gt; [a]
toList :: forall a. Prim a -&gt; [a]
$cnull :: forall a. Prim a -&gt; IsBoxed
null :: forall a. Prim a -&gt; IsBoxed
$clength :: forall a. Prim a -&gt; Int
length :: forall a. Prim a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; Prim a -&gt; IsBoxed
elem :: forall a. Eq a =&gt; a -&gt; Prim a -&gt; IsBoxed
$cmaximum :: forall a. Ord a =&gt; Prim a -&gt; a
maximum :: forall a. Ord a =&gt; Prim a -&gt; a
$cminimum :: forall a. Ord a =&gt; Prim a -&gt; a
minimum :: forall a. Ord a =&gt; Prim a -&gt; a
$csum :: forall a. Num a =&gt; Prim a -&gt; a
sum :: forall a. Num a =&gt; Prim a -&gt; a
$cproduct :: forall a. Num a =&gt; Prim a -&gt; a
product :: forall a. Num a =&gt; Prim a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907484"><span id="local-6989586621680907578"><span id="local-6989586621680907583"><span id="local-6989586621680907588"><span class="annot"><span class="annottext">Functor Prim
Foldable Prim
Functor Prim
-&gt; Foldable Prim
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; Prim a -&gt; f (Prim b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    Prim (f a) -&gt; f (Prim a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; Prim a -&gt; m (Prim b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; Prim (m a) -&gt; m (Prim a))
-&gt; Traversable Prim
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; Prim (m a) -&gt; m (Prim a)
forall (f :: * -&gt; *) a. Applicative f =&gt; Prim (f a) -&gt; f (Prim a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Prim a -&gt; m (Prim b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Prim a -&gt; f (Prim b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Prim a -&gt; f (Prim b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Prim a -&gt; f (Prim b)
$csequenceA :: forall (f :: * -&gt; *) a. Applicative f =&gt; Prim (f a) -&gt; f (Prim a)
sequenceA :: forall (f :: * -&gt; *) a. Applicative f =&gt; Prim (f a) -&gt; f (Prim a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Prim a -&gt; m (Prim b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Prim a -&gt; m (Prim b)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Prim (m a) -&gt; m (Prim a)
sequence :: forall (m :: * -&gt; *) a. Monad m =&gt; Prim (m a) -&gt; m (Prim a)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#Traversable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680907594"><span id="local-6989586621680907600"><span id="local-6989586621680907606"><span class="annot"><span class="annottext">Int -&gt; Prim ty -&gt; Doc
[Prim ty] -&gt; Doc
Prim ty -&gt; Doc
(Int -&gt; Prim ty -&gt; Doc)
-&gt; (Prim ty -&gt; Doc) -&gt; ([Prim ty] -&gt; Doc) -&gt; Out (Prim ty)
forall ty. Out ty =&gt; Int -&gt; Prim ty -&gt; Doc
forall ty. Out ty =&gt; [Prim ty] -&gt; Doc
forall ty. Out ty =&gt; Prim ty -&gt; Doc
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
$cdocPrec :: forall ty. Out ty =&gt; Int -&gt; Prim ty -&gt; Doc
docPrec :: Int -&gt; Prim ty -&gt; Doc
$cdoc :: forall ty. Out ty =&gt; Prim ty -&gt; Doc
doc :: Prim ty -&gt; Doc
$cdocList :: forall ty. Out ty =&gt; [Prim ty] -&gt; Doc
docList :: [Prim ty] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-530"></span><span class="hs-comment">-- Types</span><span>
</span><span id="line-531"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="hs-comment">-- | Types include boxed/pointer-based products as well as unpacked</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- algebraic datatypes.  This data is parameterized to allow</span><span>
</span><span id="line-535"></span><span class="hs-comment">-- annotation on Packed types later on.</span><span>
</span><span id="line-536"></span><span class="hs-keyword">data</span><span> </span><span id="UrTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-var">UrTy</span></a></span></span><span> </span><span id="local-6989586621680903688"><span class="annot"><a href="#local-6989586621680903688"><span class="hs-identifier hs-type">loc</span></a></span></span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="IntTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span></span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CharTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span></span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FloatTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span></span><span>
</span><span id="line-540"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SymTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymTy"><span class="hs-identifier hs-var">SymTy</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Symbols used in writing compiler passes.</span></span><span>
</span><span id="line-541"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BoolTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ProdTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903688"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ An N-ary tuple</span></span><span>
</span><span id="line-543"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SymDictTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ A map from SymTy to Ty</span><span>
</span><span id="line-544"></span><span>          </span><span class="hs-comment">-- ^ We allow built-in dictionaries from symbols to a value type.</span><span>
</span><span id="line-545"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PackedTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903688"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ No type arguments to TyCons for now.  (No polymorphism.)</span></span><span>
</span><span id="line-546"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="VectorTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903688"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Vectors are decorated with the types of their elements;</span><span>
</span><span id="line-547"></span><span>                             </span><span class="hs-comment">-- which can only include scalars or flat products of scalars.</span><span>
</span><span id="line-548"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PDictTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#PDictTy"><span class="hs-identifier hs-var">PDictTy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903688"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903688"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Thread safe dictionaries decorated with</span><span>
</span><span id="line-549"></span><span>                                    </span><span class="hs-comment">-- key and value type.</span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ListTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#ListTy"><span class="hs-identifier hs-var">ListTy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#UrTy"><span class="hs-identifier hs-type">UrTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903688"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ Linked lists are decorated with the types of their elements;</span><span>
</span><span id="line-551"></span><span>                          </span><span class="hs-comment">-- which can only include scalars or flat products of scalars.</span><span>
</span><span id="line-552"></span><span>
</span><span id="line-553"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="ArenaTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Collection of allocated, non-packed values</span></span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="SymSetTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Set of symbols</span></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="SymHashTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Hash table of symbols</span></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="IntHashTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#IntHashTy"><span class="hs-identifier hs-var">IntHashTy</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Hash table of integers</span></span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span>        </span><span class="hs-comment">---------- These are not used initially ----------------</span><span>
</span><span id="line-562"></span><span>        </span><span class="hs-comment">-- (They could be added by a later IR instead:)</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="PtrTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#PtrTy"><span class="hs-identifier hs-var">PtrTy</span></a></span></span><span> </span><span class="hs-comment">-- ^ A machine pointer tvo a complete value in memory.</span><span>
</span><span id="line-565"></span><span>                </span><span class="hs-comment">-- This is decorated with the region it points into, which</span><span>
</span><span id="line-566"></span><span>                </span><span class="hs-comment">-- may affect the memory layout.</span><span>
</span><span id="line-567"></span><span>
</span><span id="line-568"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span id="CursorTy"><span class="annot"><a href="Gibbon.Language.Syntax.html#CursorTy"><span class="hs-identifier hs-var">CursorTy</span></a></span></span><span> </span><span class="hs-comment">-- ^ A cursor for reading or writing, which may point</span><span>
</span><span id="line-569"></span><span>                   </span><span class="hs-comment">-- to an unkwown type or to a fraction of a complete value.</span><span>
</span><span id="line-570"></span><span>                   </span><span class="hs-comment">-- It is a machine pointer that can point to any byte.</span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680908417"><span id="local-6989586621680908439"><span id="local-6989586621680908442"><span class="annot"><span class="annottext">Int -&gt; UrTy loc -&gt; ShowS
[UrTy loc] -&gt; ShowS
UrTy loc -&gt; DataCon
(Int -&gt; UrTy loc -&gt; ShowS)
-&gt; (UrTy loc -&gt; DataCon)
-&gt; ([UrTy loc] -&gt; ShowS)
-&gt; Show (UrTy loc)
forall loc. Show loc =&gt; Int -&gt; UrTy loc -&gt; ShowS
forall loc. Show loc =&gt; [UrTy loc] -&gt; ShowS
forall loc. Show loc =&gt; UrTy loc -&gt; DataCon
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; DataCon) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: forall loc. Show loc =&gt; Int -&gt; UrTy loc -&gt; ShowS
showsPrec :: Int -&gt; UrTy loc -&gt; ShowS
$cshow :: forall loc. Show loc =&gt; UrTy loc -&gt; DataCon
show :: UrTy loc -&gt; DataCon
$cshowList :: forall loc. Show loc =&gt; [UrTy loc] -&gt; ShowS
showList :: [UrTy loc] -&gt; ShowS
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908447"><span id="local-6989586621680908451"><span id="local-6989586621680908454"><span id="local-6989586621680908501"><span class="annot"><span class="annottext">ReadPrec [UrTy loc]
ReadPrec (UrTy loc)
Int -&gt; ReadS (UrTy loc)
ReadS [UrTy loc]
(Int -&gt; ReadS (UrTy loc))
-&gt; ReadS [UrTy loc]
-&gt; ReadPrec (UrTy loc)
-&gt; ReadPrec [UrTy loc]
-&gt; Read (UrTy loc)
forall loc. Read loc =&gt; ReadPrec [UrTy loc]
forall loc. Read loc =&gt; ReadPrec (UrTy loc)
forall loc. Read loc =&gt; Int -&gt; ReadS (UrTy loc)
forall loc. Read loc =&gt; ReadS [UrTy loc]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: forall loc. Read loc =&gt; Int -&gt; ReadS (UrTy loc)
readsPrec :: Int -&gt; ReadS (UrTy loc)
$creadList :: forall loc. Read loc =&gt; ReadS [UrTy loc]
readList :: ReadS [UrTy loc]
$creadPrec :: forall loc. Read loc =&gt; ReadPrec (UrTy loc)
readPrec :: ReadPrec (UrTy loc)
$creadListPrec :: forall loc. Read loc =&gt; ReadPrec [UrTy loc]
readListPrec :: ReadPrec [UrTy loc]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908510"><span id="local-6989586621680908526"><span id="local-6989586621680908529"><span id="local-6989586621680908532"><span id="local-6989586621680908535"><span id="local-6989586621680908538"><span id="local-6989586621680908541"><span class="annot"><span class="annottext">Eq (UrTy loc)
Eq (UrTy loc)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; Ordering)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; IsBoxed)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; IsBoxed)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; IsBoxed)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; IsBoxed)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; UrTy loc)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; UrTy loc)
-&gt; Ord (UrTy loc)
UrTy loc -&gt; UrTy loc -&gt; IsBoxed
UrTy loc -&gt; UrTy loc -&gt; Ordering
UrTy loc -&gt; UrTy loc -&gt; UrTy loc
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {loc}. Ord loc =&gt; Eq (UrTy loc)
forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; Ordering
forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; UrTy loc
$ccompare :: forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; Ordering
compare :: UrTy loc -&gt; UrTy loc -&gt; Ordering
$c&lt; :: forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
&lt; :: UrTy loc -&gt; UrTy loc -&gt; IsBoxed
$c&lt;= :: forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
&lt;= :: UrTy loc -&gt; UrTy loc -&gt; IsBoxed
$c&gt; :: forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
&gt; :: UrTy loc -&gt; UrTy loc -&gt; IsBoxed
$c&gt;= :: forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
&gt;= :: UrTy loc -&gt; UrTy loc -&gt; IsBoxed
$cmax :: forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; UrTy loc
max :: UrTy loc -&gt; UrTy loc -&gt; UrTy loc
$cmin :: forall loc. Ord loc =&gt; UrTy loc -&gt; UrTy loc -&gt; UrTy loc
min :: UrTy loc -&gt; UrTy loc -&gt; UrTy loc
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908546"><span id="local-6989586621680908561"><span class="annot"><span class="annottext">UrTy loc -&gt; UrTy loc -&gt; IsBoxed
(UrTy loc -&gt; UrTy loc -&gt; IsBoxed)
-&gt; (UrTy loc -&gt; UrTy loc -&gt; IsBoxed) -&gt; Eq (UrTy loc)
forall loc. Eq loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
$c== :: forall loc. Eq loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
== :: UrTy loc -&gt; UrTy loc -&gt; IsBoxed
$c/= :: forall loc. Eq loc =&gt; UrTy loc -&gt; UrTy loc -&gt; IsBoxed
/= :: UrTy loc -&gt; UrTy loc -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908565"><span id="local-6989586621680908567"><span class="annot"><span class="annottext">(forall x. UrTy loc -&gt; Rep (UrTy loc) x)
-&gt; (forall x. Rep (UrTy loc) x -&gt; UrTy loc) -&gt; Generic (UrTy loc)
forall x. Rep (UrTy loc) x -&gt; UrTy loc
forall x. UrTy loc -&gt; Rep (UrTy loc) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall loc x. Rep (UrTy loc) x -&gt; UrTy loc
forall loc x. UrTy loc -&gt; Rep (UrTy loc) x
$cfrom :: forall loc x. UrTy loc -&gt; Rep (UrTy loc) x
from :: forall x. UrTy loc -&gt; Rep (UrTy loc) x
$cto :: forall loc x. Rep (UrTy loc) x -&gt; UrTy loc
to :: forall x. Rep (UrTy loc) x -&gt; UrTy loc
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908571"><span class="annot"><span class="annottext">UrTy loc -&gt; ()
(UrTy loc -&gt; ()) -&gt; NFData (UrTy loc)
forall loc. NFData loc =&gt; UrTy loc -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
$crnf :: forall loc. NFData loc =&gt; UrTy loc -&gt; ()
rnf :: UrTy loc -&gt; ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908635"><span id="local-6989586621680908644"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; UrTy a -&gt; UrTy b)
-&gt; (forall a b. a -&gt; UrTy b -&gt; UrTy a) -&gt; Functor UrTy
forall a b. a -&gt; UrTy b -&gt; UrTy a
forall a b. (a -&gt; b) -&gt; UrTy a -&gt; UrTy b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; UrTy a -&gt; UrTy b
fmap :: forall a b. (a -&gt; b) -&gt; UrTy a -&gt; UrTy b
$c&lt;$ :: forall a b. a -&gt; UrTy b -&gt; UrTy a
&lt;$ :: forall a b. a -&gt; UrTy b -&gt; UrTy a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908652"><span id="local-6989586621680908658"><span id="local-6989586621680908686"><span id="local-6989586621680908691"><span id="local-6989586621680908699"><span id="local-6989586621680908702"><span id="local-6989586621680908705"><span id="local-6989586621680908708"><span id="local-6989586621680908711"><span id="local-6989586621680908714"><span id="local-6989586621680908717"><span id="local-6989586621680908725"><span id="local-6989586621680908728"><span id="local-6989586621680908733"><span id="local-6989586621680908738"><span id="local-6989586621680908743"><span id="local-6989586621680908748"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; UrTy m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; UrTy a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; UrTy a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; UrTy a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; UrTy a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; UrTy a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; UrTy a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; UrTy a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; UrTy a -&gt; a)
-&gt; (forall a. UrTy a -&gt; [a])
-&gt; (forall a. UrTy a -&gt; IsBoxed)
-&gt; (forall a. UrTy a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; UrTy a -&gt; IsBoxed)
-&gt; (forall a. Ord a =&gt; UrTy a -&gt; a)
-&gt; (forall a. Ord a =&gt; UrTy a -&gt; a)
-&gt; (forall a. Num a =&gt; UrTy a -&gt; a)
-&gt; (forall a. Num a =&gt; UrTy a -&gt; a)
-&gt; Foldable UrTy
forall a. Eq a =&gt; a -&gt; UrTy a -&gt; IsBoxed
forall a. Num a =&gt; UrTy a -&gt; a
forall a. Ord a =&gt; UrTy a -&gt; a
forall m. Monoid m =&gt; UrTy m -&gt; m
forall a. UrTy a -&gt; IsBoxed
forall a. UrTy a -&gt; Int
forall a. UrTy a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; UrTy a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; UrTy a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; IsBoxed)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; IsBoxed)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; UrTy m -&gt; m
fold :: forall m. Monoid m =&gt; UrTy m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; UrTy a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; UrTy a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; UrTy a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; UrTy a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; UrTy a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; UrTy a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; UrTy a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; UrTy a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; UrTy a -&gt; a
$ctoList :: forall a. UrTy a -&gt; [a]
toList :: forall a. UrTy a -&gt; [a]
$cnull :: forall a. UrTy a -&gt; IsBoxed
null :: forall a. UrTy a -&gt; IsBoxed
$clength :: forall a. UrTy a -&gt; Int
length :: forall a. UrTy a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; UrTy a -&gt; IsBoxed
elem :: forall a. Eq a =&gt; a -&gt; UrTy a -&gt; IsBoxed
$cmaximum :: forall a. Ord a =&gt; UrTy a -&gt; a
maximum :: forall a. Ord a =&gt; UrTy a -&gt; a
$cminimum :: forall a. Ord a =&gt; UrTy a -&gt; a
minimum :: forall a. Ord a =&gt; UrTy a -&gt; a
$csum :: forall a. Num a =&gt; UrTy a -&gt; a
sum :: forall a. Num a =&gt; UrTy a -&gt; a
$cproduct :: forall a. Num a =&gt; UrTy a -&gt; a
product :: forall a. Num a =&gt; UrTy a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908757"><span id="local-6989586621680908791"><span id="local-6989586621680908796"><span id="local-6989586621680908801"><span class="annot"><span class="annottext">Functor UrTy
Foldable UrTy
Functor UrTy
-&gt; Foldable UrTy
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; UrTy a -&gt; f (UrTy b))
-&gt; (forall (f :: * -&gt; *) a.
    Applicative f =&gt;
    UrTy (f a) -&gt; f (UrTy a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; UrTy a -&gt; m (UrTy b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; UrTy (m a) -&gt; m (UrTy a))
-&gt; Traversable UrTy
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (m :: * -&gt; *) a. Monad m =&gt; UrTy (m a) -&gt; m (UrTy a)
forall (f :: * -&gt; *) a. Applicative f =&gt; UrTy (f a) -&gt; f (UrTy a)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; UrTy a -&gt; m (UrTy b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; UrTy a -&gt; f (UrTy b)
$ctraverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; UrTy a -&gt; f (UrTy b)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; UrTy a -&gt; f (UrTy b)
$csequenceA :: forall (f :: * -&gt; *) a. Applicative f =&gt; UrTy (f a) -&gt; f (UrTy a)
sequenceA :: forall (f :: * -&gt; *) a. Applicative f =&gt; UrTy (f a) -&gt; f (UrTy a)
$cmapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; UrTy a -&gt; m (UrTy b)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; UrTy a -&gt; m (UrTy b)
$csequence :: forall (m :: * -&gt; *) a. Monad m =&gt; UrTy (m a) -&gt; m (UrTy a)
sequence :: forall (m :: * -&gt; *) a. Monad m =&gt; UrTy (m a) -&gt; m (UrTy a)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#Traversable"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680908807"><span id="local-6989586621680908814"><span id="local-6989586621680908820"><span class="annot"><span class="annottext">Int -&gt; UrTy loc -&gt; Doc
[UrTy loc] -&gt; Doc
UrTy loc -&gt; Doc
(Int -&gt; UrTy loc -&gt; Doc)
-&gt; (UrTy loc -&gt; Doc) -&gt; ([UrTy loc] -&gt; Doc) -&gt; Out (UrTy loc)
forall loc. Out loc =&gt; Int -&gt; UrTy loc -&gt; Doc
forall loc. Out loc =&gt; [UrTy loc] -&gt; Doc
forall loc. Out loc =&gt; UrTy loc -&gt; Doc
forall a. (Int -&gt; a -&gt; Doc) -&gt; (a -&gt; Doc) -&gt; ([a] -&gt; Doc) -&gt; Out a
$cdocPrec :: forall loc. Out loc =&gt; Int -&gt; UrTy loc -&gt; Doc
docPrec :: Int -&gt; UrTy loc -&gt; Doc
$cdoc :: forall loc. Out loc =&gt; UrTy loc -&gt; Doc
doc :: UrTy loc -&gt; Doc
$cdocList :: forall loc. Out loc =&gt; [UrTy loc] -&gt; Doc
docList :: [UrTy loc] -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Out</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- Generic Ops</span><span>
</span><span id="line-577"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span class="annot"><span class="hs-comment">-- | Expression and program types which support a notion of free variables.</span></span><span>
</span><span id="line-580"></span><span class="hs-keyword">class</span><span> </span><span id="FreeVars"><span class="annot"><a href="Gibbon.Language.Syntax.html#FreeVars"><span class="hs-identifier hs-var">FreeVars</span></a></span></span><span> </span><span id="local-6989586621680909025"><span class="annot"><a href="#local-6989586621680909025"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-581"></span><span>    </span><span class="hs-comment">-- | Return a set of free TERM variables.  Does not return location variables.</span><span>
</span><span id="line-582"></span><span>    </span><span id="gFreeVars"><span class="annot"><a href="Gibbon.Language.Syntax.html#gFreeVars"><span class="hs-identifier hs-type">gFreeVars</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680909025"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span class="hs-comment">-- | A generic interface to expressions found in different phases of</span><span>
</span><span id="line-586"></span><span class="hs-comment">-- the compiler.</span><span>
</span><span id="line-587"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903404"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903404"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903404"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Expression"><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-var">Expression</span></a></span></span><span> </span><span id="local-6989586621680903404"><span class="annot"><a href="#local-6989586621680903404"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-588"></span><span>  </span><span class="hs-comment">-- | The type representation used in this expression.</span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="TyOf"><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-var">TyOf</span></a></span></span><span> </span><span id="local-6989586621680903404"><span class="annot"><a href="#local-6989586621680903404"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-comment">-- | The location (variable) representation used in this expression.</span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="LocOf"><span class="annot"><a href="Gibbon.Language.Syntax.html#LocOf"><span class="hs-identifier hs-var">LocOf</span></a></span></span><span> </span><span id="local-6989586621680903404"><span class="annot"><a href="#local-6989586621680903404"><span class="hs-identifier hs-type">e</span></a></span></span><span>
</span><span id="line-592"></span><span>  </span><span class="hs-comment">-- | Is an expression considered trivial (duplicatable by the compiler)?</span><span>
</span><span id="line-593"></span><span>  </span><span id="isTrivial"><span class="annot"><a href="Gibbon.Language.Syntax.html#isTrivial"><span class="hs-identifier hs-type">isTrivial</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680903404"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-594"></span><span>
</span><span id="line-595"></span><span>
</span><span id="line-596"></span><span class="annot"><span class="hs-comment">-- | IRs amenable to flattening</span></span><span>
</span><span id="line-597"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Flattenable"><span class="annot"><a href="Gibbon.Language.Syntax.html#Flattenable"><span class="hs-identifier hs-var">Flattenable</span></a></span></span><span> </span><span id="local-6989586621680903407"><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-598"></span><span>  </span><span class="hs-comment">-- | Process an expression into a fully-flattened expression which typically includes a</span><span>
</span><span id="line-599"></span><span>  </span><span class="hs-comment">-- larger number of temporary, local variable bindings.</span><span>
</span><span id="line-600"></span><span>  </span><span id="gFlattenExp"><span class="annot"><a href="Gibbon.Language.Syntax.html#gFlattenExp"><span class="hs-identifier hs-type">gFlattenExp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-601"></span><span>
</span><span id="line-602"></span><span>  </span><span class="hs-comment">-- | A private method.  Gather the bindings from a subexpression,</span><span>
</span><span id="line-603"></span><span>  </span><span class="hs-comment">-- but do not &quot;discharge&quot; them by creating a let expression.  They</span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-comment">-- are in order, so later may depend on earlier.</span><span>
</span><span id="line-605"></span><span>  </span><span id="gFlattenGatherBinds"><span class="annot"><a href="Gibbon.Language.Syntax.html#gFlattenGatherBinds"><span class="hs-identifier hs-type">gFlattenGatherBinds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Binds"><span class="hs-identifier hs-type">Binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621680903407"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-606"></span><span>
</span><span id="line-607"></span><span class="hs-keyword">type</span><span> </span><span id="Binds"><span class="annot"><a href="Gibbon.Language.Syntax.html#Binds"><span class="hs-identifier hs-var">Binds</span></a></span></span><span> </span><span id="local-6989586621680909037"><span class="annot"><a href="#local-6989586621680909037"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Language.Syntax.html#LocOf"><span class="hs-identifier hs-type">LocOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909037"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909037"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680909037"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span>
</span><span id="line-610"></span><span class="hs-comment">-- | IRs amenable to simplification/inlineTrivs. Note that there's a</span><span>
</span><span id="line-611"></span><span class="hs-comment">-- separate 'SimplifiableExt' for simplifying extensions. 'Simplifiable' is</span><span>
</span><span id="line-612"></span><span class="hs-comment">-- the only class which makes such a distinction -- b/c when it's simplifying</span><span>
</span><span id="line-613"></span><span class="hs-comment">-- an extension point, the type of the environment would still be 'M.Map Var e',</span><span>
</span><span id="line-614"></span><span class="hs-comment">-- where e is a top-level IR. Right now we don't have a class (and probably</span><span>
</span><span id="line-615"></span><span class="hs-comment">-- don't want to have one as well) which ties an extension point with an IR.</span><span>
</span><span id="line-616"></span><span class="hs-comment">-- Keeping these classes separate works out nicely.</span><span>
</span><span id="line-617"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903409"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Simplifiable"><span class="annot"><a href="Gibbon.Language.Syntax.html#Simplifiable"><span class="hs-identifier hs-var">Simplifiable</span></a></span></span><span> </span><span id="local-6989586621680903409"><span class="annot"><a href="#local-6989586621680903409"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-618"></span><span>  </span><span id="gInlineTrivExp"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInlineTrivExp"><span class="hs-identifier hs-type">gInlineTrivExp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903409"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903409"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903409"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-619"></span><span>
</span><span id="line-620"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903411"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="SimplifiableExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#SimplifiableExt"><span class="hs-identifier hs-var">SimplifiableExt</span></a></span></span><span> </span><span id="local-6989586621680903411"><span class="annot"><a href="#local-6989586621680903411"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680903412"><span class="annot"><a href="#local-6989586621680903412"><span class="hs-identifier hs-type">ext</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-621"></span><span>  </span><span id="gInlineTrivExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInlineTrivExt"><span class="hs-identifier hs-type">gInlineTrivExt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903411"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903412"><span class="hs-identifier hs-type">ext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903412"><span class="hs-identifier hs-type">ext</span></a></span><span>
</span><span id="line-622"></span><span>
</span><span id="line-623"></span><span class="hs-keyword">type</span><span> </span><span id="HasSimplifiable"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSimplifiable"><span class="hs-identifier hs-var">HasSimplifiable</span></a></span></span><span> </span><span id="local-6989586621680909042"><span class="annot"><a href="#local-6989586621680909042"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680909043"><span class="annot"><a href="#local-6989586621680909043"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621680909044"><span class="annot"><a href="#local-6989586621680909044"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909043"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909043"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909044"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909044"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-624"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680909042"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909043"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909044"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SimplifiableExt"><span class="hs-identifier hs-type">SimplifiableExt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909042"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909043"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909044"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680909042"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909043"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909044"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>                             </span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span class="hs-keyword">type</span><span> </span><span id="HasSimplifiableExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSimplifiableExt"><span class="hs-identifier hs-var">HasSimplifiableExt</span></a></span></span><span> </span><span id="local-6989586621680909045"><span class="annot"><a href="#local-6989586621680909045"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680909046"><span class="annot"><a href="#local-6989586621680909046"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621680909047"><span class="annot"><a href="#local-6989586621680909047"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909046"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909046"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909047"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909047"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-629"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Simplifiable"><span class="hs-identifier hs-type">Simplifiable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909045"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909046"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909047"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-630"></span><span>                                </span><span class="hs-special">)</span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span class="hs-comment">-- | This is NOT a replacement for any typechecker. This only recover type of</span><span>
</span><span id="line-634"></span><span class="hs-comment">-- an expression given a type-environment. Without this, we cannot have truly</span><span>
</span><span id="line-635"></span><span class="hs-comment">-- generic Flattenable, b/c we need to know the type of an expression before we</span><span>
</span><span id="line-636"></span><span class="hs-comment">-- bind it with a LetE.</span><span>
</span><span id="line-637"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903414"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Typeable"><span class="annot"><a href="Gibbon.Language.Syntax.html#Typeable"><span class="hs-identifier hs-var">Typeable</span></a></span></span><span> </span><span id="local-6989586621680903414"><span class="annot"><a href="#local-6989586621680903414"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-638"></span><span>  </span><span id="gRecoverType"><span class="annot"><a href="Gibbon.Language.Syntax.html#gRecoverType"><span class="hs-identifier hs-type">gRecoverType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903414"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Env2"><span class="hs-identifier hs-type">Env2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903414"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903414"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903414"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-639"></span><span>
</span><span id="line-640"></span><span class="annot"><span class="hs-comment">-- | Generic substitution over expressions.</span></span><span>
</span><span id="line-641"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Substitutable"><span class="annot"><a href="Gibbon.Language.Syntax.html#Substitutable"><span class="hs-identifier hs-var">Substitutable</span></a></span></span><span> </span><span id="local-6989586621680903416"><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-642"></span><span>  </span><span id="gSubst"><span class="annot"><a href="Gibbon.Language.Syntax.html#gSubst"><span class="hs-identifier hs-type">gSubst</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-643"></span><span>  </span><span id="gSubstE"><span class="annot"><a href="Gibbon.Language.Syntax.html#gSubstE"><span class="hs-identifier hs-type">gSubstE</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903416"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903418"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="SubstitutableExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#SubstitutableExt"><span class="hs-identifier hs-var">SubstitutableExt</span></a></span></span><span> </span><span id="local-6989586621680903418"><span class="annot"><a href="#local-6989586621680903418"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680903419"><span class="annot"><a href="#local-6989586621680903419"><span class="hs-identifier hs-type">ext</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-646"></span><span>  </span><span id="gSubstExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#gSubstExt"><span class="hs-identifier hs-type">gSubstExt</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903418"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903419"><span class="hs-identifier hs-type">ext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903419"><span class="hs-identifier hs-type">ext</span></a></span><span>
</span><span id="line-647"></span><span>  </span><span id="gSubstEExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#gSubstEExt"><span class="hs-identifier hs-type">gSubstEExt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680903418"><span class="hs-identifier hs-type">e</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903418"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903419"><span class="hs-identifier hs-type">ext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903419"><span class="hs-identifier hs-type">ext</span></a></span><span>
</span><span id="line-648"></span><span>
</span><span id="line-649"></span><span class="hs-keyword">type</span><span> </span><span id="HasSubstitutable"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSubstitutable"><span class="hs-identifier hs-var">HasSubstitutable</span></a></span></span><span> </span><span id="local-6989586621680909056"><span class="annot"><a href="#local-6989586621680909056"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680909057"><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621680909058"><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680909056"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-650"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SubstitutableExt"><span class="hs-identifier hs-type">SubstitutableExt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909056"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680909056"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-652"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680909056"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909057"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909058"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span class="hs-keyword">type</span><span> </span><span id="HasSubstitutableExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasSubstitutableExt"><span class="hs-identifier hs-var">HasSubstitutableExt</span></a></span></span><span> </span><span id="local-6989586621680909059"><span class="annot"><a href="#local-6989586621680909059"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680909060"><span class="annot"><a href="#local-6989586621680909060"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621680909061"><span class="annot"><a href="#local-6989586621680909061"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909061"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909061"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909061"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909060"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909060"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909060"><span class="hs-identifier hs-type">l</span></a></span><span>
</span><span id="line-655"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Substitutable"><span class="hs-identifier hs-type">Substitutable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#PreExp"><span class="hs-identifier hs-type">PreExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909059"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909060"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909061"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-656"></span><span>
</span><span id="line-657"></span><span class="hs-comment">-- | Alpha renaming, without worrying about name capture -- assuming that Freshen</span><span>
</span><span id="line-658"></span><span class="hs-comment">-- has run before!</span><span>
</span><span id="line-659"></span><span class="hs-keyword">class</span><span> </span><span id="Renamable"><span class="annot"><a href="Gibbon.Language.Syntax.html#Renamable"><span class="hs-identifier hs-var">Renamable</span></a></span></span><span> </span><span id="local-6989586621680909062"><span class="annot"><a href="#local-6989586621680909062"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-660"></span><span>  </span><span id="gRename"><span class="annot"><a href="Gibbon.Language.Syntax.html#gRename"><span class="hs-identifier hs-type">gRename</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680909062"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680909062"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-661"></span><span>
</span><span id="line-662"></span><span class="hs-keyword">type</span><span> </span><span id="HasRenamable"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasRenamable"><span class="hs-identifier hs-var">HasRenamable</span></a></span></span><span> </span><span id="local-6989586621680909064"><span class="annot"><a href="#local-6989586621680909064"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680909065"><span class="annot"><a href="#local-6989586621680909065"><span class="hs-identifier hs-type">l</span></a></span></span><span> </span><span id="local-6989586621680909066"><span class="annot"><a href="#local-6989586621680909066"><span class="hs-identifier hs-type">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Renamable"><span class="hs-identifier hs-type">Renamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909065"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Renamable"><span class="hs-identifier hs-type">Renamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909066"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Renamable"><span class="hs-identifier hs-type">Renamable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680909064"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909065"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909066"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>
</span><span id="line-664"></span><span class="hs-comment">-- A convenience wrapper over some of the constraints.</span><span>
</span><span id="line-665"></span><span class="hs-keyword">type</span><span> </span><span id="HasOut"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasOut"><span class="hs-identifier hs-var">HasOut</span></a></span></span><span> </span><span id="local-6989586621680909067"><span class="annot"><a href="#local-6989586621680909067"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909067"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909067"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909067"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span class="hs-keyword">type</span><span> </span><span id="HasShow"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasShow"><span class="hs-identifier hs-var">HasShow</span></a></span></span><span> </span><span id="local-6989586621680909068"><span class="annot"><a href="#local-6989586621680909068"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909068"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909068"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909068"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span class="hs-keyword">type</span><span> </span><span id="HasEq"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasEq"><span class="hs-identifier hs-var">HasEq</span></a></span></span><span> </span><span id="local-6989586621680909069"><span class="annot"><a href="#local-6989586621680909069"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909069"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909069"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909069"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-668"></span><span class="hs-keyword">type</span><span> </span><span id="HasGeneric"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasGeneric"><span class="hs-identifier hs-var">HasGeneric</span></a></span></span><span> </span><span id="local-6989586621680909070"><span class="annot"><a href="#local-6989586621680909070"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909070"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909070"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909070"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span class="hs-keyword">type</span><span> </span><span id="HasNFData"><span class="annot"><a href="Gibbon.Language.Syntax.html#HasNFData"><span class="hs-identifier hs-var">HasNFData</span></a></span></span><span> </span><span id="local-6989586621680909071"><span class="annot"><a href="#local-6989586621680909071"><span class="hs-identifier hs-type">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909071"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909071"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909071"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-670"></span><span>
</span><span id="line-671"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-672"></span><span class="hs-comment">-- Things which can be interpreted to yield a final, printed value.</span><span>
</span><span id="line-673"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-674"></span><span>
</span><span id="line-675"></span><span class="hs-keyword">type</span><span> </span><span id="ValEnv"><span class="annot"><a href="Gibbon.Language.Syntax.html#ValEnv"><span class="hs-identifier hs-var">ValEnv</span></a></span></span><span> </span><span id="local-6989586621680909072"><span class="annot"><a href="#local-6989586621680909072"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680909072"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span class="hs-keyword">type</span><span> </span><span id="InterpLog"><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpLog"><span class="hs-identifier hs-var">InterpLog</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/bytestring-0.11.4.0/src/Data.ByteString.Builder.Internal.html#Builder"><span class="hs-identifier hs-type">Builder</span></a></span><span>
</span><span id="line-677"></span><span>
</span><span id="line-678"></span><span class="hs-keyword">newtype</span><span> </span><span id="InterpM"><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpM"><span class="hs-identifier hs-var">InterpM</span></a></span></span><span> </span><span id="local-6989586621680903421"><span class="annot"><a href="#local-6989586621680903421"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680903422"><span class="annot"><a href="#local-6989586621680903422"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680903423"><span class="annot"><a href="#local-6989586621680903423"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="InterpM"><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpM"><span class="hs-identifier hs-var">InterpM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unInterpM"><span class="annot"><span class="annottext">forall s e a. InterpM s e a -&gt; WriterT InterpLog (StateT s IO) a
</span><a href="Gibbon.Language.Syntax.html#unInterpM"><span class="hs-identifier hs-var hs-var">unInterpM</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Writer.Lazy.html#WriterT"><span class="hs-identifier hs-type">WriterT</span></a></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpLog"><span class="hs-identifier hs-type">InterpLog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.State.Lazy.html#StateT"><span class="hs-identifier hs-type">StateT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903421"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680903423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-679"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680909076"><span id="local-6989586621680909082"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b)
-&gt; (forall a b. a -&gt; InterpM s e b -&gt; InterpM s e a)
-&gt; Functor (InterpM s e)
forall a b. a -&gt; InterpM s e b -&gt; InterpM s e a
forall a b. (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
forall s e a b. a -&gt; InterpM s e b -&gt; InterpM s e a
forall s e a b. (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall s e a b. (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
fmap :: forall a b. (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
$c&lt;$ :: forall s e a b. a -&gt; InterpM s e b -&gt; InterpM s e a
&lt;$ :: forall a b. a -&gt; InterpM s e b -&gt; InterpM s e a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680909094"><span id="local-6989586621680909101"><span id="local-6989586621680909107"><span id="local-6989586621680909113"><span id="local-6989586621680909119"><span class="annot"><span class="annottext">Functor (InterpM s e)
Functor (InterpM s e)
-&gt; (forall a. a -&gt; InterpM s e a)
-&gt; (forall a b.
    InterpM s e (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e c)
-&gt; (forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b)
-&gt; (forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e a)
-&gt; Applicative (InterpM s e)
forall a. a -&gt; InterpM s e a
forall s e. Functor (InterpM s e)
forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e a
forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
forall a b. InterpM s e (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
forall s e a. a -&gt; InterpM s e a
forall a b c.
(a -&gt; b -&gt; c) -&gt; InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e c
forall s e a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e a
forall s e a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
forall s e a b.
InterpM s e (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
forall s e a b c.
(a -&gt; b -&gt; c) -&gt; InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e c
forall (f :: * -&gt; *).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
$cpure :: forall s e a. a -&gt; InterpM s e a
pure :: forall a. a -&gt; InterpM s e a
$c&lt;*&gt; :: forall s e a b.
InterpM s e (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
&lt;*&gt; :: forall a b. InterpM s e (a -&gt; b) -&gt; InterpM s e a -&gt; InterpM s e b
$cliftA2 :: forall s e a b c.
(a -&gt; b -&gt; c) -&gt; InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e c
liftA2 :: forall a b c.
(a -&gt; b -&gt; c) -&gt; InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e c
$c*&gt; :: forall s e a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
*&gt; :: forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
$c&lt;* :: forall s e a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e a
&lt;* :: forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680909142"><span id="local-6989586621680909149"><span id="local-6989586621680909155"><span class="annot"><span class="annottext">Applicative (InterpM s e)
Applicative (InterpM s e)
-&gt; (forall a b.
    InterpM s e a -&gt; (a -&gt; InterpM s e b) -&gt; InterpM s e b)
-&gt; (forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b)
-&gt; (forall a. a -&gt; InterpM s e a)
-&gt; Monad (InterpM s e)
forall a. a -&gt; InterpM s e a
forall s e. Applicative (InterpM s e)
forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
forall a b. InterpM s e a -&gt; (a -&gt; InterpM s e b) -&gt; InterpM s e b
forall s e a. a -&gt; InterpM s e a
forall s e a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
forall s e a b.
InterpM s e a -&gt; (a -&gt; InterpM s e b) -&gt; InterpM s e b
forall (m :: * -&gt; *).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
$c&gt;&gt;= :: forall s e a b.
InterpM s e a -&gt; (a -&gt; InterpM s e b) -&gt; InterpM s e b
&gt;&gt;= :: forall a b. InterpM s e a -&gt; (a -&gt; InterpM s e b) -&gt; InterpM s e b
$c&gt;&gt; :: forall s e a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
&gt;&gt; :: forall a b. InterpM s e a -&gt; InterpM s e b -&gt; InterpM s e b
$creturn :: forall s e a. a -&gt; InterpM s e a
return :: forall a. a -&gt; InterpM s e a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Monad"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680909169"><span id="local-6989586621680909176"><span id="local-6989586621680909182"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.Class.html#MonadState"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903421"><span class="hs-identifier hs-type">s</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680909196"><span class="annot"><span class="annottext">Monad (InterpM s e)
Monad (InterpM s e)
-&gt; (forall a. IO a -&gt; InterpM s e a) -&gt; MonadIO (InterpM s e)
forall a. IO a -&gt; InterpM s e a
forall s e. Monad (InterpM s e)
forall s e a. IO a -&gt; InterpM s e a
forall (m :: * -&gt; *).
Monad m -&gt; (forall a. IO a -&gt; m a) -&gt; MonadIO m
$cliftIO :: forall s e a. IO a -&gt; InterpM s e a
liftIO :: forall a. IO a -&gt; InterpM s e a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadIO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680909212"><span id="local-6989586621680909219"><span id="local-6989586621680909225"><span id="local-6989586621680909231"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Writer.Class.html#MonadWriter"><span class="hs-identifier hs-type">MonadWriter</span></a></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpLog"><span class="hs-identifier hs-type">InterpLog</span></a></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span>
</span><span id="line-681"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680903535"><span id="local-6989586621680903536"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Control.Monad.Fail.html#MonadFail"><span class="hs-identifier hs-type">MonadFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpM"><span class="hs-identifier hs-type">InterpM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903535"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903536"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-682"></span><span>    </span><span id="local-6989586621680909249"><span class="annot"><span class="annottext">fail :: forall a. DataCon -&gt; InterpM a b a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Control.Monad.Fail.html#fail"><span class="hs-identifier hs-var hs-var hs-var hs-var">fail</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; InterpM a b a
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span id="local-6989586621680903538"><span id="local-6989586621680903539"><span id="local-6989586621680903540"><span class="annot"><a href="Gibbon.Language.Syntax.html#runInterpM"><span class="hs-identifier hs-type">runInterpM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpM"><span class="hs-identifier hs-type">InterpM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903538"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903539"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903540"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903538"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680903540"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpLog"><span class="hs-identifier hs-type">InterpLog</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680903538"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-685"></span><span id="runInterpM"><span class="annot"><span class="annottext">runInterpM :: forall s e a. InterpM s e a -&gt; s -&gt; IO (a, InterpLog, s)
</span><a href="Gibbon.Language.Syntax.html#runInterpM"><span class="hs-identifier hs-var hs-var">runInterpM</span></a></span></span><span> </span><span id="local-6989586621680909253"><span class="annot"><span class="annottext">InterpM s e a
</span><a href="#local-6989586621680909253"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680909254"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909254"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-686"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680909255"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680909255"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680909256"><span class="annot"><span class="annottext">InterpLog
</span><a href="#local-6989586621680909256"><span class="hs-identifier hs-var">logs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680909257"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909257"><span class="hs-identifier hs-var">s1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT s IO (a, InterpLog) -&gt; s -&gt; IO ((a, InterpLog), s)
forall s (m :: * -&gt; *) a. StateT s m a -&gt; s -&gt; m (a, s)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.State.Lazy.html#runStateT"><span class="hs-identifier hs-var">runStateT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WriterT InterpLog (StateT s IO) a -&gt; StateT s IO (a, InterpLog)
forall w (m :: * -&gt; *) a. WriterT w m a -&gt; m (a, w)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Writer.Lazy.html#runWriterT"><span class="hs-identifier hs-var">runWriterT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InterpM s e a -&gt; WriterT InterpLog (StateT s IO) a
forall s e a. InterpM s e a -&gt; WriterT InterpLog (StateT s IO) a
</span><a href="Gibbon.Language.Syntax.html#unInterpM"><span class="hs-identifier hs-var">unInterpM</span></a></span><span> </span><span class="annot"><span class="annottext">InterpM s e a
</span><a href="#local-6989586621680909253"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909254"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-687"></span><span>    </span><span class="annot"><span class="annottext">(a, InterpLog, s) -&gt; IO (a, InterpLog, s)
forall a. a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680909255"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">InterpLog
</span><a href="#local-6989586621680909256"><span class="hs-identifier hs-var">logs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909257"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>
</span><span id="line-689"></span><span class="hs-comment">-- | Pure Gibbon programs, at any stage of compilation, should always</span><span>
</span><span id="line-690"></span><span class="hs-comment">-- be evaluatable to a unique value.  The only side effects are timing.</span><span>
</span><span id="line-691"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Interp"><span class="annot"><a href="Gibbon.Language.Syntax.html#Interp"><span class="hs-identifier hs-var">Interp</span></a></span></span><span> </span><span id="local-6989586621680903550"><span class="annot"><a href="#local-6989586621680903550"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680903551"><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-692"></span><span>  </span><span id="gInterpExp"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpExp"><span class="hs-identifier hs-type">gInterpExp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#RunConfig"><span class="hs-identifier hs-type">RunConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ValEnv"><span class="hs-identifier hs-type">ValEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpM"><span class="hs-identifier hs-type">InterpM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903550"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903551"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span>
</span><span id="line-694"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903554"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Expression"><span class="hs-identifier hs-type">Expression</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903555"><span class="hs-identifier hs-type">ext</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="InterpExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpExt"><span class="hs-identifier hs-var">InterpExt</span></a></span></span><span> </span><span id="local-6989586621680903553"><span class="annot"><a href="#local-6989586621680903553"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680903554"><span class="annot"><a href="#local-6989586621680903554"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621680903555"><span class="annot"><a href="#local-6989586621680903555"><span class="hs-identifier hs-type">ext</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-695"></span><span>  </span><span id="gInterpExt"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpExt"><span class="hs-identifier hs-type">gInterpExt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#RunConfig"><span class="hs-identifier hs-type">RunConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ValEnv"><span class="hs-identifier hs-type">ValEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903554"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903554"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDefs"><span class="hs-identifier hs-type">FunDefs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903554"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903555"><span class="hs-identifier hs-type">ext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpM"><span class="hs-identifier hs-type">InterpM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903553"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903554"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903554"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-696"></span><span>
</span><span id="line-697"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Interp"><span class="hs-identifier hs-type">Interp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903557"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903558"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="InterpProg"><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpProg"><span class="hs-identifier hs-var">InterpProg</span></a></span></span><span> </span><span id="local-6989586621680903557"><span class="annot"><a href="#local-6989586621680903557"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621680903558"><span class="annot"><a href="#local-6989586621680903558"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-698"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpProg"><span class="hs-pragma hs-type">gInterpProg</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-699"></span><span>  </span><span id="gInterpProg"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpProg"><span class="hs-identifier hs-type">gInterpProg</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680903557"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#RunConfig"><span class="hs-identifier hs-type">RunConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903558"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680903557"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903558"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/bytestring-0.11.4.0/src/Data.ByteString.Lazy.Internal.html#ByteString"><span class="hs-identifier hs-type">B.ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-700"></span><span>
</span><span id="line-701"></span><span>  </span><span class="hs-comment">-- | Interpret while ignoring timing constructs, and dropping the</span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-comment">-- corresponding output to stdout.</span><span>
</span><span id="line-703"></span><span>  </span><span id="gInterpNoLogs"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpNoLogs"><span class="hs-identifier hs-type">gInterpNoLogs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680903557"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#RunConfig"><span class="hs-identifier hs-type">RunConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903558"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-704"></span><span>  </span><span id="local-6989586621680909269"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpNoLogs"><span class="hs-identifier hs-var hs-var">gInterpNoLogs</span></a></span><span> </span><span id="local-6989586621680909277"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909277"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680909278"><span class="annot"><span class="annottext">RunConfig
</span><a href="#local-6989586621680909278"><span class="hs-identifier hs-var">rc</span></a></span></span><span> </span><span id="local-6989586621680909279"><span class="annot"><span class="annottext">Prog e
</span><a href="#local-6989586621680909279"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO DataCon -&gt; DataCon
forall a. IO a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO DataCon -&gt; DataCon) -&gt; IO DataCon -&gt; DataCon
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Value e -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Value e -&gt; DataCon)
-&gt; ((s, Value e, ByteString) -&gt; Value e)
-&gt; (s, Value e, ByteString)
-&gt; DataCon
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(s, Value e, ByteString) -&gt; Value e
forall a b c. (a, b, c) -&gt; b
</span><a href="Gibbon.Common.html#snd3"><span class="hs-identifier hs-var">snd3</span></a></span><span> </span><span class="annot"><span class="annottext">((s, Value e, ByteString) -&gt; DataCon)
-&gt; IO (s, Value e, ByteString) -&gt; IO DataCon
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">s -&gt; RunConfig -&gt; Prog e -&gt; IO (s, Value e, ByteString)
forall s e.
InterpProg s e =&gt;
s -&gt; RunConfig -&gt; Prog e -&gt; IO (s, Value e, ByteString)
</span><a href="Gibbon.Language.Syntax.html#gInterpProg"><span class="hs-identifier hs-var">gInterpProg</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909277"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">RunConfig
</span><a href="#local-6989586621680909278"><span class="hs-identifier hs-var">rc</span></a></span><span> </span><span class="annot"><span class="annottext">Prog e
</span><a href="#local-6989586621680909279"><span class="hs-identifier hs-var">p</span></a></span></span><span>
</span><span id="line-705"></span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-comment">-- | Interpret and produce a &quot;log&quot; of output lines, as well as a</span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-comment">-- final, printed result.  The output lines include timing information.</span><span>
</span><span id="line-708"></span><span>  </span><span id="gInterpWithStdout"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpWithStdout"><span class="hs-identifier hs-type">gInterpWithStdout</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680903557"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#RunConfig"><span class="hs-identifier hs-type">RunConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903558"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-709"></span><span>  </span><span id="local-6989586621680909283"><span class="annot"><a href="Gibbon.Language.Syntax.html#gInterpWithStdout"><span class="hs-identifier hs-var hs-var">gInterpWithStdout</span></a></span><span> </span><span id="local-6989586621680909291"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909291"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680909292"><span class="annot"><span class="annottext">RunConfig
</span><a href="#local-6989586621680909292"><span class="hs-identifier hs-var">rc</span></a></span></span><span> </span><span id="local-6989586621680909293"><span class="annot"><span class="annottext">Prog e
</span><a href="#local-6989586621680909293"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-710"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621680909294"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909294"><span class="hs-identifier hs-var">_s1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680909295"><span class="annot"><span class="annottext">Value e
</span><a href="#local-6989586621680909295"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680909296"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680909296"><span class="hs-identifier hs-var">logs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">s -&gt; RunConfig -&gt; Prog e -&gt; IO (s, Value e, ByteString)
forall s e.
InterpProg s e =&gt;
s -&gt; RunConfig -&gt; Prog e -&gt; IO (s, Value e, ByteString)
</span><a href="Gibbon.Language.Syntax.html#gInterpProg"><span class="hs-identifier hs-var">gInterpProg</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909291"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">RunConfig
</span><a href="#local-6989586621680909292"><span class="hs-identifier hs-var">rc</span></a></span><span> </span><span class="annot"><span class="annottext">Prog e
</span><a href="#local-6989586621680909293"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-711"></span><span>    </span><span class="annot"><span class="annottext">(DataCon, [DataCon]) -&gt; IO (DataCon, [DataCon])
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value e -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Value e
</span><a href="#local-6989586621680909295"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [DataCon]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.OldList.html#lines"><span class="hs-identifier hs-var">lines</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/bytestring-0.11.4.0/src/Data.ByteString.Lazy.Char8.html#unpack"><span class="hs-identifier hs-var">B.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680909296"><span class="hs-identifier hs-var">logs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-712"></span><span>
</span><span id="line-713"></span><span>
</span><span id="line-714"></span><span class="annot"><span class="hs-comment">-- | It's a first order language with simple values.</span></span><span>
</span><span id="line-715"></span><span class="hs-keyword">data</span><span> </span><span id="Value"><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-var">Value</span></a></span></span><span> </span><span id="local-6989586621680903571"><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="VInt"><span class="annot"><a href="Gibbon.Language.Syntax.html#VInt"><span class="hs-identifier hs-var">VInt</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-716"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VChar"><span class="annot"><a href="Gibbon.Language.Syntax.html#VChar"><span class="hs-identifier hs-var">VChar</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span>
</span><span id="line-717"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VFloat"><span class="annot"><a href="Gibbon.Language.Syntax.html#VFloat"><span class="hs-identifier hs-var">VFloat</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-718"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VSym"><span class="annot"><a href="Gibbon.Language.Syntax.html#VSym"><span class="hs-identifier hs-var">VSym</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-719"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VBool"><span class="annot"><a href="Gibbon.Language.Syntax.html#VBool"><span class="hs-identifier hs-var">VBool</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-720"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VDict"><span class="annot"><a href="Gibbon.Language.Syntax.html#VDict"><span class="hs-identifier hs-var">VDict</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-721"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VProd"><span class="annot"><a href="Gibbon.Language.Syntax.html#VProd"><span class="hs-identifier hs-var">VProd</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-722"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VList"><span class="annot"><a href="Gibbon.Language.Syntax.html#VList"><span class="hs-identifier hs-var">VList</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-723"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VPacked"><span class="annot"><a href="Gibbon.Language.Syntax.html#VPacked"><span class="hs-identifier hs-var">VPacked</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-724"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VLoc"><span class="annot"><a href="Gibbon.Language.Syntax.html#VLoc"><span class="hs-identifier hs-var">VLoc</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="bufID"><span class="annot"><span class="annottext">forall e. Value e -&gt; Var
</span><a href="Gibbon.Language.Syntax.html#bufID"><span class="hs-identifier hs-var hs-var">bufID</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span id="offset"><span class="annot"><span class="annottext">forall e. Value e -&gt; Int
</span><a href="Gibbon.Language.Syntax.html#offset"><span class="hs-identifier hs-var hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-725"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VCursor"><span class="annot"><a href="Gibbon.Language.Syntax.html#VCursor"><span class="hs-identifier hs-var">VCursor</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="bufID"><span class="annot"><a href="Gibbon.Language.Syntax.html#bufID"><span class="hs-identifier hs-var">bufID</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span id="offset"><span class="annot"><a href="Gibbon.Language.Syntax.html#offset"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-726"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VPtr"><span class="annot"><a href="Gibbon.Language.Syntax.html#VPtr"><span class="hs-identifier hs-var">VPtr</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="bufID"><span class="annot"><a href="Gibbon.Language.Syntax.html#bufID"><span class="hs-identifier hs-var">bufID</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span> </span><span id="offset"><span class="annot"><a href="Gibbon.Language.Syntax.html#offset"><span class="hs-identifier hs-var">offset</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-727"></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ Cursor are a pointer into the Store plus an offset into the Buffer.</span></span><span>
</span><span id="line-728"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VLam"><span class="annot"><a href="Gibbon.Language.Syntax.html#VLam"><span class="hs-identifier hs-var">VLam</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#ValEnv"><span class="hs-identifier hs-type">ValEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-729"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="VWrapId"><span class="annot"><a href="Gibbon.Language.Syntax.html#VWrapId"><span class="hs-identifier hs-var">VWrapId</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903571"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-730"></span><span>               </span><span class="hs-comment">-- ^ A wrapper for vectors that wraps the value with an &quot;id&quot;.</span><span>
</span><span id="line-731"></span><span>               </span><span class="hs-comment">-- All Inplace* operations use this &quot;id&quot; to update the value</span><span>
</span><span id="line-732"></span><span>               </span><span class="hs-comment">-- in 'ValEnv'.</span><span>
</span><span id="line-733"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680909318"><span id="local-6989586621680909322"><span id="local-6989586621680909325"><span id="local-6989586621680909410"><span class="annot"><span class="annottext">ReadPrec [Value e]
ReadPrec (Value e)
Int -&gt; ReadS (Value e)
ReadS [Value e]
(Int -&gt; ReadS (Value e))
-&gt; ReadS [Value e]
-&gt; ReadPrec (Value e)
-&gt; ReadPrec [Value e]
-&gt; Read (Value e)
forall e. (Ord e, Read e) =&gt; ReadPrec [Value e]
forall e. (Ord e, Read e) =&gt; ReadPrec (Value e)
forall e. (Ord e, Read e) =&gt; Int -&gt; ReadS (Value e)
forall e. (Ord e, Read e) =&gt; ReadS [Value e]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: forall e. (Ord e, Read e) =&gt; Int -&gt; ReadS (Value e)
readsPrec :: Int -&gt; ReadS (Value e)
$creadList :: forall e. (Ord e, Read e) =&gt; ReadS [Value e]
readList :: ReadS [Value e]
$creadPrec :: forall e. (Ord e, Read e) =&gt; ReadPrec (Value e)
readPrec :: ReadPrec (Value e)
$creadListPrec :: forall e. (Ord e, Read e) =&gt; ReadPrec [Value e]
readListPrec :: ReadPrec [Value e]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Read.html#Read"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680909415"><span id="local-6989586621680909440"><span class="annot"><span class="annottext">Value e -&gt; Value e -&gt; IsBoxed
(Value e -&gt; Value e -&gt; IsBoxed)
-&gt; (Value e -&gt; Value e -&gt; IsBoxed) -&gt; Eq (Value e)
forall e. Eq e =&gt; Value e -&gt; Value e -&gt; IsBoxed
forall a. (a -&gt; a -&gt; IsBoxed) -&gt; (a -&gt; a -&gt; IsBoxed) -&gt; Eq a
$c== :: forall e. Eq e =&gt; Value e -&gt; Value e -&gt; IsBoxed
== :: Value e -&gt; Value e -&gt; IsBoxed
$c/= :: forall e. Eq e =&gt; Value e -&gt; Value e -&gt; IsBoxed
/= :: Value e -&gt; Value e -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621680909448"><span id="local-6989586621680909473"><span id="local-6989586621680909476"><span id="local-6989586621680909479"><span id="local-6989586621680909482"><span id="local-6989586621680909485"><span id="local-6989586621680909488"><span class="annot"><span class="annottext">Eq (Value e)
Eq (Value e)
-&gt; (Value e -&gt; Value e -&gt; Ordering)
-&gt; (Value e -&gt; Value e -&gt; IsBoxed)
-&gt; (Value e -&gt; Value e -&gt; IsBoxed)
-&gt; (Value e -&gt; Value e -&gt; IsBoxed)
-&gt; (Value e -&gt; Value e -&gt; IsBoxed)
-&gt; (Value e -&gt; Value e -&gt; Value e)
-&gt; (Value e -&gt; Value e -&gt; Value e)
-&gt; Ord (Value e)
Value e -&gt; Value e -&gt; IsBoxed
Value e -&gt; Value e -&gt; Ordering
Value e -&gt; Value e -&gt; Value e
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; IsBoxed)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {e}. Ord e =&gt; Eq (Value e)
forall e. Ord e =&gt; Value e -&gt; Value e -&gt; IsBoxed
forall e. Ord e =&gt; Value e -&gt; Value e -&gt; Ordering
forall e. Ord e =&gt; Value e -&gt; Value e -&gt; Value e
$ccompare :: forall e. Ord e =&gt; Value e -&gt; Value e -&gt; Ordering
compare :: Value e -&gt; Value e -&gt; Ordering
$c&lt; :: forall e. Ord e =&gt; Value e -&gt; Value e -&gt; IsBoxed
&lt; :: Value e -&gt; Value e -&gt; IsBoxed
$c&lt;= :: forall e. Ord e =&gt; Value e -&gt; Value e -&gt; IsBoxed
&lt;= :: Value e -&gt; Value e -&gt; IsBoxed
$c&gt; :: forall e. Ord e =&gt; Value e -&gt; Value e -&gt; IsBoxed
&gt; :: Value e -&gt; Value e -&gt; IsBoxed
$c&gt;= :: forall e. Ord e =&gt; Value e -&gt; Value e -&gt; IsBoxed
&gt;= :: Value e -&gt; Value e -&gt; IsBoxed
$cmax :: forall e. Ord e =&gt; Value e -&gt; Value e -&gt; Value e
max :: Value e -&gt; Value e -&gt; Value e
$cmin :: forall e. Ord e =&gt; Value e -&gt; Value e -&gt; Value e
min :: Value e -&gt; Value e -&gt; Value e
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621680909491"><span id="local-6989586621680909493"><span class="annot"><span class="annottext">(forall x. Value e -&gt; Rep (Value e) x)
-&gt; (forall x. Rep (Value e) x -&gt; Value e) -&gt; Generic (Value e)
forall x. Rep (Value e) x -&gt; Value e
forall x. Value e -&gt; Rep (Value e) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall e x. Rep (Value e) x -&gt; Value e
forall e x. Value e -&gt; Rep (Value e) x
$cfrom :: forall e x. Value e -&gt; Rep (Value e) x
from :: forall x. Value e -&gt; Rep (Value e) x
$cto :: forall e x. Rep (Value e) x -&gt; Value e
to :: forall x. Rep (Value e) x -&gt; Value e
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680903584"><span id="local-6989586621680909497"><span id="local-6989586621680909504"><span id="local-6989586621680909510"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903584"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903584"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-736"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680903586"><span id="local-6989586621680909744"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903586"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/deepseq-1.4.8.0/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903586"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-737"></span><span>
</span><span id="line-738"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680903562"><span id="local-6989586621680909819"><span id="local-6989586621680909823"><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903562"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903562"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-739"></span><span> </span><span id="local-6989586621680909871"><span class="annot"><span class="annottext">show :: Value e -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span id="local-6989586621680909872"><span class="annot"><span class="annottext">Value e
</span><a href="#local-6989586621680909872"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value e
</span><a href="#local-6989586621680909872"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-741"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VInt"><span class="hs-identifier hs-type">VInt</span></a></span><span> </span><span id="local-6989586621680909873"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909873"><span class="hs-identifier hs-var">n</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909873"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-742"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VChar"><span class="hs-identifier hs-type">VChar</span></a></span><span> </span><span id="local-6989586621680909874"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680909874"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680909874"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-743"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VFloat"><span class="hs-identifier hs-type">VFloat</span></a></span><span> </span><span id="local-6989586621680909875"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680909875"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Double -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680909875"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-744"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VSym"><span class="hs-identifier hs-type">VSym</span></a></span><span> </span><span id="local-6989586621680909876"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680909876"><span class="hs-identifier hs-var">s</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680909876"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-745"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VBool"><span class="hs-identifier hs-type">VBool</span></a></span><span> </span><span id="local-6989586621680909877"><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680909877"><span class="hs-identifier hs-var">b</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680909877"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="Gibbon.Common.html#truePrinted"><span class="hs-identifier hs-var">truePrinted</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="Gibbon.Common.html#falsePrinted"><span class="hs-identifier hs-var">falsePrinted</span></a></span><span>
</span><span id="line-746"></span><span class="hs-comment">-- TODO: eventually want Haskell style tuple-printing:</span><span>
</span><span id="line-747"></span><span class="hs-comment">--    VProd ls -&gt; &quot;(&quot;++ concat(intersperse &quot;, &quot; (L.map show ls)) ++&quot;)&quot;</span><span>
</span><span id="line-748"></span><span class="hs-comment">-- For now match Gibbon's Racket backend</span><span>
</span><span id="line-749"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VProd"><span class="hs-identifier hs-type">VProd</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-750"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VProd"><span class="hs-identifier hs-type">VProd</span></a></span><span> </span><span id="local-6989586621680909880"><span class="annot"><span class="annottext">[Value e]
</span><a href="#local-6989586621680909880"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;'#(&quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; DataCon
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; [DataCon] -&gt; [DataCon]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.OldList.html#intersperse"><span class="hs-identifier hs-var">L.intersperse</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Value e -&gt; DataCon) -&gt; [Value e] -&gt; [DataCon]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Value e -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[Value e]
</span><a href="#local-6989586621680909880"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-751"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VList"><span class="hs-identifier hs-type">VList</span></a></span><span> </span><span id="local-6989586621680909883"><span class="annot"><span class="annottext">[Value e]
</span><a href="#local-6989586621680909883"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Value e] -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[Value e]
</span><a href="#local-6989586621680909883"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-752"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VDict"><span class="hs-identifier hs-type">VDict</span></a></span><span> </span><span id="local-6989586621680909884"><span class="annot"><span class="annottext">Map (Value e) (Value e)
</span><a href="#local-6989586621680909884"><span class="hs-identifier hs-var">m</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(Value e, Value e)] -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map (Value e) (Value e) -&gt; [(Value e, Value e)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map (Value e) (Value e)
</span><a href="#local-6989586621680909884"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>   </span><span class="hs-comment">-- For now, Racket style:</span><span>
</span><span id="line-754"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VPacked"><span class="hs-identifier hs-type">VPacked</span></a></span><span> </span><span id="local-6989586621680909885"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680909885"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680909886"><span class="annot"><span class="annottext">[Value e]
</span><a href="#local-6989586621680909886"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680909885"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; DataCon
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Value e -&gt; DataCon) -&gt; [Value e] -&gt; [DataCon]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot; &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (Value e -&gt; DataCon) -&gt; Value e -&gt; DataCon
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value e -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Value e]
</span><a href="#local-6989586621680909886"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-755"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VLoc"><span class="hs-identifier hs-type">VLoc</span></a></span><span> </span><span id="local-6989586621680909887"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680909887"><span class="hs-identifier hs-var">buf</span></a></span></span><span> </span><span id="local-6989586621680909888"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909888"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;&lt;location &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Var -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680909887"><span class="hs-identifier hs-var">buf</span></a></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;, &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Int -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909888"><span class="hs-identifier hs-var">off</span></a></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span>
</span><span id="line-756"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VCursor"><span class="hs-identifier hs-type">VCursor</span></a></span><span> </span><span id="local-6989586621680909889"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680909889"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621680909890"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909890"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;&lt;cursor &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Var -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680909889"><span class="hs-identifier hs-var">idx</span></a></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;, &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Int -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909890"><span class="hs-identifier hs-var">off</span></a></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span>
</span><span id="line-757"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VPtr"><span class="hs-identifier hs-type">VPtr</span></a></span><span> </span><span id="local-6989586621680909891"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680909891"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621680909892"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909892"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;&lt;ptr &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Var -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680909891"><span class="hs-identifier hs-var">idx</span></a></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;, &quot;</span></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Int -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909892"><span class="hs-identifier hs-var">off</span></a></span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span>
</span><span id="line-758"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VLam"><span class="hs-identifier hs-type">VLam</span></a></span><span> </span><span id="local-6989586621680909893"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680909893"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621680909894"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680909894"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span id="local-6989586621680909895"><span class="annot"><span class="annottext">ValEnv e
</span><a href="#local-6989586621680909895"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;(Clos (lambda (&quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[DataCon] -&gt; DataCon
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Var -&gt; DataCon) -&gt; [Var] -&gt; [DataCon]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (Var -&gt; DataCon) -&gt; Var -&gt; DataCon
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680909893"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;) &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">e -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621680909894"><span class="hs-identifier hs-var">bod</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;) #{&quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ValEnv e -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ValEnv e
</span><a href="#local-6989586621680909895"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;})&quot;</span></span><span>
</span><span id="line-759"></span><span>   </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VWrapId"><span class="hs-identifier hs-type">VWrapId</span></a></span><span> </span><span id="local-6989586621680909896"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909896"><span class="hs-identifier hs-var">vid</span></a></span></span><span> </span><span id="local-6989586621680909897"><span class="annot"><span class="annottext">Value e
</span><a href="#local-6989586621680909897"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;(id: &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680909896"><span class="hs-identifier hs-var">vid</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Value e -&gt; DataCon
forall a. Show a =&gt; a -&gt; DataCon
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Value e
</span><a href="#local-6989586621680909897"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span id="local-6989586621680903591"><span id="local-6989586621680903592"><span class="annot"><a href="Gibbon.Language.Syntax.html#execAndPrint"><span class="hs-identifier hs-type">execAndPrint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#InterpProg"><span class="hs-identifier hs-type">InterpProg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903591"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903592"><span class="hs-identifier hs-type">ex</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680903591"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#RunConfig"><span class="hs-identifier hs-type">RunConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680903592"><span class="hs-identifier hs-type">ex</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-762"></span><span id="execAndPrint"><span class="annot"><span class="annottext">execAndPrint :: forall s ex. InterpProg s ex =&gt; s -&gt; RunConfig -&gt; Prog ex -&gt; IO ()
</span><a href="Gibbon.Language.Syntax.html#execAndPrint"><span class="hs-identifier hs-var hs-var">execAndPrint</span></a></span></span><span> </span><span id="local-6989586621680909907"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909907"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680909908"><span class="annot"><span class="annottext">RunConfig
</span><a href="#local-6989586621680909908"><span class="hs-identifier hs-var">rc</span></a></span></span><span> </span><span id="local-6989586621680909909"><span class="annot"><span class="annottext">Prog ex
</span><a href="#local-6989586621680909909"><span class="hs-identifier hs-var">prg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-763"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621680909910"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909910"><span class="hs-identifier hs-var">_s1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680909911"><span class="annot"><span class="annottext">Value ex
</span><a href="#local-6989586621680909911"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680909912"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680909912"><span class="hs-identifier hs-var">logs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">s -&gt; RunConfig -&gt; Prog ex -&gt; IO (s, Value ex, ByteString)
forall s e.
InterpProg s e =&gt;
s -&gt; RunConfig -&gt; Prog e -&gt; IO (s, Value e, ByteString)
</span><a href="Gibbon.Language.Syntax.html#gInterpProg"><span class="hs-identifier hs-var">gInterpProg</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621680909907"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">RunConfig
</span><a href="#local-6989586621680909908"><span class="hs-identifier hs-var">rc</span></a></span><span> </span><span class="annot"><span class="annottext">Prog ex
</span><a href="#local-6989586621680909909"><span class="hs-identifier hs-var">prg</span></a></span><span>
</span><span id="line-764"></span><span>  </span><span class="annot"><span class="annottext">ByteString -&gt; IO ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/bytestring-0.11.4.0/src/Data.ByteString.Lazy.html#putStr"><span class="hs-identifier hs-var">B.putStr</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621680909912"><span class="hs-identifier hs-var">logs</span></a></span><span>
</span><span id="line-765"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value ex
</span><a href="#local-6989586621680909911"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-766"></span><span>    </span><span class="hs-comment">-- Special case: don't print void return:</span><span>
</span><span id="line-767"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VProd"><span class="hs-identifier hs-type">VProd</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- FIXME: remove this.</span><span>
</span><span id="line-768"></span><span>    </span><span class="annot"><span class="annottext">Value ex
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value ex -&gt; IO ()
forall a. Show a =&gt; a -&gt; IO ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/System.IO.html#print"><span class="hs-identifier hs-var">print</span></a></span><span> </span><span class="annot"><span class="annottext">Value ex
</span><a href="#local-6989586621680909911"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-771"></span><span>
</span><span id="line-772"></span><span id="local-6989586621680903203"><span id="local-6989586621680903204"><span id="local-6989586621680903205"><span id="Base"><span id="PreExpF"><span id="local-6989586621680903636"><span id="local-6989586621680909915"><span id="local-6989586621680909923"><span id="local-6989586621680909931"><span id="local-6989586621680909937"><span id="local-6989586621680909966"><span id="local-6989586621680909971"><span id="local-6989586621680909979"><span id="local-6989586621680909982"><span id="local-6989586621680909985"><span id="local-6989586621680909988"><span id="local-6989586621680909991"><span id="local-6989586621680909994"><span id="local-6989586621680909997"><span id="local-6989586621680910004"><span id="local-6989586621680910007"><span id="local-6989586621680910012"><span id="local-6989586621680910017"><span id="local-6989586621680910022"><span id="local-6989586621680910027"><span id="local-6989586621680910037"><span id="local-6989586621680910080"><span id="local-6989586621680910086"><span id="local-6989586621680910091"><span id="local-6989586621680910099"><span id="local-6989586621680910101"><span id="local-6989586621680910105"><span id="local-6989586621680910108"><span id="local-6989586621680910113"><span id="local-6989586621680910123"><span id="local-6989586621680910125"><span id="local-6989586621680910129"><span id="local-6989586621680910132"><span id="local-6989586621680910139"><span id="local-6989586621680910144"><span id="VarEF"><span id="LitEF"><span id="CharEF"><span id="FloatEF"><span id="LitSymEF"><span id="AppEF"><span id="PrimAppEF"><span id="LetEF"><span id="IfEF"><span id="MkProdEF"><span id="ProjEF"><span id="CaseEF"><span id="DataConEF"><span id="TimeItF"><span id="WithArenaEF"><span id="SpawnEF"><span id="SyncEF"><span id="MapEF"><span id="FoldEF"><span id="ExtF"><span id="initialF"><span id="iteratorF"><span id="bodyF"><span class="hs-identifier">makeBaseFunctor</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">PreExp</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-773"></span><span id="Base"><span id="UrTyF"><span id="local-6989586621680903688"><span id="local-6989586621680903690"><span id="local-6989586621680910252"><span id="local-6989586621680910255"><span id="local-6989586621680910258"><span id="local-6989586621680910264"><span id="local-6989586621680910283"><span id="local-6989586621680910288"><span id="local-6989586621680910291"><span id="local-6989586621680910294"><span id="local-6989586621680910297"><span id="local-6989586621680910300"><span id="local-6989586621680910303"><span id="local-6989586621680910306"><span id="local-6989586621680910309"><span id="local-6989586621680910312"><span id="local-6989586621680910315"><span id="local-6989586621680910320"><span id="local-6989586621680910325"><span id="local-6989586621680910330"><span id="local-6989586621680910335"><span id="local-6989586621680910345"><span id="local-6989586621680910368"><span id="local-6989586621680910374"><span id="local-6989586621680910379"><span id="local-6989586621680910387"><span id="local-6989586621680910389"><span id="local-6989586621680910393"><span id="local-6989586621680910396"><span id="local-6989586621680910401"><span id="local-6989586621680910411"><span id="local-6989586621680910413"><span id="local-6989586621680910417"><span id="local-6989586621680910420"><span id="local-6989586621680910427"><span id="local-6989586621680910432"><span id="IntTyF"><span id="CharTyF"><span id="FloatTyF"><span id="SymTyF"><span id="BoolTyF"><span id="ProdTyF"><span id="SymDictTyF"><span id="PackedTyF"><span id="VectorTyF"><span id="PDictTyF"><span id="ListTyF"><span id="ArenaTyF"><span id="SymSetTyF"><span id="SymHashTyF"><span id="IntHashTyF"><span id="PtrTyF"><span id="CursorTyF"><span class="hs-identifier">makeBaseFunctor</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">UrTy</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-774"></span><span id="Base"><span id="PrimF"><span id="local-6989586621680903716"><span id="local-6989586621680903718"><span id="local-6989586621680910474"><span id="local-6989586621680910477"><span id="local-6989586621680910481"><span id="local-6989586621680910487"><span id="local-6989586621680910491"><span id="local-6989586621680910496"><span id="local-6989586621680910499"><span id="local-6989586621680910502"><span id="local-6989586621680910505"><span id="local-6989586621680910508"><span id="local-6989586621680910511"><span id="local-6989586621680910514"><span id="local-6989586621680910517"><span id="local-6989586621680910520"><span id="local-6989586621680910523"><span id="local-6989586621680910528"><span id="local-6989586621680910533"><span id="local-6989586621680910538"><span id="local-6989586621680910543"><span id="local-6989586621680910552"><span id="local-6989586621680910557"><span id="local-6989586621680910563"><span id="local-6989586621680910568"><span id="local-6989586621680910576"><span id="local-6989586621680910578"><span id="local-6989586621680910582"><span id="local-6989586621680910585"><span id="local-6989586621680910590"><span id="local-6989586621680910600"><span id="local-6989586621680910602"><span id="local-6989586621680910606"><span id="local-6989586621680910609"><span id="local-6989586621680910616"><span id="local-6989586621680910621"><span id="AddPF"><span id="SubPF"><span id="MulPF"><span id="DivPF"><span id="ModPF"><span id="ExpPF"><span id="RandPF"><span id="EqIntPF"><span id="LtPF"><span id="GtPF"><span id="LtEqPF"><span id="GtEqPF"><span id="FAddPF"><span id="FSubPF"><span id="FMulPF"><span id="FDivPF"><span id="FExpPF"><span id="FRandPF"><span id="EqFloatPF"><span id="EqCharPF"><span id="FLtPF"><span id="FGtPF"><span id="FLtEqPF"><span id="FGtEqPF"><span id="FSqrtPF"><span id="IntToFloatPF"><span id="FloatToIntPF"><span id="FTanPF"><span id="EqSymPF"><span id="EqBenchProgPF"><span id="OrPF"><span id="AndPF"><span id="MkTrueF"><span id="MkFalseF"><span id="ErrorPF"><span id="SizeParamF"><span id="IsBigF"><span id="GetNumProcessorsF"><span id="PrintIntF"><span id="PrintCharF"><span id="PrintFloatF"><span id="PrintBoolF"><span id="PrintSymF"><span id="ReadIntF"><span id="DictInsertPF"><span id="DictLookupPF"><span id="DictEmptyPF"><span id="DictHasKeyPF"><span id="SymSetEmptyF"><span id="SymSetInsertF"><span id="SymSetContainsF"><span id="SymHashEmptyF"><span id="SymHashInsertF"><span id="SymHashLookupF"><span id="SymHashContainsF"><span id="IntHashEmptyF"><span id="IntHashInsertF"><span id="IntHashLookupF"><span id="PDictAllocPF"><span id="PDictInsertPF"><span id="PDictLookupPF"><span id="PDictHasKeyPF"><span id="PDictForkPF"><span id="PDictJoinPF"><span id="LLAllocPF"><span id="LLIsEmptyPF"><span id="LLConsPF"><span id="LLHeadPF"><span id="LLTailPF"><span id="LLFreePF"><span id="LLFree2PF"><span id="LLCopyPF"><span id="VAllocPF"><span id="VFreePF"><span id="VFree2PF"><span id="VLengthPF"><span id="VNthPF"><span id="VSlicePF"><span id="InplaceVUpdatePF"><span id="VConcatPF"><span id="VSortPF"><span id="InplaceVSortPF"><span id="VMergePF"><span id="Write3dPpmFileF"><span id="ReadPackedFileF"><span id="WritePackedFileF"><span id="ReadArrayFileF"><span id="RequestEndOfF"><span id="RequestSizeOfF"><span id="GensymF"><span class="hs-identifier">makeBaseFunctor</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Prim</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-775"></span></pre></body></html>
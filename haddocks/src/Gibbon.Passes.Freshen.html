<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts  #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="annot"><span class="hs-comment">-- | Unique names.</span></span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Gibbon.Passes.Freshen</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshNames"><span class="hs-identifier">freshNames</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshNames1"><span class="hs-identifier">freshNames1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier">freshExp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier">freshExp1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshFun1"><span class="hs-identifier">freshFun1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Control.Exception.html"><span class="hs-identifier">Control.Exception</span></a></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldrM"><span class="hs-identifier">foldrM</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Float.html#exp"><span class="hs-identifier">exp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Gibbon.Common.html"><span class="hs-identifier">Gibbon.Common</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Gibbon.L0.Syntax.html"><span class="hs-identifier">Gibbon.L0.Syntax</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html"><span class="hs-identifier">Gibbon.L1.Syntax</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L1</span></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">type</span><span> </span><span id="VarEnv"><span class="annot"><a href="Gibbon.Passes.Freshen.html#VarEnv"><span class="hs-identifier hs-var">VarEnv</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">type</span><span> </span><span id="TyVarEnv"><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-var">TyVarEnv</span></a></span></span><span> </span><span id="local-6989586621680956442"><span class="annot"><a href="#local-6989586621680956442"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680956442"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshNames"><span class="hs-identifier hs-type">freshNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Prog0"><span class="hs-identifier hs-type">Prog0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Prog0"><span class="hs-identifier hs-type">Prog0</span></a></span><span>
</span><span id="line-24"></span><span id="freshNames"><span class="annot"><span class="annottext">freshNames :: Prog0 -&gt; PassM Prog0
</span><a href="Gibbon.Passes.Freshen.html#freshNames"><span class="hs-identifier hs-var hs-var">freshNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span id="local-6989586621680956462"><span class="annot"><span class="annottext">DDefs (TyOf Exp0)
</span><a href="#local-6989586621680956462"><span class="hs-identifier hs-var">defs</span></a></span></span><span> </span><span id="local-6989586621680956463"><span class="annot"><span class="annottext">FunDefs Exp0
</span><a href="#local-6989586621680956463"><span class="hs-identifier hs-var">funs</span></a></span></span><span> </span><span id="local-6989586621680956464"><span class="annot"><span class="annottext">Maybe (Exp0, TyOf Exp0)
</span><a href="#local-6989586621680956464"><span class="hs-identifier hs-var">main</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956465"><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680956465"><span class="hs-identifier hs-var">main'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, TyOf Exp0)
</span><a href="#local-6989586621680956464"><span class="hs-identifier hs-var">main</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-26"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (Exp0, TyOf Exp0)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0) -&gt; PassM (Maybe (Exp0, Ty0))
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-27"></span><span>                  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956466"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956466"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956467"><span class="annot"><span class="annottext">TyOf Exp0
</span><a href="#local-6989586621680956467"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956468"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956468"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956466"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-28"></span><span>                                    </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0) -&gt; PassM (Maybe (Exp0, Ty0))
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Exp0, Ty0) -&gt; PassM (Maybe (Exp0, Ty0)))
-&gt; Maybe (Exp0, Ty0) -&gt; PassM (Maybe (Exp0, Ty0))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0, Ty0) -&gt; Maybe (Exp0, Ty0)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956468"><span class="hs-identifier hs-var">m'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">TyOf Exp0
Ty0
</span><a href="#local-6989586621680956467"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>       </span><span id="local-6989586621680956470"><span class="annot"><span class="annottext">Map Var (DDef Ty0)
</span><a href="#local-6989586621680956470"><span class="hs-identifier hs-var">defs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DDef Ty0 -&gt; PassM (DDef Ty0))
-&gt; Map Var (DDef Ty0) -&gt; PassM (Map Var (DDef Ty0))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Map Var a -&gt; f (Map Var b)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">DDef Ty0 -&gt; PassM (DDef Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshDDef"><span class="hs-identifier hs-var">freshDDef</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf Exp0)
Map Var (DDef Ty0)
</span><a href="#local-6989586621680956462"><span class="hs-identifier hs-var">defs</span></a></span><span>
</span><span id="line-30"></span><span>       </span><span id="local-6989586621680956473"><span class="annot"><span class="annottext">FunDefs Exp0
</span><a href="#local-6989586621680956473"><span class="hs-identifier hs-var">funs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; Var) -&gt; FunDefs Exp0 -&gt; FunDefs Exp0
forall k2 k1 a. Ord k2 =&gt; (k1 -&gt; k2) -&gt; Map k1 a -&gt; Map k2 a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#mapKeys"><span class="hs-identifier hs-var">M.mapKeys</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">(FunDefs Exp0 -&gt; FunDefs Exp0)
-&gt; PassM (FunDefs Exp0) -&gt; PassM (FunDefs Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(FunDef Exp0 -&gt; PassM (FunDef Exp0))
-&gt; FunDefs Exp0 -&gt; PassM (FunDefs Exp0)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Map Var a -&gt; f (Map Var b)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef Exp0 -&gt; PassM (FunDef Exp0)
</span><a href="Gibbon.Passes.Freshen.html#freshFun"><span class="hs-identifier hs-var">freshFun</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs Exp0
</span><a href="#local-6989586621680956463"><span class="hs-identifier hs-var">funs</span></a></span><span>
</span><span id="line-31"></span><span>       </span><span class="annot"><span class="annottext">Prog0 -&gt; PassM Prog0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Prog0 -&gt; PassM Prog0) -&gt; Prog0 -&gt; PassM Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf Exp0)
-&gt; FunDefs Exp0 -&gt; Maybe (Exp0, TyOf Exp0) -&gt; Prog0
forall ex.
DDefs (TyOf ex) -&gt; FunDefs ex -&gt; Maybe (ex, TyOf ex) -&gt; Prog ex
</span><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-var">Prog</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf Exp0)
Map Var (DDef Ty0)
</span><a href="#local-6989586621680956470"><span class="hs-identifier hs-var">defs'</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs Exp0
</span><a href="#local-6989586621680956473"><span class="hs-identifier hs-var">funs'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, TyOf Exp0)
Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680956465"><span class="hs-identifier hs-var">main'</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshDDef"><span class="hs-identifier hs-type">freshDDef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span id="freshDDef"><span class="annot"><span class="annottext">freshDDef :: DDef Ty0 -&gt; PassM (DDef Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshDDef"><span class="hs-identifier hs-var hs-var">freshDDef</span></a></span></span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span class="hs-special">{</span><span id="local-6989586621680956507"><span class="annot"><span class="annottext">Var
tyName :: Var
tyName :: forall a. DDef a -&gt; Var
</span><a href="#local-6989586621680956507"><span class="hs-identifier hs-var hs-var">tyName</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956509"><span class="annot"><span class="annottext">[TyVar]
tyArgs :: [TyVar]
tyArgs :: forall a. DDef a -&gt; [TyVar]
</span><a href="#local-6989586621680956509"><span class="hs-identifier hs-var hs-var">tyArgs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956511"><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, Ty0)])]
dataCons :: [(DataCon, [(IsBoxed, Ty0)])]
dataCons :: forall a. DDef a -&gt; [(DataCon, [(IsBoxed, a)])]
</span><a href="#local-6989586621680956511"><span class="hs-identifier hs-var hs-var">dataCons</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-35"></span><span>  </span><span id="local-6989586621680956513"><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956513"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TyVar -&gt; PassM TyVar) -&gt; [TyVar] -&gt; PassM [TyVar]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#UserTv"><span class="hs-identifier hs-type">UserTv</span></a></span><span> </span><span id="local-6989586621680956516"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956516"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; TyVar
</span><a href="Gibbon.Common.html#BoundTv"><span class="hs-identifier hs-var">BoundTv</span></a></span><span> </span><span class="annot"><span class="annottext">(Var -&gt; TyVar) -&gt; PassM Var -&gt; PassM TyVar
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956516"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956509"><span class="hs-identifier hs-var">tyArgs</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621680956519"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span>
</span><span id="line-37"></span><span>      </span><span id="local-6989586621680956519"><span class="annot"><span class="annottext">env :: TyVarEnv Ty0
</span><a href="#local-6989586621680956519"><span class="hs-identifier hs-var hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TyVar, Ty0)] -&gt; TyVarEnv Ty0
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(TyVar, Ty0)] -&gt; TyVarEnv Ty0) -&gt; [(TyVar, Ty0)] -&gt; TyVarEnv Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; [Ty0] -&gt; [(TyVar, Ty0)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956509"><span class="hs-identifier hs-var">tyArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyVar -&gt; Ty0) -&gt; [TyVar] -&gt; [Ty0]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956513"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>  </span><span id="local-6989586621680956522"><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, Ty0)])]
</span><a href="#local-6989586621680956522"><span class="hs-identifier hs-var">dataCons'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((DataCon, [(IsBoxed, Ty0)]) -&gt; PassM (DataCon, [(IsBoxed, Ty0)]))
-&gt; [(DataCon, [(IsBoxed, Ty0)])]
-&gt; PassM [(DataCon, [(IsBoxed, Ty0)])]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680956523"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956523"><span class="hs-identifier hs-var">dcon</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956524"><span class="annot"><span class="annottext">[(IsBoxed, Ty0)]
</span><a href="#local-6989586621680956524"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956523"><span class="hs-identifier hs-var">dcon</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(IsBoxed, Ty0)] -&gt; (DataCon, [(IsBoxed, Ty0)]))
-&gt; PassM [(IsBoxed, Ty0)] -&gt; PassM (DataCon, [(IsBoxed, Ty0)])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">((IsBoxed, Ty0) -&gt; PassM (IsBoxed, Ty0))
-&gt; [(IsBoxed, Ty0)] -&gt; PassM [(IsBoxed, Ty0)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
-&gt; [TyVar]
-&gt; TyVarEnv Ty0
-&gt; (IsBoxed, Ty0)
-&gt; PassM (IsBoxed, Ty0)
forall t.
DataCon -&gt; [TyVar] -&gt; TyVarEnv Ty0 -&gt; (t, Ty0) -&gt; PassM (t, Ty0)
</span><a href="#local-6989586621680956525"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DataCon, [(IsBoxed, Ty0)]) -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956523"><span class="hs-identifier hs-var">dcon</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[(IsBoxed, Ty0)]
</span><a href="#local-6989586621680956524"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956513"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956519"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(IsBoxed, Ty0)]
</span><a href="#local-6989586621680956524"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, Ty0)])]
</span><a href="#local-6989586621680956511"><span class="hs-identifier hs-var">dataCons</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><span class="annottext">DDef Ty0 -&gt; PassM (DDef Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [TyVar] -&gt; [(DataCon, [(IsBoxed, Ty0)])] -&gt; DDef Ty0
forall a. Var -&gt; [TyVar] -&gt; [(DataCon, [(IsBoxed, a)])] -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956507"><span class="hs-identifier hs-var">tyName</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956513"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(IsBoxed, Ty0)])]
</span><a href="#local-6989586621680956522"><span class="hs-identifier hs-var">dataCons'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-41"></span><span>    </span><span id="local-6989586621680956373"><span class="annot"><a href="#local-6989586621680956525"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.Common.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680956373"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680956373"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-42"></span><span>    </span><span id="local-6989586621680956525"><span class="annot"><span class="annottext">go :: forall t.
DataCon -&gt; [TyVar] -&gt; TyVarEnv Ty0 -&gt; (t, Ty0) -&gt; PassM (t, Ty0)
</span><a href="#local-6989586621680956525"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680956542"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956542"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621680956543"><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956543"><span class="hs-identifier hs-var">bound</span></a></span></span><span> </span><span id="local-6989586621680956544"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956544"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956545"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680956545"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956546"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956546"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-43"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956547"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956547"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956544"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956546"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-44"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680956549"><span class="annot"><span class="annottext">free_tvs :: [TyVar]
</span><a href="#local-6989586621680956549"><span class="hs-identifier hs-var hs-var">free_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; [TyVar]
</span><a href="Gibbon.L0.Syntax.html#tyVarsInTy"><span class="hs-identifier hs-var">tyVarsInTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956547"><span class="hs-identifier hs-var">ty'</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; [TyVar] -&gt; [TyVar]
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.OldList.html#%5C%5C"><span class="hs-operator hs-var">L.\\</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956543"><span class="hs-identifier hs-var">bound</span></a></span><span>
</span><span id="line-45"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956549"><span class="hs-identifier hs-var">free_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; [TyVar] -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-46"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(t, Ty0) -&gt; PassM (t, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621680956545"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956547"><span class="hs-identifier hs-var">ty'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; PassM (t, Ty0)
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; PassM (t, Ty0)) -&gt; DataCon -&gt; PassM (t, Ty0)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;freshDDef: Unbound type variables &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DataCon -&gt; DataCon
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956549"><span class="hs-identifier hs-var">free_tvs</span></a></span><span>
</span><span id="line-48"></span><span>                   </span><span class="annot"><span class="annottext">DataCon -&gt; DataCon -&gt; DataCon
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot; in the constructor:\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DataCon -&gt; DataCon
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956542"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshFun"><span class="hs-identifier hs-type">freshFun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span id="freshFun"><span class="annot"><span class="annottext">freshFun :: FunDef Exp0 -&gt; PassM (FunDef Exp0)
</span><a href="Gibbon.Passes.Freshen.html#freshFun"><span class="hs-identifier hs-var hs-var">freshFun</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span id="local-6989586621680956564"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956564"><span class="hs-identifier hs-var">nam</span></a></span></span><span> </span><span id="local-6989586621680956565"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956565"><span class="hs-identifier hs-var">nargs</span></a></span></span><span> </span><span id="local-6989586621680956566"><span class="annot"><span class="annottext">ArrowTy (TyOf Exp0)
</span><a href="#local-6989586621680956566"><span class="hs-identifier hs-var">funty</span></a></span></span><span> </span><span id="local-6989586621680956567"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956567"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span id="local-6989586621680956568"><span class="annot"><span class="annottext">FunMeta
</span><a href="#local-6989586621680956568"><span class="hs-identifier hs-var">meta</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956569"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956569"><span class="hs-identifier hs-var">nargs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; PassM Var) -&gt; [Var] -&gt; PassM [Var]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956565"><span class="hs-identifier hs-var">nargs</span></a></span><span>
</span><span id="line-53"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680956570"><span class="annot"><span class="annottext">msubst :: VarEnv
</span><a href="#local-6989586621680956570"><span class="hs-identifier hs-var hs-var">msubst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; VarEnv
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Var, Var)] -&gt; VarEnv) -&gt; [(Var, Var)] -&gt; VarEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [(Var, Var)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956565"><span class="hs-identifier hs-var">nargs</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956569"><span class="hs-identifier hs-var">nargs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>       </span><span class="hs-special">(</span><span id="local-6989586621680956571"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956571"><span class="hs-identifier hs-var">tvenv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956572"><span class="annot"><span class="annottext">TyScheme
</span><a href="#local-6989586621680956572"><span class="hs-identifier hs-var">funty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyScheme -&gt; PassM (TyVarEnv Ty0, TyScheme)
</span><a href="Gibbon.Passes.Freshen.html#freshTyScheme"><span class="hs-identifier hs-var">freshTyScheme</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy (TyOf Exp0)
TyScheme
</span><a href="#local-6989586621680956566"><span class="hs-identifier hs-var">funty</span></a></span><span>
</span><span id="line-55"></span><span>       </span><span id="local-6989586621680956574"><span class="annot"><span class="annottext">TyScheme
</span><a href="#local-6989586621680956574"><span class="hs-identifier hs-var">funty''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyScheme -&gt; PassM TyScheme
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; TyScheme -&gt; m TyScheme
</span><a href="Gibbon.Passes.Freshen.html#freshDictTyScheme"><span class="hs-identifier hs-var">freshDictTyScheme</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956570"><span class="hs-identifier hs-var">msubst</span></a></span><span> </span><span class="annot"><span class="annottext">TyScheme
</span><a href="#local-6989586621680956572"><span class="hs-identifier hs-var">funty'</span></a></span><span>
</span><span id="line-56"></span><span>       </span><span id="local-6989586621680956576"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956576"><span class="hs-identifier hs-var">bod'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956570"><span class="hs-identifier hs-var">msubst</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956571"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956567"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-57"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680956577"><span class="annot"><span class="annottext">nam' :: Var
</span><a href="#local-6989586621680956577"><span class="hs-identifier hs-var hs-var">nam'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956564"><span class="hs-identifier hs-var">nam</span></a></span><span>
</span><span id="line-58"></span><span>       </span><span class="annot"><span class="annottext">FunDef Exp0 -&gt; PassM (FunDef Exp0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(FunDef Exp0 -&gt; PassM (FunDef Exp0))
-&gt; FunDef Exp0 -&gt; PassM (FunDef Exp0)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var
-&gt; [Var] -&gt; ArrowTy (TyOf Exp0) -&gt; Exp0 -&gt; FunMeta -&gt; FunDef Exp0
forall ex.
Var -&gt; [Var] -&gt; ArrowTy (TyOf ex) -&gt; ex -&gt; FunMeta -&gt; FunDef ex
</span><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-var">FunDef</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956577"><span class="hs-identifier hs-var">nam'</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956569"><span class="hs-identifier hs-var">nargs'</span></a></span><span> </span><span class="annot"><span class="annottext">ArrowTy (TyOf Exp0)
TyScheme
</span><a href="#local-6989586621680956574"><span class="hs-identifier hs-var">funty''</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956576"><span class="hs-identifier hs-var">bod'</span></a></span><span> </span><span class="annot"><span class="annottext">FunMeta
</span><a href="#local-6989586621680956568"><span class="hs-identifier hs-var">meta</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-comment">--</span><span>
</span><span id="line-61"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshTyScheme"><span class="hs-identifier hs-type">freshTyScheme</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#TyScheme"><span class="hs-identifier hs-type">TyScheme</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#TyScheme"><span class="hs-identifier hs-type">TyScheme</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span id="freshTyScheme"><span class="annot"><span class="annottext">freshTyScheme :: TyScheme -&gt; PassM (TyVarEnv Ty0, TyScheme)
</span><a href="Gibbon.Passes.Freshen.html#freshTyScheme"><span class="hs-identifier hs-var hs-var">freshTyScheme</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#ForAll"><span class="hs-identifier hs-type">ForAll</span></a></span><span> </span><span id="local-6989586621680956587"><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956587"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621680956588"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956588"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621680956589"><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956589"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TyVar -&gt; PassM TyVar) -&gt; [TyVar] -&gt; PassM [TyVar]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#UserTv"><span class="hs-identifier hs-type">UserTv</span></a></span><span> </span><span id="local-6989586621680956590"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956590"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; TyVar
</span><a href="Gibbon.Common.html#BoundTv"><span class="hs-identifier hs-var">BoundTv</span></a></span><span> </span><span class="annot"><span class="annottext">(Var -&gt; TyVar) -&gt; PassM Var -&gt; PassM TyVar
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956590"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956587"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680956591"><span class="annot"><span class="annottext">env :: TyVarEnv Ty0
</span><a href="#local-6989586621680956591"><span class="hs-identifier hs-var hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TyVar, Ty0)] -&gt; TyVarEnv Ty0
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(TyVar, Ty0)] -&gt; TyVarEnv Ty0) -&gt; [(TyVar, Ty0)] -&gt; TyVarEnv Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; [Ty0] -&gt; [(TyVar, Ty0)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956587"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyVar -&gt; Ty0) -&gt; [TyVar] -&gt; [Ty0]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956589"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621680956592"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956592"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956593"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956593"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956591"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956588"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, TyScheme) -&gt; PassM (TyVarEnv Ty0, TyScheme)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956592"><span class="hs-identifier hs-var">env'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; Ty0 -&gt; TyScheme
</span><a href="Gibbon.L0.Syntax.html#ForAll"><span class="hs-identifier hs-var">ForAll</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956589"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956593"><span class="hs-identifier hs-var">ty'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-type">freshTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span id="freshTy"><span class="annot"><span class="annottext">freshTy :: TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var hs-var">freshTy</span></a></span></span><span> </span><span id="local-6989586621680956627"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680956628"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-71"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymTy0"><span class="hs-identifier hs-var">SymTy0</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span id="local-6989586621680956637"><span class="annot"><span class="annottext">TyVar
</span><a href="#local-6989586621680956637"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; TyVarEnv Ty0 -&gt; Maybe Ty0
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">TyVar
</span><a href="#local-6989586621680956637"><span class="hs-identifier hs-var">tv</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-80"></span><span>                   </span><span class="annot"><span class="annottext">Maybe Ty0
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956639"><span class="annot"><span class="annottext">TyVar
</span><a href="#local-6989586621680956639"><span class="hs-identifier hs-var">tv'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM TyVar
forall (m :: * -&gt; *). MonadState Int m =&gt; m TyVar
</span><a href="Gibbon.L0.Syntax.html#newTyVar"><span class="hs-identifier hs-var">newTyVar</span></a></span><span>
</span><span id="line-81"></span><span>                                  </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">TyVar
</span><a href="#local-6989586621680956639"><span class="hs-identifier hs-var">tv'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>                   </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956641"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956641"><span class="hs-identifier hs-var">tv'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956641"><span class="hs-identifier hs-var">tv'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#MetaTv"><span class="hs-identifier hs-type">MetaTv</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#ProdTy"><span class="hs-identifier hs-type">ProdTy</span></a></span><span> </span><span id="local-6989586621680956644"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956644"><span class="hs-identifier hs-var">tys</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956645"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956645"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956646"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956646"><span class="hs-identifier hs-var">tys'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
-&gt; [Ty0] -&gt; PassM (TyVarEnv (TyOf Exp0), [Ty0])
</span><a href="Gibbon.Passes.Freshen.html#freshTys"><span class="hs-identifier hs-var">freshTys</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956644"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-85"></span><span>                         </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956645"><span class="hs-identifier hs-var">env'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956646"><span class="hs-identifier hs-var">tys'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-type">SymDictTy</span></a></span><span> </span><span id="local-6989586621680956649"><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680956649"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680956650"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956650"><span class="hs-identifier hs-var">t</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956651"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956651"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956652"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956652"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956650"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-87"></span><span>                           </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956651"><span class="hs-identifier hs-var">env'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="#local-6989586621680956649"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956652"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#PDictTy"><span class="hs-identifier hs-type">PDictTy</span></a></span><span> </span><span id="local-6989586621680956654"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956654"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680956655"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956655"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956656"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956656"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956657"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956657"><span class="hs-identifier hs-var">k'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956654"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-89"></span><span>                       </span><span class="hs-special">(</span><span id="local-6989586621680956658"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956658"><span class="hs-identifier hs-var">env''</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956659"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956659"><span class="hs-identifier hs-var">v'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956656"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956655"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-90"></span><span>                       </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956658"><span class="hs-identifier hs-var">env''</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PDictTy"><span class="hs-identifier hs-var">PDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956657"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956659"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span id="local-6989586621680956661"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956661"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span id="local-6989586621680956662"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956662"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956663"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956663"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956664"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956664"><span class="hs-identifier hs-var">tys'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
-&gt; [Ty0] -&gt; PassM (TyVarEnv (TyOf Exp0), [Ty0])
</span><a href="Gibbon.Passes.Freshen.html#freshTys"><span class="hs-identifier hs-var">freshTys</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956661"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-92"></span><span>                         </span><span class="hs-special">(</span><span id="local-6989586621680956665"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956665"><span class="hs-identifier hs-var">env''</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621680956666"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956666"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
-&gt; [Ty0] -&gt; PassM (TyVarEnv (TyOf Exp0), [Ty0])
</span><a href="Gibbon.Passes.Freshen.html#freshTys"><span class="hs-identifier hs-var">freshTys</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
TyVarEnv Ty0
</span><a href="#local-6989586621680956663"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956662"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>                         </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956665"><span class="hs-identifier hs-var">env''</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ArrowTy"><span class="hs-identifier hs-var">ArrowTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956664"><span class="hs-identifier hs-var">tys'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956666"><span class="hs-identifier hs-var">t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-type">PackedTy</span></a></span><span> </span><span id="local-6989586621680956668"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956668"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621680956669"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956669"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956670"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956670"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956671"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956671"><span class="hs-identifier hs-var">tys'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
-&gt; [Ty0] -&gt; PassM (TyVarEnv (TyOf Exp0), [Ty0])
</span><a href="Gibbon.Passes.Freshen.html#freshTys"><span class="hs-identifier hs-var">freshTys</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956669"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-95"></span><span>                              </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956670"><span class="hs-identifier hs-var">env'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956668"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956671"><span class="hs-identifier hs-var">tys'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#VectorTy"><span class="hs-identifier hs-type">VectorTy</span></a></span><span> </span><span id="local-6989586621680956673"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956673"><span class="hs-identifier hs-var">el_t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956674"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956674"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956675"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956675"><span class="hs-identifier hs-var">el_t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956673"><span class="hs-identifier hs-var">el_t</span></a></span><span>
</span><span id="line-97"></span><span>                         </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956674"><span class="hs-identifier hs-var">env'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956675"><span class="hs-identifier hs-var">el_t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#ListTy"><span class="hs-identifier hs-type">ListTy</span></a></span><span> </span><span id="local-6989586621680956677"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956677"><span class="hs-identifier hs-var">el_t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956678"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956678"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956679"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956679"><span class="hs-identifier hs-var">el_t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956677"><span class="hs-identifier hs-var">el_t</span></a></span><span>
</span><span id="line-99"></span><span>                       </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956678"><span class="hs-identifier hs-var">env'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ListTy"><span class="hs-identifier hs-var">ListTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956679"><span class="hs-identifier hs-var">el_t'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#IntHashTy"><span class="hs-identifier hs-var">IntHashTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, Ty0) -&gt; PassM (TyVarEnv Ty0, Ty0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956627"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956628"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshTys"><span class="hs-identifier hs-type">freshTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#TyOf"><span class="hs-identifier hs-type">TyOf</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span id="freshTys"><span class="annot"><span class="annottext">freshTys :: TyVarEnv (TyOf Exp0)
-&gt; [Ty0] -&gt; PassM (TyVarEnv (TyOf Exp0), [Ty0])
</span><a href="Gibbon.Passes.Freshen.html#freshTys"><span class="hs-identifier hs-var hs-var">freshTys</span></a></span></span><span> </span><span id="local-6989586621680956689"><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
</span><a href="#local-6989586621680956689"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621680956690"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956690"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="annottext">(Ty0 -&gt; (TyVarEnv Ty0, [Ty0]) -&gt; PassM (TyVarEnv Ty0, [Ty0]))
-&gt; (TyVarEnv Ty0, [Ty0]) -&gt; [Ty0] -&gt; PassM (TyVarEnv Ty0, [Ty0])
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; b -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldrM"><span class="hs-identifier hs-var">foldrM</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680956691"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956691"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956692"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956692"><span class="hs-identifier hs-var">env'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956693"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956693"><span class="hs-identifier hs-var">acc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-106"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621680956694"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956694"><span class="hs-identifier hs-var">env''</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956695"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956695"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956692"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956691"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-107"></span><span>          </span><span class="annot"><span class="annottext">(TyVarEnv Ty0, [Ty0]) -&gt; PassM (TyVarEnv Ty0, [Ty0])
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956692"><span class="hs-identifier hs-var">env'</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; TyVarEnv Ty0 -&gt; TyVarEnv Ty0
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956694"><span class="hs-identifier hs-var">env''</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956695"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; [Ty0] -&gt; [Ty0]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956693"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyVarEnv (TyOf Exp0)
TyVarEnv Ty0
</span><a href="#local-6989586621680956689"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956690"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span id="local-6989586621680956402"><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-type">freshDictTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680956402"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680956402"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span></span><span>
</span><span id="line-112"></span><span id="freshDictTy"><span class="annot"><span class="annottext">freshDictTy :: forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var hs-var">freshDictTy</span></a></span></span><span> </span><span id="local-6989586621680956747"><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621680956748"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-114"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-115"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-116"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#FloatTy"><span class="hs-identifier hs-var">FloatTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-117"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymTy0"><span class="hs-identifier hs-var">SymTy0</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-118"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-119"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-120"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span id="local-6989586621680956749"><span class="annot"><span class="annottext">TyVar
</span><a href="#local-6989586621680956749"><span class="hs-identifier hs-var">_tv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-121"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#MetaTv"><span class="hs-identifier hs-type">MetaTv</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-122"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#ProdTy"><span class="hs-identifier hs-type">ProdTy</span></a></span><span> </span><span id="local-6989586621680956750"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956750"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-123"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956751"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956751"><span class="hs-identifier hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; [Ty0] -&gt; m [Ty0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956750"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-124"></span><span>            </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956751"><span class="hs-identifier hs-var">tys'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-type">SymDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956752"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956752"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680956753"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956753"><span class="hs-identifier hs-var">t</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-126"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956754"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956754"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956753"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-127"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956752"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-128"></span><span>              </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956755"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956755"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; Ty0 -&gt; m Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Maybe Var
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956755"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956754"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-129"></span><span>              </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-130"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-type">SymDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span id="local-6989586621680956756"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956756"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-131"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956757"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956757"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956756"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-132"></span><span>            </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; Ty0 -&gt; m Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956757"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-133"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#PDictTy"><span class="hs-identifier hs-type">PDictTy</span></a></span><span> </span><span id="local-6989586621680956758"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956758"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680956759"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956759"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-134"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956760"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956760"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956758"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-135"></span><span>            </span><span id="local-6989586621680956761"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956761"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956759"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-136"></span><span>            </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; Ty0 -&gt; m Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PDictTy"><span class="hs-identifier hs-var">PDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956760"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956761"><span class="hs-identifier hs-var">v'</span></a></span><span>
</span><span id="line-137"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#ArrowTy"><span class="hs-identifier hs-type">ArrowTy</span></a></span><span> </span><span id="local-6989586621680956762"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956762"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span id="local-6989586621680956763"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956763"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-138"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956764"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956764"><span class="hs-identifier hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; [Ty0] -&gt; m [Ty0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956762"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-139"></span><span>            </span><span id="local-6989586621680956765"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956765"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956763"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-140"></span><span>            </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; Ty0 -&gt; m Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ArrowTy"><span class="hs-identifier hs-var">ArrowTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956764"><span class="hs-identifier hs-var">tys'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956765"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-141"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-type">PackedTy</span></a></span><span> </span><span id="local-6989586621680956766"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956766"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621680956767"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956767"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-142"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956768"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956768"><span class="hs-identifier hs-var">tys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; [Ty0] -&gt; m [Ty0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956767"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-143"></span><span>            </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; Ty0 -&gt; m Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956766"><span class="hs-identifier hs-var">tycon</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956768"><span class="hs-identifier hs-var">tys'</span></a></span><span>
</span><span id="line-144"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#VectorTy"><span class="hs-identifier hs-type">VectorTy</span></a></span><span> </span><span id="local-6989586621680956769"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956769"><span class="hs-identifier hs-var">el_t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-145"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956770"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956770"><span class="hs-identifier hs-var">el_t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956769"><span class="hs-identifier hs-var">el_t</span></a></span><span>
</span><span id="line-146"></span><span>            </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; Ty0 -&gt; m Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956770"><span class="hs-identifier hs-var">el_t'</span></a></span><span>
</span><span id="line-147"></span><span>     </span><span class="annot"><a href="Gibbon.L0.Syntax.html#ListTy"><span class="hs-identifier hs-type">ListTy</span></a></span><span> </span><span id="local-6989586621680956771"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956771"><span class="hs-identifier hs-var">el_t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-148"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956772"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956772"><span class="hs-identifier hs-var">el_t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956747"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956771"><span class="hs-identifier hs-var">el_t</span></a></span><span>
</span><span id="line-149"></span><span>            </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; m Ty0) -&gt; Ty0 -&gt; m Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ListTy"><span class="hs-identifier hs-var">ListTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956772"><span class="hs-identifier hs-var">el_t'</span></a></span><span>
</span><span id="line-150"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-151"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-152"></span><span>     </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#IntHashTy"><span class="hs-identifier hs-var">IntHashTy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; m Ty0
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956748"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span id="local-6989586621680956390"><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshDictTyScheme"><span class="hs-identifier hs-type">freshDictTyScheme</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680956390"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-155"></span><span>                     </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#TyScheme"><span class="hs-identifier hs-type">TyScheme</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680956390"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#TyScheme"><span class="hs-identifier hs-type">TyScheme</span></a></span></span><span>
</span><span id="line-156"></span><span id="freshDictTyScheme"><span class="annot"><span class="annottext">freshDictTyScheme :: forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; TyScheme -&gt; m TyScheme
</span><a href="Gibbon.Passes.Freshen.html#freshDictTyScheme"><span class="hs-identifier hs-var hs-var">freshDictTyScheme</span></a></span></span><span> </span><span id="local-6989586621680956778"><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956778"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#ForAll"><span class="hs-identifier hs-type">ForAll</span></a></span><span> </span><span id="local-6989586621680956779"><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956779"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span id="local-6989586621680956780"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956780"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680956781"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956781"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Ty0 -&gt; m Ty0
forall (m :: * -&gt; *). Monad m =&gt; VarEnv -&gt; Ty0 -&gt; m Ty0
</span><a href="Gibbon.Passes.Freshen.html#freshDictTy"><span class="hs-identifier hs-var">freshDictTy</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956778"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956780"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-158"></span><span>       </span><span class="annot"><span class="annottext">TyScheme -&gt; m TyScheme
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TyScheme -&gt; m TyScheme) -&gt; TyScheme -&gt; m TyScheme
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; Ty0 -&gt; TyScheme
</span><a href="Gibbon.L0.Syntax.html#ForAll"><span class="hs-identifier hs-var">ForAll</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956779"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956781"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-type">freshExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#VarEnv"><span class="hs-identifier hs-type">VarEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#TyVarEnv"><span class="hs-identifier hs-type">TyVarEnv</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-161"></span><span id="freshExp"><span class="annot"><span class="annottext">freshExp :: VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var hs-var">freshExp</span></a></span></span><span> </span><span id="local-6989586621680956923"><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span></span><span> </span><span id="local-6989586621680956924"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span></span><span> </span><span id="local-6989586621680956925"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956925"><span class="hs-identifier hs-var">exp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956925"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-163"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span> </span><span id="local-6989586621680956927"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680956927"><span class="hs-identifier hs-var">i</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Int -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680956927"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span> </span><span id="local-6989586621680956929"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680956929"><span class="hs-identifier hs-var">c</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Char -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-var">CharE</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680956929"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span> </span><span id="local-6989586621680956931"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680956931"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Double -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-var">FloatE</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680956931"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span> </span><span id="local-6989586621680956933"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956933"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-var">LitSymE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956933"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680956935"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956935"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-169"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956935"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-170"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956935"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956936"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956936"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956936"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680956938"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956938"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680956939"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956939"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680956940"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956940"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IsBoxed -&gt; PassM Exp0 -&gt; PassM Exp0
forall a. HasCallStack =&gt; IsBoxed -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#assert"><span class="hs-identifier hs-var hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; [Ty0] -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956939"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PassM Exp0 -&gt; PassM Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-174"></span><span>      </span><span id="local-6989586621680956941"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956941"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956940"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-175"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956938"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-176"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956938"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956941"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-177"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956943"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956943"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956943"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956941"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span id="local-6989586621680956945"><span class="annot"><span class="annottext">Prim Ty0
</span><a href="#local-6989586621680956945"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680956946"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956946"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-180"></span><span>      </span><span id="local-6989586621680956947"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956947"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956946"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-181"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0
</span><a href="#local-6989586621680956945"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956947"><span class="hs-identifier hs-var">es'</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956949"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956949"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956950"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956950"><span class="hs-identifier hs-var">_locs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956951"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956951"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956952"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956952"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680956953"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956953"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-184"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680956954"><span class="annot"><span class="annottext">user_tvs :: [TyVar]
</span><a href="#local-6989586621680956954"><span class="hs-identifier hs-var hs-var">user_tvs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyVar -&gt; IsBoxed) -&gt; [TyVar] -&gt; [TyVar]
forall a. (a -&gt; IsBoxed) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#filter"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; IsBoxed
</span><a href="Gibbon.Common.html#isUserTv"><span class="hs-identifier hs-var">isUserTv</span></a></span><span> </span><span class="annot"><span class="annottext">([TyVar] -&gt; [TyVar]) -&gt; [TyVar] -&gt; [TyVar]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; [TyVar]
</span><a href="Gibbon.L0.Syntax.html#tyVarsInTy"><span class="hs-identifier hs-var">tyVarsInTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956951"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-185"></span><span>      </span><span id="local-6989586621680956956"><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956956"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TyVar -&gt; PassM TyVar) -&gt; [TyVar] -&gt; PassM [TyVar]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#UserTv"><span class="hs-identifier hs-type">UserTv</span></a></span><span> </span><span id="local-6989586621680956957"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956957"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-186"></span><span>                                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; TyVarEnv Ty0 -&gt; Maybe Ty0
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; TyVar
</span><a href="Gibbon.Common.html#UserTv"><span class="hs-identifier hs-var">UserTv</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956957"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-187"></span><span>                                  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span> </span><span id="local-6989586621680956958"><span class="annot"><span class="annottext">TyVar
</span><a href="#local-6989586621680956958"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; PassM TyVar
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TyVar
</span><a href="#local-6989586621680956958"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-188"></span><span>                                  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956959"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956959"><span class="hs-identifier hs-var">oth</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; PassM TyVar
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; PassM TyVar) -&gt; DataCon -&gt; PassM TyVar
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;freshExp: UserTv bound to: &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DataCon -&gt; DataCon
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956959"><span class="hs-identifier hs-var">oth</span></a></span><span>
</span><span id="line-189"></span><span>                                  </span><span class="annot"><span class="annottext">Maybe Ty0
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; TyVar
</span><a href="Gibbon.Common.html#BoundTv"><span class="hs-identifier hs-var">BoundTv</span></a></span><span> </span><span class="annot"><span class="annottext">(Var -&gt; TyVar) -&gt; PassM Var -&gt; PassM TyVar
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956957"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>                           </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956954"><span class="hs-identifier hs-var">user_tvs</span></a></span><span>
</span><span id="line-191"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680956960"><span class="annot"><span class="annottext">env :: TyVarEnv Ty0
</span><a href="#local-6989586621680956960"><span class="hs-identifier hs-var hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TyVar, Ty0)] -&gt; TyVarEnv Ty0
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(TyVar, Ty0)] -&gt; TyVarEnv Ty0) -&gt; [(TyVar, Ty0)] -&gt; TyVarEnv Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; [Ty0] -&gt; [(TyVar, Ty0)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956954"><span class="hs-identifier hs-var">user_tvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyVar -&gt; Ty0) -&gt; [TyVar] -&gt; [Ty0]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680956956"><span class="hs-identifier hs-var">rigid_tyvars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>          </span><span id="local-6989586621680956961"><span class="annot"><span class="annottext">tvenv' :: TyVarEnv Ty0
</span><a href="#local-6989586621680956961"><span class="hs-identifier hs-var hs-var">tvenv'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956960"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; TyVarEnv Ty0 -&gt; TyVarEnv Ty0
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621680956962"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956962"><span class="hs-identifier hs-var">_tvenv''</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680956963"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956963"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956961"><span class="hs-identifier hs-var">tvenv'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956951"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-195"></span><span>      </span><span id="local-6989586621680956964"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956964"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956961"><span class="hs-identifier hs-var">tvenv'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956952"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span id="local-6989586621680956965"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956965"><span class="hs-identifier hs-var">v'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956949"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>      </span><span id="local-6989586621680956966"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956966"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var -&gt; VarEnv -&gt; VarEnv
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956949"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956965"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956953"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span id="local-6989586621680956968"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956968"><span class="hs-identifier hs-var">ty''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956963"><span class="hs-identifier hs-var">ty'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-199"></span><span>                </span><span class="annot"><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-type">SymDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956969"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956969"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680956970"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956970"><span class="hs-identifier hs-var">ty2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956969"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-200"></span><span>                                            </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; PassM Ty0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956963"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-201"></span><span>                                            </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680956971"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956971"><span class="hs-identifier hs-var">w'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; PassM Ty0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; PassM Ty0) -&gt; Ty0 -&gt; PassM Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Maybe Var
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956971"><span class="hs-identifier hs-var">w'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956970"><span class="hs-identifier hs-var">ty2</span></a></span><span>
</span><span id="line-202"></span><span>                </span><span class="annot"><span class="annottext">Ty0
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; PassM Ty0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956963"><span class="hs-identifier hs-var">ty'</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, [Ty0], Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680956965"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680956968"><span class="hs-identifier hs-var">ty''</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956964"><span class="hs-identifier hs-var">e1'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956966"><span class="hs-identifier hs-var">e2'</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span id="local-6989586621680956973"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956973"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621680956974"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956974"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621680956975"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956975"><span class="hs-identifier hs-var">e3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-206"></span><span>      </span><span id="local-6989586621680956976"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956976"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956973"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-207"></span><span>      </span><span id="local-6989586621680956977"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956977"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956974"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span id="local-6989586621680956978"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956978"><span class="hs-identifier hs-var">e3'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956975"><span class="hs-identifier hs-var">e3</span></a></span><span>
</span><span id="line-209"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956976"><span class="hs-identifier hs-var">e1'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956977"><span class="hs-identifier hs-var">e2'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956978"><span class="hs-identifier hs-var">e3'</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span id="local-6989586621680956980"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680956980"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680956981"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956981"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-212"></span><span>      </span><span id="local-6989586621680956982"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956982"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956981"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-213"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Int -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-var">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680956980"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956982"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680956984"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956984"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-216"></span><span>      </span><span id="local-6989586621680956985"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956985"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956984"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680956985"><span class="hs-identifier hs-var">es'</span></a></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680956987"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956987"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680956988"><span class="annot"><span class="annottext">[(DataCon, [(Var, Ty0)], Exp0)]
</span><a href="#local-6989586621680956988"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-220"></span><span>      </span><span id="local-6989586621680956989"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956989"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956987"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-221"></span><span>      </span><span id="local-6989586621680956990"><span class="annot"><span class="annottext">[(DataCon, [(Var, Ty0)], Exp0)]
</span><a href="#local-6989586621680956990"><span class="hs-identifier hs-var">mp'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((DataCon, [(Var, Ty0)], Exp0)
 -&gt; PassM (DataCon, [(Var, Ty0)], Exp0))
-&gt; [(DataCon, [(Var, Ty0)], Exp0)]
-&gt; PassM [(DataCon, [(Var, Ty0)], Exp0)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680956991"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956991"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956992"><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680956992"><span class="hs-identifier hs-var">prs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956993"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956993"><span class="hs-identifier hs-var">ae</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-222"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680956994"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956994"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680956995"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956995"><span class="hs-identifier hs-var">locs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)] -&gt; ([Var], [Ty0])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680956992"><span class="hs-identifier hs-var">prs</span></a></span><span>
</span><span id="line-223"></span><span>                     </span><span id="local-6989586621680956997"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956997"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; PassM Var) -&gt; [Var] -&gt; PassM [Var]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956994"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-224"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680956998"><span class="annot"><span class="annottext">venv' :: VarEnv
</span><a href="#local-6989586621680956998"><span class="hs-identifier hs-var hs-var">venv'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; VarEnv
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [(Var, Var)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956994"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956997"><span class="hs-identifier hs-var">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; VarEnv -&gt; VarEnv
forall k a. Ord k =&gt; Map k a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#union"><span class="hs-operator hs-var">`M.union`</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span>
</span><span id="line-225"></span><span>                     </span><span id="local-6989586621680957000"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957000"><span class="hs-identifier hs-var">ae'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956998"><span class="hs-identifier hs-var">venv'</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956993"><span class="hs-identifier hs-var">ae</span></a></span><span>
</span><span id="line-226"></span><span>                     </span><span class="annot"><span class="annottext">(DataCon, [(Var, Ty0)], Exp0)
-&gt; PassM (DataCon, [(Var, Ty0)], Exp0)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680956991"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Ty0] -&gt; [(Var, Ty0)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680956997"><span class="hs-identifier hs-var">args'</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680956995"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957000"><span class="hs-identifier hs-var">ae'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(Var, Ty0)], Exp0)]
</span><a href="#local-6989586621680956988"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; [(DataCon, [(Var, Ty0)], Exp0)] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; [(DataCon, [(Var, loc)], PreExp ext loc dec)]
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-var">CaseE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956989"><span class="hs-identifier hs-var">e'</span></a></span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(Var, Ty0)], Exp0)]
</span><a href="#local-6989586621680956990"><span class="hs-identifier hs-var">mp'</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span id="local-6989586621680957002"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957002"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680957003"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680957003"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680957004"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957004"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-230"></span><span>      </span><span id="local-6989586621680957005"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957005"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957004"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; DataCon -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; DataCon -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957002"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680957003"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957005"><span class="hs-identifier hs-var">es'</span></a></span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680957007"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957007"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680957008"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957008"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621680957009"><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957009"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-234"></span><span>      </span><span id="local-6989586621680957010"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957010"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957007"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-235"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Ty0 -&gt; IsBoxed -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; dec -&gt; IsBoxed -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957010"><span class="hs-identifier hs-var">e'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957008"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957009"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span id="local-6989586621680957012"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957012"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680957013"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957013"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-238"></span><span>      </span><span id="local-6989586621680957014"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957014"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957012"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-239"></span><span>      </span><span id="local-6989586621680957015"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957015"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var -&gt; VarEnv -&gt; VarEnv
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957012"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957014"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957013"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-var">WithArenaE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957014"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957015"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span id="local-6989586621680957017"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957017"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680957018"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957018"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680957019"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957019"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IsBoxed -&gt; PassM Exp0 -&gt; PassM Exp0
forall a. HasCallStack =&gt; IsBoxed -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#assert"><span class="hs-identifier hs-var hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; [Ty0] -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957018"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PassM Exp0 -&gt; PassM Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-243"></span><span>      </span><span id="local-6989586621680957020"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957020"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957019"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-244"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957017"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-245"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957017"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957020"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680957021"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957021"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957021"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957020"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957024"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957024"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957025"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957025"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957026"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957026"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680957027"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957027"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-251"></span><span>      </span><span id="local-6989586621680957028"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957028"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957026"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-252"></span><span>      </span><span id="local-6989586621680957029"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957029"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957027"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-var">MapE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957024"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957025"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957028"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957029"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957031"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957031"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957032"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957032"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957033"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957033"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957034"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957034"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957035"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957035"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957036"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957036"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680957037"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957037"><span class="hs-identifier hs-var">e3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-256"></span><span>      </span><span id="local-6989586621680957038"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957038"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957033"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-257"></span><span>      </span><span id="local-6989586621680957039"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957039"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957036"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span id="local-6989586621680957040"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957040"><span class="hs-identifier hs-var">e3'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957037"><span class="hs-identifier hs-var">e3</span></a></span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Ty0, Exp0) -&gt; (Var, Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; (Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-var">FoldE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957031"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957032"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957038"><span class="hs-identifier hs-var">e1'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957034"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957035"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957039"><span class="hs-identifier hs-var">e2'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957040"><span class="hs-identifier hs-var">e3'</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-comment">-- Ext ext -&gt; Ext &lt;$&gt; gFreshenExp venv tvenv ext</span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span id="local-6989586621680957042"><span class="annot"><span class="annottext">E0Ext Ty0 Ty0
</span><a href="#local-6989586621680957042"><span class="hs-identifier hs-var">ext</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-264"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0
</span><a href="#local-6989586621680957042"><span class="hs-identifier hs-var">ext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-265"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#LambdaE"><span class="hs-identifier hs-type">LambdaE</span></a></span><span> </span><span id="local-6989586621680957044"><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680957044"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621680957045"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957045"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-266"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621680957046"><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957046"><span class="hs-identifier hs-var">venv'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957047"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957047"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957048"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957048"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Var, Ty0)
 -&gt; (VarEnv, [Var], [Ty0]) -&gt; PassM (VarEnv, [Var], [Ty0]))
-&gt; (VarEnv, [Var], [Ty0])
-&gt; [(Var, Ty0)]
-&gt; PassM (VarEnv, [Var], [Ty0])
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; b -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldrM"><span class="hs-identifier hs-var">foldrM</span></a></span><span>
</span><span id="line-267"></span><span>                               </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680957049"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957049"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957050"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957050"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957051"><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957051"><span class="hs-identifier hs-var">acc1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957052"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957052"><span class="hs-identifier hs-var">acc2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957053"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957053"><span class="hs-identifier hs-var">acc3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-268"></span><span>                                     </span><span id="local-6989586621680957054"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957054"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957049"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-269"></span><span>                                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680957055"><span class="annot"><span class="annottext">acc1' :: VarEnv
</span><a href="#local-6989586621680957055"><span class="hs-identifier hs-var hs-var">acc1'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Var -&gt; VarEnv -&gt; VarEnv
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957049"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957054"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957051"><span class="hs-identifier hs-var">acc1</span></a></span><span>
</span><span id="line-270"></span><span>                                     </span><span class="hs-special">(</span><span id="local-6989586621680957056"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680957056"><span class="hs-identifier hs-var">_tvenv'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957057"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957057"><span class="hs-identifier hs-var">t'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957050"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-271"></span><span>                                     </span><span class="annot"><span class="annottext">(VarEnv, [Var], [Ty0]) -&gt; PassM (VarEnv, [Var], [Ty0])
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957055"><span class="hs-identifier hs-var">acc1'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957054"><span class="hs-identifier hs-var">v'</span></a></span><span class="annot"><span class="annottext">Var -&gt; [Var] -&gt; [Var]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957052"><span class="hs-identifier hs-var">acc2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957057"><span class="hs-identifier hs-var">t'</span></a></span><span class="annot"><span class="annottext">Ty0 -&gt; [Ty0] -&gt; [Ty0]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957053"><span class="hs-identifier hs-var">acc3</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680957044"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-273"></span><span>          </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; PassM (E0Ext Ty0 Ty0) -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, Ty0)] -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec.
[(Var, dec)] -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#LambdaE"><span class="hs-identifier hs-var">LambdaE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Var] -&gt; [Ty0] -&gt; [(Var, Ty0)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957047"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957048"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; PassM Exp0 -&gt; PassM (E0Ext Ty0 Ty0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957046"><span class="hs-identifier hs-var">venv'</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957045"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#FunRefE"><span class="hs-identifier hs-type">FunRefE</span></a></span><span> </span><span id="local-6989586621680957059"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957059"><span class="hs-identifier hs-var">tyapps</span></a></span></span><span> </span><span id="local-6989586621680957060"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957060"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957060"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-276"></span><span>            </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Var -&gt; E0Ext Ty0 Ty0
forall loc dec. [loc] -&gt; Var -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#FunRefE"><span class="hs-identifier hs-var">FunRefE</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957059"><span class="hs-identifier hs-var">tyapps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957060"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>            </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680957061"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957061"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Var -&gt; E0Ext Ty0 Ty0
forall loc dec. [loc] -&gt; Var -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#FunRefE"><span class="hs-identifier hs-var">FunRefE</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957059"><span class="hs-identifier hs-var">tyapps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957061"><span class="hs-identifier hs-var">f'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#PolyAppE"><span class="hs-identifier hs-type">PolyAppE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; PassM Exp0
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;freshExp: TODO, PolyAppE.&quot;</span></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#BenchE"><span class="hs-identifier hs-type">BenchE</span></a></span><span> </span><span id="local-6989586621680957064"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957064"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621680957065"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957065"><span class="hs-identifier hs-var">tyapps</span></a></span></span><span> </span><span id="local-6989586621680957066"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957066"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621680957067"><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957067"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-281"></span><span>          </span><span id="local-6989586621680957068"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957068"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957066"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-282"></span><span>          </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; IsBoxed -&gt; E0Ext Ty0 Ty0
forall loc dec.
Var -&gt; [loc] -&gt; [PreExp E0Ext loc dec] -&gt; IsBoxed -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#BenchE"><span class="hs-identifier hs-var">BenchE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957064"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680957065"><span class="hs-identifier hs-var">tyapps</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957068"><span class="hs-identifier hs-var">args'</span></a></span><span> </span><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957067"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#ParE0"><span class="hs-identifier hs-type">ParE0</span></a></span><span> </span><span id="local-6989586621680957070"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957070"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0)
-&gt; ([Exp0] -&gt; E0Ext Ty0 Ty0) -&gt; [Exp0] -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; E0Ext Ty0 Ty0
forall loc dec. [PreExp E0Ext loc dec] -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#ParE0"><span class="hs-identifier hs-var">ParE0</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680957070"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680957072"><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621680957072"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680957073"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957073"><span class="hs-identifier hs-var">e</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621680957072"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957073"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#PrintPacked"><span class="hs-identifier hs-type">PrintPacked</span></a></span><span> </span><span id="local-6989586621680957075"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957075"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680957076"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957076"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-287"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621680957077"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680957077"><span class="hs-identifier hs-var">tvenv'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957078"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957078"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957075"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-288"></span><span>          </span><span id="local-6989586621680957079"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957079"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680957077"><span class="hs-identifier hs-var">tvenv'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957076"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-289"></span><span>          </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#PrintPacked"><span class="hs-identifier hs-var">PrintPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957078"><span class="hs-identifier hs-var">ty'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957079"><span class="hs-identifier hs-var">arg'</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#CopyPacked"><span class="hs-identifier hs-type">CopyPacked</span></a></span><span> </span><span id="local-6989586621680957081"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957081"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680957082"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957082"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-291"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621680957083"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680957083"><span class="hs-identifier hs-var">tvenv'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957084"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957084"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957081"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-292"></span><span>          </span><span id="local-6989586621680957085"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957085"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680957083"><span class="hs-identifier hs-var">tvenv'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957082"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-293"></span><span>          </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#CopyPacked"><span class="hs-identifier hs-var">CopyPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957084"><span class="hs-identifier hs-var">ty'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957085"><span class="hs-identifier hs-var">arg'</span></a></span><span>
</span><span id="line-294"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#TravPacked"><span class="hs-identifier hs-type">TravPacked</span></a></span><span> </span><span id="local-6989586621680957087"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957087"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680957088"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957088"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-295"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621680957089"><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680957089"><span class="hs-identifier hs-var">tvenv'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957090"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957090"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0 -&gt; Ty0 -&gt; PassM (TyVarEnv Ty0, Ty0)
</span><a href="Gibbon.Passes.Freshen.html#freshTy"><span class="hs-identifier hs-var">freshTy</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957087"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-296"></span><span>          </span><span id="local-6989586621680957091"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957091"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680957089"><span class="hs-identifier hs-var">tvenv'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957088"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-297"></span><span>          </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#TravPacked"><span class="hs-identifier hs-var">TravPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680957090"><span class="hs-identifier hs-var">ty'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680957091"><span class="hs-identifier hs-var">arg'</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span class="annot"><a href="Gibbon.L0.Syntax.html#LinearExt"><span class="hs-identifier hs-type">LinearExt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; PassM Exp0
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; PassM Exp0) -&gt; DataCon -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;freshenExp: a linear types extension wasn't desugared: &quot;</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; DataCon -&gt; DataCon
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; DataCon
forall a. Out a =&gt; a -&gt; DataCon
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680956925"><span class="hs-identifier hs-var">exp</span></a></span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680956942"><span class="annot"><span class="annottext">go :: Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680956942"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; TyVarEnv Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.Passes.Freshen.html#freshExp"><span class="hs-identifier hs-var">freshExp</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680956923"><span class="hs-identifier hs-var">venv</span></a></span><span> </span><span class="annot"><span class="annottext">TyVarEnv Ty0
</span><a href="#local-6989586621680956924"><span class="hs-identifier hs-var">tvenv</span></a></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-comment">-- copy-paste.</span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshNames1"><span class="hs-identifier hs-type">freshNames1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Prog1"><span class="hs-identifier hs-type">L1.Prog1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Prog1"><span class="hs-identifier hs-type">L1.Prog1</span></a></span><span>
</span><span id="line-306"></span><span id="freshNames1"><span class="annot"><span class="annottext">freshNames1 :: Prog1 -&gt; PassM Prog1
</span><a href="Gibbon.Passes.Freshen.html#freshNames1"><span class="hs-identifier hs-var hs-var">freshNames1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">L1.Prog</span></a></span><span> </span><span id="local-6989586621680957101"><span class="annot"><span class="annottext">DDefs (TyOf Exp1)
</span><a href="#local-6989586621680957101"><span class="hs-identifier hs-var">defs</span></a></span></span><span> </span><span id="local-6989586621680957102"><span class="annot"><span class="annottext">FunDefs Exp1
</span><a href="#local-6989586621680957102"><span class="hs-identifier hs-var">funs</span></a></span></span><span> </span><span id="local-6989586621680957103"><span class="annot"><span class="annottext">Maybe (Exp1, TyOf Exp1)
</span><a href="#local-6989586621680957103"><span class="hs-identifier hs-var">main</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-307"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680957104"><span class="annot"><span class="annottext">Maybe (Exp1, UrTy ())
</span><a href="#local-6989586621680957104"><span class="hs-identifier hs-var">main'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp1, TyOf Exp1)
</span><a href="#local-6989586621680957103"><span class="hs-identifier hs-var">main</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-308"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (Exp1, TyOf Exp1)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp1, UrTy ()) -&gt; PassM (Maybe (Exp1, UrTy ()))
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp1, UrTy ())
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-309"></span><span>                  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957105"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957105"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957106"><span class="annot"><span class="annottext">TyOf Exp1
</span><a href="#local-6989586621680957106"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680957107"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957107"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
forall k a. Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957105"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-310"></span><span>                                    </span><span class="annot"><span class="annottext">Maybe (Exp1, UrTy ()) -&gt; PassM (Maybe (Exp1, UrTy ()))
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Exp1, UrTy ()) -&gt; PassM (Maybe (Exp1, UrTy ())))
-&gt; Maybe (Exp1, UrTy ()) -&gt; PassM (Maybe (Exp1, UrTy ()))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1, UrTy ()) -&gt; Maybe (Exp1, UrTy ())
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957107"><span class="hs-identifier hs-var">m'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">TyOf Exp1
UrTy ()
</span><a href="#local-6989586621680957106"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>       </span><span id="local-6989586621680957108"><span class="annot"><span class="annottext">FunDefs Exp1
</span><a href="#local-6989586621680957108"><span class="hs-identifier hs-var">funs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(FunDef1 -&gt; PassM FunDef1) -&gt; FunDefs Exp1 -&gt; PassM (FunDefs Exp1)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Map Var a -&gt; f (Map Var b)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#traverse"><span class="hs-identifier hs-var">traverse</span></a></span><span> </span><span class="annot"><span class="annottext">FunDef1 -&gt; PassM FunDef1
</span><a href="Gibbon.Passes.Freshen.html#freshFun1"><span class="hs-identifier hs-var">freshFun1</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs Exp1
</span><a href="#local-6989586621680957102"><span class="hs-identifier hs-var">funs</span></a></span><span>
</span><span id="line-312"></span><span>       </span><span class="annot"><span class="annottext">Prog1 -&gt; PassM Prog1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Prog1 -&gt; PassM Prog1) -&gt; Prog1 -&gt; PassM Prog1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf Exp1)
-&gt; FunDefs Exp1 -&gt; Maybe (Exp1, TyOf Exp1) -&gt; Prog1
forall ex.
DDefs (TyOf ex) -&gt; FunDefs ex -&gt; Maybe (ex, TyOf ex) -&gt; Prog ex
</span><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-var">L1.Prog</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf Exp1)
</span><a href="#local-6989586621680957101"><span class="hs-identifier hs-var">defs</span></a></span><span> </span><span class="annot"><span class="annottext">FunDefs Exp1
</span><a href="#local-6989586621680957108"><span class="hs-identifier hs-var">funs'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp1, TyOf Exp1)
Maybe (Exp1, UrTy ())
</span><a href="#local-6989586621680957104"><span class="hs-identifier hs-var">main'</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshFun1"><span class="hs-identifier hs-type">freshFun1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#FunDef1"><span class="hs-identifier hs-type">L1.FunDef1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#FunDef1"><span class="hs-identifier hs-type">L1.FunDef1</span></a></span><span>
</span><span id="line-315"></span><span id="freshFun1"><span class="annot"><span class="annottext">freshFun1 :: FunDef1 -&gt; PassM FunDef1
</span><a href="Gibbon.Passes.Freshen.html#freshFun1"><span class="hs-identifier hs-var hs-var">freshFun1</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span id="local-6989586621680957116"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957116"><span class="hs-identifier hs-var">nam</span></a></span></span><span> </span><span id="local-6989586621680957117"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957117"><span class="hs-identifier hs-var">nargs</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957118"><span class="annot"><span class="annottext">[UrTy ()]
</span><a href="#local-6989586621680957118"><span class="hs-identifier hs-var">targ</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957119"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957119"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680957120"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957120"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span id="local-6989586621680957121"><span class="annot"><span class="annottext">FunMeta
</span><a href="#local-6989586621680957121"><span class="hs-identifier hs-var">meta</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-316"></span><span>    </span><span id="local-6989586621680957122"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957122"><span class="hs-identifier hs-var">nargs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; PassM Var) -&gt; [Var] -&gt; PassM [Var]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957117"><span class="hs-identifier hs-var">nargs</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680957123"><span class="annot"><span class="annottext">msubst :: VarEnv
</span><a href="#local-6989586621680957123"><span class="hs-identifier hs-var hs-var">msubst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; VarEnv
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Var, Var)] -&gt; VarEnv) -&gt; [(Var, Var)] -&gt; VarEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [(Var, Var)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957117"><span class="hs-identifier hs-var">nargs</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957122"><span class="hs-identifier hs-var">nargs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621680957124"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957124"><span class="hs-identifier hs-var">bod'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957123"><span class="hs-identifier hs-var">msubst</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957120"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-comment">-- let nam' = cleanFunName nam</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">FunDef1 -&gt; PassM FunDef1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(FunDef1 -&gt; PassM FunDef1) -&gt; FunDef1 -&gt; PassM FunDef1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Var] -&gt; ArrowTy (TyOf Exp1) -&gt; Exp1 -&gt; FunMeta -&gt; FunDef1
forall ex.
Var -&gt; [Var] -&gt; ArrowTy (TyOf ex) -&gt; ex -&gt; FunMeta -&gt; FunDef ex
</span><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-var">FunDef</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957116"><span class="hs-identifier hs-var">nam</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957122"><span class="hs-identifier hs-var">nargs'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[UrTy ()]
</span><a href="#local-6989586621680957118"><span class="hs-identifier hs-var">targ</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957119"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957124"><span class="hs-identifier hs-var">bod'</span></a></span><span> </span><span class="annot"><span class="annottext">FunMeta
</span><a href="#local-6989586621680957121"><span class="hs-identifier hs-var">meta</span></a></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-type">freshExp1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Passes.Freshen.html#VarEnv"><span class="hs-identifier hs-type">VarEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Exp1"><span class="hs-identifier hs-type">L1.Exp1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L1.Syntax.html#Exp1"><span class="hs-identifier hs-type">L1.Exp1</span></a></span><span>
</span><span id="line-324"></span><span id="freshExp1"><span class="annot"><span class="annottext">freshExp1 :: VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var hs-var">freshExp1</span></a></span></span><span> </span><span id="local-6989586621680957214"><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621680957215"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957215"><span class="hs-identifier hs-var">exp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957215"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span> </span><span id="local-6989586621680957216"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680957216"><span class="hs-identifier hs-var">i</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Int -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680957216"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-327"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span> </span><span id="local-6989586621680957217"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680957217"><span class="hs-identifier hs-var">c</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Char -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-var">CharE</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680957217"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span> </span><span id="local-6989586621680957218"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680957218"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Double -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-var">FloatE</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621680957218"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-329"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span> </span><span id="local-6989586621680957219"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957219"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-var">LitSymE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957219"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span> </span><span id="local-6989586621680957220"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957220"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-332"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957220"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-333"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957220"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-334"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680957221"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957221"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957221"><span class="hs-identifier hs-var">v'</span></a></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680957222"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957222"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680957223"><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957223"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680957224"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957224"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IsBoxed -&gt; PassM Exp1 -&gt; PassM Exp1
forall a. HasCallStack =&gt; IsBoxed -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#assert"><span class="hs-identifier hs-var hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[()] -&gt; [()] -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957223"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PassM Exp1 -&gt; PassM Exp1) -&gt; PassM Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-337"></span><span>      </span><span id="local-6989586621680957225"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957225"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; [Exp1] -&gt; PassM [Exp1]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957224"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-338"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957222"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-339"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957222"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957225"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-340"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680957226"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957226"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957226"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957225"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span id="local-6989586621680957227"><span class="annot"><span class="annottext">Prim (UrTy ())
</span><a href="#local-6989586621680957227"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680957228"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957228"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-343"></span><span>      </span><span id="local-6989586621680957229"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957229"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; [Exp1] -&gt; PassM [Exp1]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957228"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-344"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim (UrTy ()) -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim (UrTy ())
</span><a href="#local-6989586621680957227"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957229"><span class="hs-identifier hs-var">es'</span></a></span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957230"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957230"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957231"><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957231"><span class="hs-identifier hs-var">locs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957232"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957232"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680957233"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957233"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680957234"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957234"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IsBoxed -&gt; PassM Exp1 -&gt; PassM Exp1
forall a. HasCallStack =&gt; IsBoxed -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#assert"><span class="hs-identifier hs-var hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="annot"><span class="annottext">[()] -&gt; [()] -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957231"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PassM Exp1 -&gt; PassM Exp1) -&gt; PassM Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-347"></span><span>     </span><span id="local-6989586621680957235"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957235"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957233"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-348"></span><span>     </span><span id="local-6989586621680957236"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957236"><span class="hs-identifier hs-var">v'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957230"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-349"></span><span>     </span><span id="local-6989586621680957237"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957237"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var -&gt; VarEnv -&gt; VarEnv
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957230"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957236"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957234"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-350"></span><span>     </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, [()], UrTy (), Exp1) -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957236"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957232"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957235"><span class="hs-identifier hs-var">e1'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957237"><span class="hs-identifier hs-var">e2'</span></a></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span id="local-6989586621680957238"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957238"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621680957239"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957239"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621680957240"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957240"><span class="hs-identifier hs-var">e3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-353"></span><span>      </span><span id="local-6989586621680957241"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957241"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957238"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-354"></span><span>      </span><span id="local-6989586621680957242"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957242"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957239"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-355"></span><span>      </span><span id="local-6989586621680957243"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957243"><span class="hs-identifier hs-var">e3'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957240"><span class="hs-identifier hs-var">e3</span></a></span><span>
</span><span id="line-356"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; Exp1 -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957241"><span class="hs-identifier hs-var">e1'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957242"><span class="hs-identifier hs-var">e2'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957243"><span class="hs-identifier hs-var">e3'</span></a></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span id="local-6989586621680957244"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680957244"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680957245"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957245"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-359"></span><span>      </span><span id="local-6989586621680957246"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957246"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957245"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-360"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Int -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-var">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680957244"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957246"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680957247"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957247"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-363"></span><span>      </span><span id="local-6989586621680957248"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957248"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; [Exp1] -&gt; PassM [Exp1]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957247"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-364"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957248"><span class="hs-identifier hs-var">es'</span></a></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680957249"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957249"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680957250"><span class="annot"><span class="annottext">[(DataCon, [(Var, ())], Exp1)]
</span><a href="#local-6989586621680957250"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-367"></span><span>      </span><span id="local-6989586621680957251"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957251"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957249"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-368"></span><span>      </span><span class="hs-comment">-- Here we freshen locations:</span><span>
</span><span id="line-369"></span><span>      </span><span id="local-6989586621680957252"><span class="annot"><span class="annottext">[(DataCon, [(Var, ())], Exp1)]
</span><a href="#local-6989586621680957252"><span class="hs-identifier hs-var">mp'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((DataCon, [(Var, ())], Exp1)
 -&gt; PassM (DataCon, [(Var, ())], Exp1))
-&gt; [(DataCon, [(Var, ())], Exp1)]
-&gt; PassM [(DataCon, [(Var, ())], Exp1)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680957253"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680957253"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957254"><span class="annot"><span class="annottext">[(Var, ())]
</span><a href="#local-6989586621680957254"><span class="hs-identifier hs-var">prs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957255"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957255"><span class="hs-identifier hs-var">ae</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-370"></span><span>                   </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957256"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957256"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[()]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, ())] -&gt; ([Var], [()])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, ())]
</span><a href="#local-6989586621680957254"><span class="hs-identifier hs-var">prs</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-371"></span><span>                   </span><span class="hs-keyword">do</span><span>
</span><span id="line-372"></span><span>                     </span><span id="local-6989586621680957257"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957257"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; PassM Var) -&gt; [Var] -&gt; PassM [Var]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957256"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-373"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680957258"><span class="annot"><span class="annottext">vs' :: VarEnv
</span><a href="#local-6989586621680957258"><span class="hs-identifier hs-var hs-var">vs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, Var)] -&gt; VarEnv
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Var, Var)] -&gt; VarEnv) -&gt; [(Var, Var)] -&gt; VarEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; [Var] -&gt; [(Var, Var)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957256"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957257"><span class="hs-identifier hs-var">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; VarEnv -&gt; VarEnv
forall k a. Ord k =&gt; Map k a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#union"><span class="hs-operator hs-var">`M.union`</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-374"></span><span>                     </span><span id="local-6989586621680957259"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957259"><span class="hs-identifier hs-var">ae'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957258"><span class="hs-identifier hs-var">vs'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957255"><span class="hs-identifier hs-var">ae</span></a></span><span>
</span><span id="line-375"></span><span>                     </span><span class="annot"><span class="annottext">(DataCon, [(Var, ())], Exp1) -&gt; PassM (DataCon, [(Var, ())], Exp1)
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680957253"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; (Var, ())) -&gt; [Var] -&gt; [(Var, ())]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680957257"><span class="hs-identifier hs-var">args'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957259"><span class="hs-identifier hs-var">ae'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(Var, ())], Exp1)]
</span><a href="#local-6989586621680957250"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-376"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; [(DataCon, [(Var, ())], Exp1)] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; [(DataCon, [(Var, loc)], PreExp ext loc dec)]
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-var">CaseE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957251"><span class="hs-identifier hs-var">e'</span></a></span><span> </span><span class="annot"><span class="annottext">[(DataCon, [(Var, ())], Exp1)]
</span><a href="#local-6989586621680957252"><span class="hs-identifier hs-var">mp'</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680957260"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680957260"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680957261"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957261"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-379"></span><span>      </span><span id="local-6989586621680957262"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957262"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; [Exp1] -&gt; PassM [Exp1]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957261"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-380"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; DataCon -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; DataCon -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621680957260"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957262"><span class="hs-identifier hs-var">es'</span></a></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680957263"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957263"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680957264"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957264"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621680957265"><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957265"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-383"></span><span>      </span><span id="local-6989586621680957266"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957266"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957263"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-384"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; UrTy () -&gt; IsBoxed -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; dec -&gt; IsBoxed -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957266"><span class="hs-identifier hs-var">e'</span></a></span><span> </span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957264"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957265"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span id="local-6989586621680957267"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957267"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680957268"><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957268"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680957269"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957269"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IsBoxed -&gt; PassM Exp1 -&gt; PassM Exp1
forall a. HasCallStack =&gt; IsBoxed -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#assert"><span class="hs-identifier hs-var hs-var">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[()] -&gt; [()] -&gt; IsBoxed
forall a. Eq a =&gt; a -&gt; a -&gt; IsBoxed
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957268"><span class="hs-identifier hs-var">locs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PassM Exp1 -&gt; PassM Exp1) -&gt; PassM Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-387"></span><span>      </span><span id="local-6989586621680957270"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957270"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; [Exp1] -&gt; PassM [Exp1]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957269"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-388"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957267"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-389"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957267"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957270"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-390"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680957271"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957271"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957271"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957270"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span>    </span><span class="annot"><span class="annottext">Exp1
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec. PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957272"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957272"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957273"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957273"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957274"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957274"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680957275"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957275"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-395"></span><span>      </span><span id="local-6989586621680957276"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957276"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957274"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-396"></span><span>      </span><span id="local-6989586621680957277"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957277"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957275"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-397"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, UrTy (), Exp1) -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-var">MapE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957272"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957273"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957276"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957277"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957278"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957278"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957279"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957279"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957280"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957280"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680957281"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957281"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957282"><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957282"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680957283"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957283"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680957284"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957284"><span class="hs-identifier hs-var">e3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-400"></span><span>      </span><span id="local-6989586621680957285"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957285"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957280"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-401"></span><span>      </span><span id="local-6989586621680957286"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957286"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957283"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-402"></span><span>      </span><span id="local-6989586621680957287"><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957287"><span class="hs-identifier hs-var">e3'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957284"><span class="hs-identifier hs-var">e3</span></a></span><span>
</span><span id="line-403"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, UrTy (), Exp1) -&gt; (Var, UrTy (), Exp1) -&gt; Exp1 -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; (Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-var">FoldE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957278"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957279"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957285"><span class="hs-identifier hs-var">e1'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957281"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">UrTy ()
</span><a href="#local-6989586621680957282"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957286"><span class="hs-identifier hs-var">e2'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp1
</span><a href="#local-6989586621680957287"><span class="hs-identifier hs-var">e3'</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; PassM Exp1
forall a. HasCallStack =&gt; DataCon -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-string">&quot;freshExp1: WithArenaE not handled.&quot;</span></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L1.Syntax.html#BenchE"><span class="hs-identifier hs-type">L1.BenchE</span></a></span><span> </span><span id="local-6989586621680957289"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957289"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621680957290"><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957290"><span class="hs-identifier hs-var">tyapps</span></a></span></span><span> </span><span id="local-6989586621680957291"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957291"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621680957292"><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957292"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-408"></span><span>      </span><span id="local-6989586621680957293"><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957293"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; [Exp1] -&gt; PassM [Exp1]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VarEnv -&gt; Exp1 -&gt; PassM Exp1
</span><a href="Gibbon.Passes.Freshen.html#freshExp1"><span class="hs-identifier hs-var">freshExp1</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957291"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-409"></span><span>      </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E1Ext () (UrTy ()) -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [()] -&gt; [Exp1] -&gt; IsBoxed -&gt; E1Ext () (UrTy ())
forall loc dec.
Var -&gt; [loc] -&gt; [PreExp E1Ext loc dec] -&gt; IsBoxed -&gt; E1Ext loc dec
</span><a href="Gibbon.L1.Syntax.html#BenchE"><span class="hs-identifier hs-var">L1.BenchE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Var
</span><a href="Gibbon.Common.html#cleanFunName"><span class="hs-identifier hs-var">cleanFunName</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957289"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[()]
</span><a href="#local-6989586621680957290"><span class="hs-identifier hs-var">tyapps</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp1]
</span><a href="#local-6989586621680957293"><span class="hs-identifier hs-var">args'</span></a></span><span> </span><span class="annot"><span class="annottext">IsBoxed
</span><a href="#local-6989586621680957292"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L1.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-type">L1.StartOfPkdCursor</span></a></span><span> </span><span id="local-6989586621680957295"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957295"><span class="hs-identifier hs-var">cur</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-412"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957295"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-413"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E1Ext () (UrTy ()) -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E1Ext () (UrTy ()) -&gt; Exp1) -&gt; E1Ext () (UrTy ()) -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; E1Ext () (UrTy ())
forall loc dec. Var -&gt; E1Ext loc dec
</span><a href="Gibbon.L1.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-var">L1.StartOfPkdCursor</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957295"><span class="hs-identifier hs-var">cur</span></a></span><span>
</span><span id="line-414"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680957296"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957296"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E1Ext () (UrTy ()) -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E1Ext () (UrTy ()) -&gt; Exp1) -&gt; E1Ext () (UrTy ()) -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; E1Ext () (UrTy ())
forall loc dec. Var -&gt; E1Ext loc dec
</span><a href="Gibbon.L1.Syntax.html#StartOfPkdCursor"><span class="hs-identifier hs-var">L1.StartOfPkdCursor</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957296"><span class="hs-identifier hs-var">v'</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L1.Syntax.html#AddFixed"><span class="hs-identifier hs-type">L1.AddFixed</span></a></span><span> </span><span id="local-6989586621680957298"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957298"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680957299"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680957299"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-417"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Var -&gt; VarEnv -&gt; Maybe Var
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957298"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">VarEnv
</span><a href="#local-6989586621680957214"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-418"></span><span>        </span><span class="annot"><span class="annottext">Maybe Var
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E1Ext () (UrTy ()) -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E1Ext () (UrTy ()) -&gt; Exp1) -&gt; E1Ext () (UrTy ()) -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Int -&gt; E1Ext () (UrTy ())
forall loc dec. Var -&gt; Int -&gt; E1Ext loc dec
</span><a href="Gibbon.L1.Syntax.html#AddFixed"><span class="hs-identifier hs-var">L1.AddFixed</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957298"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680957299"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-419"></span><span>        </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680957300"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957300"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp1 -&gt; PassM Exp1
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp1 -&gt; PassM Exp1) -&gt; Exp1 -&gt; PassM Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E1Ext () (UrTy ()) -&gt; Exp1
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E1Ext () (UrTy ()) -&gt; Exp1) -&gt; E1Ext () (UrTy ()) -&gt; Exp1
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Int -&gt; E1Ext () (UrTy ())
forall loc dec. Var -&gt; Int -&gt; E1Ext loc dec
</span><a href="Gibbon.L1.Syntax.html#AddFixed"><span class="hs-identifier hs-var">L1.AddFixed</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680957300"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680957299"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-420"></span></pre></body></html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-name-shadowing #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# OPTIONS_GHC -fdefer-typed-holes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-missing-pattern-synonym-signatures #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="annot"><span class="hs-comment">-- |  Parse an SExp representaton of our tree-walk language.</span></span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Gibbon.SExpFrontend</span><span>
</span><span id="line-12"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#parseFile"><span class="hs-identifier">parseFile</span></a></span><span>
</span><span id="line-13"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#parseSExp"><span class="hs-identifier">parseSExp</span></a></span><span>
</span><span id="line-14"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#primMap"><span class="hs-identifier">primMap</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Char.html"><span class="hs-identifier">Data.Char</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Unicode.html#isLower"><span class="hs-identifier">isLower</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Unicode.html#isAlpha"><span class="hs-identifier">isAlpha</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/srcloc-0.6.0.1-429a1d1af1fac7e927d5a2315ae059551b357960b259db2fc19bc3d7640ced0f/share/doc/html/src/Data.Loc.html"><span class="hs-identifier">Data.Loc</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/srcloc-0.6.0.1-429a1d1af1fac7e927d5a2315ae059551b357960b259db2fc19bc3d7640ced0f/share/doc/html/src/Data.Loc.html#Loc"><span class="hs-identifier">Loc</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/srcloc-0.6.0.1-429a1d1af1fac7e927d5a2315ae059551b357960b259db2fc19bc3d7640ced0f/share/doc/html/src/Data.Loc.html#Pos"><span class="hs-identifier">Pos</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#map"><span class="hs-identifier">map</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#head"><span class="hs-identifier">head</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#init"><span class="hs-identifier">init</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#last"><span class="hs-identifier">last</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#length"><span class="hs-identifier">length</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#zip"><span class="hs-identifier">zip</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#reverse"><span class="hs-identifier">reverse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#foldr"><span class="hs-identifier">foldr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.IO.html"><span class="hs-identifier">Data.Text.IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.IO.html#readFile"><span class="hs-identifier">readFile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/template-haskell-2.19.0.0/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.html"><span class="hs-identifier">Text.Parsec</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html"><span class="hs-identifier">Text.PrettyPrint.GenericPretty</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/System.IO.html#readFile"><span class="hs-identifier">readFile</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Float.html#exp"><span class="hs-identifier">exp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-comment">-- There are several options for s-expression parsing, including these</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- packages on Hackage:</span><span>
</span><span id="line-33"></span><span class="hs-comment">--  * sexp</span><span>
</span><span id="line-34"></span><span class="hs-comment">--  * sexpr</span><span>
</span><span id="line-35"></span><span class="hs-comment">--  * sexp-grammar</span><span>
</span><span id="line-36"></span><span class="hs-comment">--  * atto-lisp</span><span>
</span><span id="line-37"></span><span class="hs-comment">--  * lispparser</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- Using 's-cargo' for the first attempt:</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html"><span class="hs-identifier">Data.SCargot.Language.HaskLike</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Parse.html"><span class="hs-identifier">Data.SCargot.Parse</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Print.html"><span class="hs-identifier">Data.SCargot.Print</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html"><span class="hs-identifier">Data.SCargot.Repr</span></a></span><span> </span><span class="hs-comment">-- (SExpr, RichSExpr, toRich)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html"><span class="hs-identifier">Data.SCargot.Common</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SC</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html"><span class="hs-identifier">Gibbon.L0.Syntax</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Gibbon.Common.html"><span class="hs-identifier">Gibbon.Common</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="annot"><span class="hs-comment">-- | Baseline chatter level for this module:</span></span><span>
</span><span id="line-51"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#lvl"><span class="hs-identifier hs-type">lvl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-52"></span><span id="lvl"><span class="annot"><span class="annottext">lvl :: Int
</span><a href="Gibbon.SExpFrontend.html#lvl"><span class="hs-identifier hs-var hs-var">lvl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span id="local-6989586621680989476"><span id="local-6989586621680989777"><span id="local-6989586621680989779"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989476"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-55"></span><span id="local-6989586621680989479"><span id="local-6989586621680989783"><span id="local-6989586621680989785"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RichSExpr"><span class="hs-identifier hs-type">RichSExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989479"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-56"></span><span id="local-6989586621680989788"><span id="local-6989586621680989790"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span></span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680989516"><span id="local-6989586621680989795"><span id="local-6989586621680989802"><span id="local-6989586621680989808"><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989516"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989516"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989516"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680989519"><span id="local-6989586621680989888"><span id="local-6989586621680989895"><span id="local-6989586621680989901"><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989519"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989519"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RichSExpr"><span class="hs-identifier hs-type">RichSExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989519"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-59"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680989961"><span id="local-6989586621680989968"><span id="local-6989586621680989974"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span></span></span></span><span>
</span><span id="line-60"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680990052"><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-61"></span><span>  </span><span id="local-6989586621680990057"><span class="annot"><span class="annottext">doc :: Text -&gt; Doc
</span><a href="#local-6989586621680990057"><span class="hs-identifier hs-var hs-var hs-var hs-var">doc</span></a></span></span><span> </span><span id="local-6989586621680990059"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990059"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Doc
forall a. Out a =&gt; a -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#doc"><span class="hs-identifier hs-var">doc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990059"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>  </span><span id="local-6989586621680990063"><span class="annot"><span class="annottext">docPrec :: Int -&gt; Text -&gt; Doc
</span><a href="#local-6989586621680990063"><span class="hs-identifier hs-var hs-var hs-var hs-var">docPrec</span></a></span></span><span> </span><span id="local-6989586621680990065"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680990065"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680990066"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990066"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; Doc
forall a. Out a =&gt; Int -&gt; a -&gt; Doc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/GenericPretty-1.2.2-7277c36a966d41cd8e1371a7ee4c855b29a76e94dfe1d95510f68242766a5b82/share/doc/html/src/Text.PrettyPrint.GenericPretty.html#docPrec"><span class="hs-identifier hs-var">docPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680990065"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990066"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">type</span><span> </span><span id="Sexp"><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-var">Sexp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RichSExpr"><span class="hs-identifier hs-type">RichSExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Located"><span class="hs-identifier hs-type">SC.Located</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-type">prnt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-67"></span><span id="prnt"><span class="annot"><span class="annottext">prnt :: Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var hs-var">prnt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; String) -&gt; (Sexp -&gt; Text) -&gt; Sexp -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SExprPrinter (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
-&gt; SExpr (Located HaskLikeAtom) -&gt; Text
forall atom carrier. SExprPrinter atom carrier -&gt; carrier -&gt; Text
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Print.html#encodeOne"><span class="hs-identifier hs-var">encodeOne</span></a></span><span> </span><span class="annot"><span class="annottext">SExprPrinter (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#locatedHaskLikePrinter"><span class="hs-identifier hs-var">locatedHaskLikePrinter</span></a></span><span> </span><span class="annot"><span class="annottext">(SExpr (Located HaskLikeAtom) -&gt; Text)
-&gt; (Sexp -&gt; SExpr (Located HaskLikeAtom)) -&gt; Sexp -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; SExpr (Located HaskLikeAtom)
forall atom. RichSExpr atom -&gt; SExpr atom
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#fromRich"><span class="hs-identifier hs-var">fromRich</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-type">textToVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-70"></span><span id="textToVar"><span class="annot"><span class="annottext">textToVar :: Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var hs-var">textToVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Var
</span><a href="Gibbon.Common.html#toVar"><span class="hs-identifier hs-var">toVar</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Var) -&gt; (Text -&gt; String) -&gt; Text -&gt; Var
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#textToDataCon"><span class="hs-identifier hs-type">textToDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>
</span><span id="line-73"></span><span id="textToDataCon"><span class="annot"><span class="annottext">textToDataCon :: Text -&gt; String
</span><a href="Gibbon.SExpFrontend.html#textToDataCon"><span class="hs-identifier hs-var hs-var">textToDataCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | Convert Location (s-cargot) to Loc (Data.Loc)</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- s-cargot uses SrcPos exported by Parsec whereas Data.Loc has it's own notion of Pos</span><span>
</span><span id="line-77"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-type">toLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Location"><span class="hs-identifier hs-type">SC.Location</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/srcloc-0.6.0.1-429a1d1af1fac7e927d5a2315ae059551b357960b259db2fc19bc3d7640ced0f/share/doc/html/src/Data.Loc.html#Loc"><span class="hs-identifier hs-type">Loc</span></a></span><span>
</span><span id="line-78"></span><span id="toLoc"><span class="annot"><span class="annottext">toLoc :: Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var hs-var">toLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Span"><span class="hs-identifier hs-type">SC.Span</span></a></span><span> </span><span id="local-6989586621680990078"><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990078"><span class="hs-identifier hs-var">start</span></a></span></span><span> </span><span id="local-6989586621680990079"><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990079"><span class="hs-identifier hs-var">end</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pos -&gt; Pos -&gt; Loc
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/srcloc-0.6.0.1-429a1d1af1fac7e927d5a2315ae059551b357960b259db2fc19bc3d7640ced0f/share/doc/html/src/Data.Loc.html#Loc"><span class="hs-identifier hs-var">Loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourcePos -&gt; Pos
</span><a href="Gibbon.SExpFrontend.html#toPos"><span class="hs-identifier hs-var">toPos</span></a></span><span> </span><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990078"><span class="hs-identifier hs-var">start</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SourcePos -&gt; Pos
</span><a href="Gibbon.SExpFrontend.html#toPos"><span class="hs-identifier hs-var">toPos</span></a></span><span> </span><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990079"><span class="hs-identifier hs-var">end</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#toPos"><span class="hs-identifier hs-type">toPos</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Pos.html#SourcePos"><span class="hs-identifier hs-type">SourcePos</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/srcloc-0.6.0.1-429a1d1af1fac7e927d5a2315ae059551b357960b259db2fc19bc3d7640ced0f/share/doc/html/src/Data.Loc.html#Pos"><span class="hs-identifier hs-type">Pos</span></a></span><span>
</span><span id="line-81"></span><span id="toPos"><span class="annot"><span class="annottext">toPos :: SourcePos -&gt; Pos
</span><a href="Gibbon.SExpFrontend.html#toPos"><span class="hs-identifier hs-var hs-var">toPos</span></a></span></span><span> </span><span id="local-6989586621680990082"><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990082"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Int -&gt; Int -&gt; Pos
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/srcloc-0.6.0.1-429a1d1af1fac7e927d5a2315ae059551b357960b259db2fc19bc3d7640ced0f/share/doc/html/src/Data.Loc.html#Pos"><span class="hs-identifier hs-var">Pos</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680990084"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680990085"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680990086"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680990084"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621680990084"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourcePos -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Pos.html#sourceName"><span class="hs-identifier hs-var">sourceName</span></a></span><span> </span><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990082"><span class="hs-identifier hs-var">sp</span></a></span><span>
</span><span id="line-83"></span><span>        </span><span id="local-6989586621680990085"><span class="annot"><span class="annottext">line :: Int
</span><a href="#local-6989586621680990085"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourcePos -&gt; Int
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Pos.html#sourceLine"><span class="hs-identifier hs-var">sourceLine</span></a></span><span> </span><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990082"><span class="hs-identifier hs-var">sp</span></a></span><span>
</span><span id="line-84"></span><span>        </span><span id="local-6989586621680990086"><span class="annot"><span class="annottext">col :: Int
</span><a href="#local-6989586621680990086"><span class="hs-identifier hs-var hs-var">col</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SourcePos -&gt; Int
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Pos.html#sourceColumn"><span class="hs-identifier hs-var">sourceColumn</span></a></span><span> </span><span class="annot"><span class="annottext">SourcePos
</span><a href="#local-6989586621680990082"><span class="hs-identifier hs-var">sp</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-comment">-- Ideally, we'd extend the parser to ignore #lang lines.</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- But for now we'll just do that in a preprocessing hack.</span><span>
</span><span id="line-88"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#treelangParser"><span class="hs-identifier hs-type">treelangParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Parse.html#SExprParser"><span class="hs-identifier hs-type">SExprParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Located"><span class="hs-identifier hs-type">SC.Located</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Located"><span class="hs-identifier hs-type">SC.Located</span></a></span><span>  </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span id="treelangParser"><span class="annot"><span class="annottext">treelangParser :: SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
</span><a href="Gibbon.SExpFrontend.html#treelangParser"><span class="hs-identifier hs-var hs-var">treelangParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680990099"><span class="annot"><span class="annottext">langline :: ParsecT Text () Identity ()
</span><a href="#local-6989586621680990099"><span class="hs-identifier hs-var hs-var">langline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ParsecT Text () Identity String
forall s (m :: * -&gt; *) u.
Stream s m Char =&gt;
String -&gt; ParsecT s u m String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Char.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#lang &quot;</span></span><span> </span><span class="annot"><span class="annottext">ParsecT Text () Identity String
-&gt; ParsecT Text () Identity () -&gt; ParsecT Text () Identity ()
forall a b.
ParsecT Text () Identity a
-&gt; ParsecT Text () Identity b -&gt; ParsecT Text () Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2A%3E"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT Text () Identity ()
forall {u}. ParsecT Text u Identity ()
</span><a href="#local-6989586621680990101"><span class="hs-identifier hs-var">eatline</span></a></span><span>
</span><span id="line-91"></span><span>        </span><span id="local-6989586621680990102"><span class="annot"><span class="annottext">comment :: ParsecT Text () Identity ()
</span><a href="#local-6989586621680990102"><span class="hs-identifier hs-var hs-var">comment</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ParsecT Text () Identity String
forall s (m :: * -&gt; *) u.
Stream s m Char =&gt;
String -&gt; ParsecT s u m String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Char.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;;&quot;</span></span><span>      </span><span class="annot"><span class="annottext">ParsecT Text () Identity String
-&gt; ParsecT Text () Identity () -&gt; ParsecT Text () Identity ()
forall a b.
ParsecT Text () Identity a
-&gt; ParsecT Text () Identity b -&gt; ParsecT Text () Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2A%3E"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT Text () Identity ()
forall {u}. ParsecT Text u Identity ()
</span><a href="#local-6989586621680990101"><span class="hs-identifier hs-var">eatline</span></a></span><span>
</span><span id="line-92"></span><span>        </span><span id="local-6989586621680990101"><span class="annot"><span class="annottext">eatline :: ParsecT Text u Identity ()
</span><a href="#local-6989586621680990101"><span class="hs-identifier hs-var hs-var">eatline</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParsecT Text u Identity Char
-&gt; ParsecT Text u Identity Char -&gt; ParsecT Text u Identity String
forall s (m :: * -&gt; *) t u a end.
Stream s m t =&gt;
ParsecT s u m a -&gt; ParsecT s u m end -&gt; ParsecT s u m [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Combinator.html#manyTill"><span class="hs-identifier hs-var">manyTill</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT Text u Identity Char
forall s (m :: * -&gt; *) u. Stream s m Char =&gt; ParsecT s u m Char
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Char.html#anyChar"><span class="hs-identifier hs-var">anyChar</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT Text u Identity Char
forall s (m :: * -&gt; *) u. Stream s m Char =&gt; ParsecT s u m Char
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Char.html#newline"><span class="hs-identifier hs-var">newline</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT Text u Identity String
-&gt; ParsecT Text u Identity () -&gt; ParsecT Text u Identity ()
forall a b.
ParsecT Text u Identity a
-&gt; ParsecT Text u Identity b -&gt; ParsecT Text u Identity b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2A%3E"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">() -&gt; ParsecT Text u Identity ()
forall a. a -&gt; ParsecT Text u Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>        </span><span id="local-6989586621680990118"><span class="annot"><span class="annottext">quote :: SExpr atom -&gt; SExpr atom
</span><a href="#local-6989586621680990118"><span class="hs-identifier hs-var hs-var">quote</span></a></span></span><span> </span><span id="local-6989586621680990119"><span class="annot"><span class="annottext">SExpr atom
</span><a href="#local-6989586621680990119"><span class="hs-identifier hs-var">expr</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr atom -&gt; SExpr atom -&gt; SExpr atom
forall atom. SExpr atom -&gt; SExpr atom -&gt; SExpr atom
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#SCons"><span class="hs-identifier hs-var">SCons</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">atom -&gt; SExpr atom
forall atom. atom -&gt; SExpr atom
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#SAtom"><span class="hs-identifier hs-var">SAtom</span></a></span><span> </span><span class="annot"><span class="annottext">atom
</span><span class="hs-string">&quot;quote&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr atom -&gt; SExpr atom -&gt; SExpr atom
forall atom. SExpr atom -&gt; SExpr atom -&gt; SExpr atom
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#SCons"><span class="hs-identifier hs-var">SCons</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr atom
</span><a href="#local-6989586621680990119"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr atom
forall atom. SExpr atom
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#SNil"><span class="hs-identifier hs-var">SNil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>        </span><span id="local-6989586621680990127"><span class="annot"><span class="annottext">addQuoteReader :: SExprParser (Located HaskLikeAtom) c
-&gt; SExprParser (Located HaskLikeAtom) c
</span><a href="#local-6989586621680990127"><span class="hs-identifier hs-var hs-var">addQuoteReader</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
-&gt; Reader (Located HaskLikeAtom)
-&gt; SExprParser (Located HaskLikeAtom) c
-&gt; SExprParser (Located HaskLikeAtom) c
forall a c. Char -&gt; Reader a -&gt; SExprParser a c -&gt; SExprParser a c
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Parse.html#addReader"><span class="hs-identifier hs-var">addReader</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\''</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621680990129"><span class="annot"><span class="annottext">Parser (SExpr (Located HaskLikeAtom))
</span><a href="#local-6989586621680990129"><span class="hs-identifier hs-var">parse</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SExpr (Located HaskLikeAtom) -&gt; SExpr (Located HaskLikeAtom))
-&gt; Reader (Located HaskLikeAtom)
forall a b.
(a -&gt; b)
-&gt; ParsecT Text () Identity a -&gt; ParsecT Text () Identity b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr (Located HaskLikeAtom) -&gt; SExpr (Located HaskLikeAtom)
forall {atom}. IsString atom =&gt; SExpr atom -&gt; SExpr atom
</span><a href="#local-6989586621680990118"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="annot"><span class="annottext">Parser (SExpr (Located HaskLikeAtom))
</span><a href="#local-6989586621680990129"><span class="hs-identifier hs-var">parse</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-keyword">in</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-comment">-- setCarrier (return . asRich) $</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><span class="annottext">ParsecT Text () Identity ()
-&gt; SExprParser
     (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
-&gt; SExprParser
     (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
forall a c.
ParsecT Text () Identity () -&gt; SExprParser a c -&gt; SExprParser a c
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Parse.html#setComment"><span class="hs-identifier hs-var">setComment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ParsecT Text () Identity ()
</span><a href="#local-6989586621680990102"><span class="hs-identifier hs-var">comment</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT Text () Identity ()
-&gt; ParsecT Text () Identity () -&gt; ParsecT Text () Identity ()
forall s u (m :: * -&gt; *) a.
ParsecT s u m a -&gt; ParsecT s u m a -&gt; ParsecT s u m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/parsec-3.1.16.1/src/Text.Parsec.Prim.html#%3C%7C%3E"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ParsecT Text () Identity ()
</span><a href="#local-6989586621680990099"><span class="hs-identifier hs-var">langline</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
 -&gt; SExprParser
      (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom)))
-&gt; SExprParser
     (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
-&gt; SExprParser
     (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-98"></span><span>        </span><span class="annot"><span class="annottext">SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
-&gt; SExprParser
     (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
forall {c}.
SExprParser (Located HaskLikeAtom) c
-&gt; SExprParser (Located HaskLikeAtom) c
</span><a href="#local-6989586621680990127"><span class="hs-identifier hs-var">addQuoteReader</span></a></span><span> </span><span class="annot"><span class="annottext">SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#locatedHaskLikeParser"><span class="hs-identifier hs-var">locatedHaskLikeParser</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- Hack:</span><span>
</span><span id="line-101"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#_stripHashLang"><span class="hs-identifier hs-type">_stripHashLang</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-102"></span><span id="_stripHashLang"><span class="annot"><span class="annottext">_stripHashLang :: Text -&gt; Text
</span><a href="Gibbon.SExpFrontend.html#_stripHashLang"><span class="hs-identifier hs-var hs-var">_stripHashLang</span></a></span></span><span> </span><span id="local-6989586621680990138"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990138"><span class="hs-identifier hs-var">txt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#isPrefixOf"><span class="hs-identifier hs-var">T.isPrefixOf</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;#lang&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990138"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(Text, Text) -&gt; Text
forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((Text, Text) -&gt; Text) -&gt; (Text, Text) -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Text -&gt; (Text, Text)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#break"><span class="hs-identifier hs-var">T.break</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990138"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-105"></span><span>       </span><span class="hs-comment">-- (\c -&gt; generalCategory c == LineSeparator)</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990138"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#bracketHacks"><span class="hs-identifier hs-type">bracketHacks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-109"></span><span id="bracketHacks"><span class="annot"><span class="annottext">bracketHacks :: Text -&gt; Text
</span><a href="Gibbon.SExpFrontend.html#bracketHacks"><span class="hs-identifier hs-var hs-var">bracketHacks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Char) -&gt; Text -&gt; Text
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#map"><span class="hs-identifier hs-var">T.map</span></a></span><span> </span><span class="annot"><span class="annottext">((Char -&gt; Char) -&gt; Text -&gt; Text) -&gt; (Char -&gt; Char) -&gt; Text -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'['</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'('</span></span><span>
</span><span id="line-110"></span><span>                             </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">']'</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">')'</span></span><span>
</span><span id="line-111"></span><span>                             </span><span id="local-6989586621680990143"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680990143"><span class="hs-identifier hs-var">x</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680990143"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="annot"><span class="hs-comment">-- | Change regular applications into data constructor syntax.</span></span><span>
</span><span id="line-114"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#tagDataCons"><span class="hs-identifier hs-type">tagDataCons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDefs"><span class="hs-identifier hs-type">DDefs</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-115"></span><span id="tagDataCons"><span class="annot"><span class="annottext">tagDataCons :: DDefs Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#tagDataCons"><span class="hs-identifier hs-var hs-var">tagDataCons</span></a></span></span><span> </span><span id="local-6989586621680990249"><span class="annot"><span class="annottext">DDefs Ty0
</span><a href="#local-6989586621680990249"><span class="hs-identifier hs-var">ddefs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990251"><span class="hs-identifier hs-var">allCons</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>   </span><span id="local-6989586621680990251"><span class="annot"><span class="annottext">allCons :: Set Var
</span><a href="#local-6989586621680990251"><span class="hs-identifier hs-var hs-var">allCons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Var] -&gt; Set Var
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Var
</span><a href="Gibbon.Common.html#toVar"><span class="hs-identifier hs-var">toVar</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680990253"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-type">DDef</span></a></span><span class="hs-special">{</span><span id="local-6989586621680990255"><span class="annot"><span class="annottext">[(String, [(Bool, Ty0)])]
dataCons :: [(String, [(Bool, Ty0)])]
dataCons :: forall a. DDef a -&gt; [(String, [(Bool, a)])]
</span><a href="#local-6989586621680990255"><span class="hs-identifier hs-var hs-var">dataCons</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DDefs Ty0 -&gt; [DDef Ty0]
forall k a. Map k a -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#elems"><span class="hs-identifier hs-var">M.elems</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs Ty0
</span><a href="#local-6989586621680990249"><span class="hs-identifier hs-var">ddefs</span></a></span><span>
</span><span id="line-119"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680990253"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680990253"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990258"><span class="annot"><span class="annottext">[(Bool, Ty0)]
</span><a href="#local-6989586621680990258"><span class="hs-identifier hs-var">_tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, [(Bool, Ty0)])]
</span><a href="#local-6989586621680990255"><span class="hs-identifier hs-var">dataCons</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>   </span><span class="annot"><a href="#local-6989586621680990250"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-122"></span><span>   </span><span id="local-6989586621680990250"><span class="annot"><span class="annottext">go :: Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680990259"><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span id="local-6989586621680990260"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-123"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-124"></span><span>       </span><span class="hs-comment">-- [2019.02.01] CSK: Do we need this special case ?</span><span>
</span><span id="line-125"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680990262"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990262"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990263"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990263"><span class="hs-identifier hs-var">ls</span></a></span></span><span>
</span><span id="line-126"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990262"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-127"></span><span>                      </span><span id="local-6989586621680990265"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990265"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-128"></span><span>                      </span><span class="annot"><span class="annottext">Ty0 -&gt; String -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; String -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990265"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; String
</span><a href="Gibbon.Common.html#fromVar"><span class="hs-identifier hs-var">fromVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990262"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990263"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680990271"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990271"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680990272"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990272"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680990273"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990273"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990271"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680990274"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990274"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-130"></span><span>                                           </span><span class="annot"><span class="annottext">Ty0 -&gt; String -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; String -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990274"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; String
</span><a href="Gibbon.Common.html#fromVar"><span class="hs-identifier hs-var">fromVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990271"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990273"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-131"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990271"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990272"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990273"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span id="local-6989586621680990276"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990276"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990277"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990277"><span class="hs-identifier hs-var">ls</span></a></span></span><span>
</span><span id="line-134"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990276"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-135"></span><span>                      </span><span id="local-6989586621680990278"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990278"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-136"></span><span>                      </span><span class="annot"><span class="annottext">Ty0 -&gt; String -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; String -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990278"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; String
</span><a href="Gibbon.Common.html#fromVar"><span class="hs-identifier hs-var">fromVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990276"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990277"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-type">SpawnE</span></a></span><span> </span><span id="local-6989586621680990279"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990279"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680990280"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990280"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680990281"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990281"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990279"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680990282"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990282"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-138"></span><span>                                             </span><span class="annot"><span class="annottext">Ty0 -&gt; String -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; String -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990282"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; String
</span><a href="Gibbon.Common.html#fromVar"><span class="hs-identifier hs-var">fromVar</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990279"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990281"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-139"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990279"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990280"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990281"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-type">LetE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680990284"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990284"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990285"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990285"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990286"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990286"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990287"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990287"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680990288"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990288"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-142"></span><span>         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680990289"><span class="annot"><span class="annottext">go' :: Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990289"><span class="hs-identifier hs-var hs-var">go'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990284"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-143"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Set Var -&gt; Set Var
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#delete"><span class="hs-identifier hs-var">S.delete</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990284"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-145"></span><span>         </span><span class="annot"><span class="annottext">(Var, [Ty0], Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="annot"><span class="annottext">((Var, [Ty0], Ty0, Exp0) -&gt; Exp0 -&gt; Exp0)
-&gt; (Exp0 -&gt; (Var, [Ty0], Ty0, Exp0)) -&gt; Exp0 -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990284"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990285"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990286"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM (Exp0 -&gt; Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990289"><span class="hs-identifier hs-var">go'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990287"><span class="hs-identifier hs-var">rhs</span></a></span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990289"><span class="hs-identifier hs-var">go'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990288"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>       </span><span class="hs-comment">------------boilerplate------------</span><span>
</span><span id="line-147"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-type">VarE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-148"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-type">LitSymE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-149"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-type">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-150"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-type">CharE</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-151"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FloatE"><span class="hs-identifier hs-type">FloatE</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-152"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-type">PrimAppE</span></a></span><span> </span><span id="local-6989586621680990297"><span class="annot"><span class="annottext">Prim Ty0
</span><a href="#local-6989586621680990297"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680990298"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990298"><span class="hs-identifier hs-var">ls</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0
</span><a href="#local-6989586621680990297"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990298"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-153"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-type">ProjE</span></a></span><span> </span><span id="local-6989586621680990300"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680990300"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680990301"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990301"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Int -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-var">ProjE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680990300"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990301"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-type">CaseE</span></a></span><span> </span><span id="local-6989586621680990303"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990303"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680990304"><span class="annot"><span class="annottext">[(String, [(Var, Ty0)], Exp0)]
</span><a href="#local-6989586621680990304"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; [(String, [(Var, Ty0)], Exp0)] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; [(String, [(Var, loc)], PreExp ext loc dec)]
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-var">CaseE</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; [(String, [(Var, Ty0)], Exp0)] -&gt; Exp0)
-&gt; PassM Exp0 -&gt; PassM ([(String, [(Var, Ty0)], Exp0)] -&gt; Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990303"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PassM ([(String, [(Var, Ty0)], Exp0)] -&gt; Exp0)
-&gt; PassM [(String, [(Var, Ty0)], Exp0)] -&gt; PassM Exp0
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, [(Var, Ty0)], Exp0)
 -&gt; PassM (String, [(Var, Ty0)], Exp0))
-&gt; [(String, [(Var, Ty0)], Exp0)]
-&gt; PassM [(String, [(Var, Ty0)], Exp0)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680990305"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680990305"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990306"><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680990306"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990307"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990307"><span class="hs-identifier hs-var">er</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680990305"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680990306"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; (String, [(Var, Ty0)], Exp0))
-&gt; PassM Exp0 -&gt; PassM (String, [(Var, Ty0)], Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990307"><span class="hs-identifier hs-var">er</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, [(Var, Ty0)], Exp0)]
</span><a href="#local-6989586621680990304"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-type">MkProdE</span></a></span><span> </span><span id="local-6989586621680990309"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990309"><span class="hs-identifier hs-var">ls</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990309"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-156"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-type">DataConE</span></a></span><span> </span><span id="local-6989586621680990310"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990310"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680990311"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680990311"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621680990312"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990312"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; String -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
loc -&gt; String -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#DataConE"><span class="hs-identifier hs-var">DataConE</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990310"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680990311"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990312"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-157"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-type">TimeIt</span></a></span><span> </span><span id="local-6989586621680990314"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990314"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680990315"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990315"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621680990316"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680990316"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680990317"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990317"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990314"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>                          </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Ty0 -&gt; Bool -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; dec -&gt; Bool -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990317"><span class="hs-identifier hs-var">e'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990315"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680990316"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-159"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-type">IfE</span></a></span><span> </span><span id="local-6989586621680990319"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990319"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680990320"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990320"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680990321"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990321"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0 -&gt; Exp0 -&gt; Exp0)
-&gt; PassM Exp0 -&gt; PassM (Exp0 -&gt; Exp0 -&gt; Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990319"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM (Exp0 -&gt; Exp0)
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990320"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990321"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-type">WithArenaE</span></a></span><span> </span><span id="local-6989586621680990323"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990323"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680990324"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990324"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-var">WithArenaE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990323"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990324"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-type">MapE</span></a></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621680990326"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990326"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990327"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990327"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990328"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990328"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680990329"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990329"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Var, Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-var">MapE</span></a></span><span> </span><span class="annot"><span class="annottext">((Var, Ty0, Exp0) -&gt; Exp0 -&gt; Exp0)
-&gt; (Exp0 -&gt; (Var, Ty0, Exp0)) -&gt; Exp0 -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990326"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990327"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM (Exp0 -&gt; Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990328"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990329"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-type">FoldE</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680990331"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990331"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990332"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990332"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990333"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990333"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680990334"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990334"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990335"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990335"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990336"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990336"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680990337"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990337"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-164"></span><span>         </span><span id="local-6989586621680990338"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990338"><span class="hs-identifier hs-var">e1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990333"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-165"></span><span>         </span><span id="local-6989586621680990339"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990339"><span class="hs-identifier hs-var">e2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990336"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-166"></span><span>         </span><span id="local-6989586621680990340"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990340"><span class="hs-identifier hs-var">b'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990337"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-167"></span><span>         </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Ty0, Exp0) -&gt; (Var, Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; (Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-var">FoldE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990331"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990332"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990338"><span class="hs-identifier hs-var">e1'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990334"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990335"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990339"><span class="hs-identifier hs-var">e2'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990340"><span class="hs-identifier hs-var">b'</span></a></span><span>
</span><span id="line-168"></span><span>       </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span>
</span><span id="line-169"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#LambdaE"><span class="hs-identifier hs-type">LambdaE</span></a></span><span> </span><span id="local-6989586621680990344"><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680990344"><span class="hs-identifier hs-var">bnds</span></a></span></span><span> </span><span id="local-6989586621680990345"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990345"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, Ty0)] -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec.
[(Var, dec)] -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#LambdaE"><span class="hs-identifier hs-var">LambdaE</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680990344"><span class="hs-identifier hs-var">bnds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990345"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#PolyAppE"><span class="hs-identifier hs-type">PolyAppE</span></a></span><span> </span><span id="local-6989586621680990347"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990347"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680990348"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990348"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-171"></span><span>         </span><span id="local-6989586621680990349"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990349"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990347"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-172"></span><span>         </span><span id="local-6989586621680990350"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990350"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990348"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-173"></span><span>         </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec.
PreExp E0Ext loc dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#PolyAppE"><span class="hs-identifier hs-var">PolyAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990349"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990350"><span class="hs-identifier hs-var">b'</span></a></span><span>
</span><span id="line-174"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#FunRefE"><span class="hs-identifier hs-type">FunRefE</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990260"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-175"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#BenchE"><span class="hs-identifier hs-type">BenchE</span></a></span><span> </span><span id="local-6989586621680990353"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990353"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680990354"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990354"><span class="hs-identifier hs-var">tyapps</span></a></span></span><span> </span><span id="local-6989586621680990355"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990355"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621680990356"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680990356"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-176"></span><span>         </span><span id="local-6989586621680990357"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990357"><span class="hs-identifier hs-var">es'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990355"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-177"></span><span>         </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Bool -&gt; E0Ext Ty0 Ty0
forall loc dec.
Var -&gt; [loc] -&gt; [PreExp E0Ext loc dec] -&gt; Bool -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#BenchE"><span class="hs-identifier hs-var">BenchE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990353"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990354"><span class="hs-identifier hs-var">tyapps</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990357"><span class="hs-identifier hs-var">es'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621680990356"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-178"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#ParE0"><span class="hs-identifier hs-type">ParE0</span></a></span><span> </span><span id="local-6989586621680990359"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990359"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0)
-&gt; ([Exp0] -&gt; E0Ext Ty0 Ty0) -&gt; [Exp0] -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; E0Ext Ty0 Ty0
forall loc dec. [PreExp E0Ext loc dec] -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#ParE0"><span class="hs-identifier hs-var">ParE0</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; [Exp0] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680990359"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-179"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#PrintPacked"><span class="hs-identifier hs-type">PrintPacked</span></a></span><span> </span><span id="local-6989586621680990361"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990361"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680990362"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990362"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#PrintPacked"><span class="hs-identifier hs-var">PrintPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990361"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990362"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-180"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#CopyPacked"><span class="hs-identifier hs-type">CopyPacked</span></a></span><span> </span><span id="local-6989586621680990364"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990364"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680990365"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990365"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#CopyPacked"><span class="hs-identifier hs-var">CopyPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990364"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990365"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-181"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#TravPacked"><span class="hs-identifier hs-type">TravPacked</span></a></span><span> </span><span id="local-6989586621680990367"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990367"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621680990368"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990368"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#TravPacked"><span class="hs-identifier hs-var">TravPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990367"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990368"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-182"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680990370"><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621680990370"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621680990371"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990371"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621680990370"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var -&gt; Exp0 -&gt; PassM Exp0
</span><a href="#local-6989586621680990250"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Set Var
</span><a href="#local-6989586621680990259"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990371"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-183"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#LinearExt"><span class="hs-identifier hs-type">LinearExt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Exp0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM Exp0) -&gt; String -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tagDataCons: SExpFrontend doesn't support linear types yet.&quot;</span></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><span class="hs-comment">-- | Convert from raw, unstructured S-Expression into the L1 program datatype we expect.</span></span><span>
</span><span id="line-187"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#parseSExp"><span class="hs-identifier hs-type">parseSExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Prog0"><span class="hs-identifier hs-type">Prog0</span></a></span><span>
</span><span id="line-188"></span><span id="parseSExp"><span class="annot"><span class="annottext">parseSExp :: [Sexp] -&gt; PassM Prog0
</span><a href="Gibbon.SExpFrontend.html#parseSExp"><span class="hs-identifier hs-var hs-var">parseSExp</span></a></span></span><span> </span><span id="local-6989586621680990376"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990376"><span class="hs-identifier hs-var">ses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-189"></span><span>  </span><span id="local-6989586621680990377"><span class="annot"><span class="annottext">prog :: Prog0
</span><a href="#local-6989586621680990377"><span class="hs-identifier hs-var">prog</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-type">Prog</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621680990379"><span class="annot"><span class="annottext">DDefs (TyOf Exp0)
ddefs :: DDefs (TyOf Exp0)
ddefs :: forall ex. Prog ex -&gt; DDefs (TyOf ex)
</span><a href="#local-6989586621680990379"><span class="hs-identifier hs-var hs-var">ddefs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990376"><span class="hs-identifier hs-var">ses</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Prog0 -&gt; PassM Prog0
forall (m :: * -&gt; *) e.
Monad m =&gt;
(e -&gt; m e) -&gt; Prog e -&gt; m (Prog e)
</span><a href="Gibbon.Language.html#mapMExprs"><span class="hs-identifier hs-var">mapMExprs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DDefs Ty0 -&gt; Exp0 -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#tagDataCons"><span class="hs-identifier hs-var">tagDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">DDefs (TyOf Exp0)
DDefs Ty0
</span><a href="#local-6989586621680990379"><span class="hs-identifier hs-var">ddefs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Prog0
</span><a href="#local-6989586621680990377"><span class="hs-identifier hs-var">prog</span></a></span><span>
</span><span id="line-191"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span>   </span><span class="hs-comment">-- WARNING: top-level constant definitions are INLINED everywhere.</span><span>
</span><span id="line-194"></span><span>   </span><span id="local-6989586621680990422"><span class="annot"><span class="annottext">inlineConstDefs :: [(Var, b, PreExp e l d)]
-&gt; Prog (PreExp e l d) -&gt; Prog (PreExp e l d)
</span><a href="#local-6989586621680990422"><span class="hs-identifier hs-var hs-var">inlineConstDefs</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621680990423"><span class="annot"><span class="annottext">Prog (PreExp e l d)
</span><a href="#local-6989586621680990423"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prog (PreExp e l d)
</span><a href="#local-6989586621680990423"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-195"></span><span>   </span><span class="annot"><a href="#local-6989586621680990422"><span class="hs-identifier hs-var">inlineConstDefs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621680990424"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990424"><span class="hs-identifier hs-var">vr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990425"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621680990425"><span class="hs-identifier hs-var">_ty</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680990426"><span class="annot"><span class="annottext">PreExp e l d
</span><a href="#local-6989586621680990426"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990427"><span class="annot"><span class="annottext">[(Var, b, PreExp e l d)]
</span><a href="#local-6989586621680990427"><span class="hs-identifier hs-var">cds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680990428"><span class="annot"><span class="annottext">Prog (PreExp e l d)
</span><a href="#local-6989586621680990428"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>       </span><span class="annot"><span class="annottext">[(Var, b, PreExp e l d)]
-&gt; Prog (PreExp e l d) -&gt; Prog (PreExp e l d)
</span><a href="#local-6989586621680990422"><span class="hs-identifier hs-var">inlineConstDefs</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, b, PreExp e l d)]
</span><a href="#local-6989586621680990427"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">(Prog (PreExp e l d) -&gt; Prog (PreExp e l d))
-&gt; Prog (PreExp e l d) -&gt; Prog (PreExp e l d)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-197"></span><span>        </span><span class="annot"><span class="annottext">(PreExp e l d -&gt; PreExp e l d)
-&gt; Prog (PreExp e l d) -&gt; Prog (PreExp e l d)
forall e. (e -&gt; e) -&gt; Prog e -&gt; Prog e
</span><a href="Gibbon.Language.html#mapExprs"><span class="hs-identifier hs-var">mapExprs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; PreExp e l d -&gt; PreExp e l d -&gt; PreExp e l d
forall (e :: * -&gt; * -&gt; *) l d.
HasSubstitutable e l d =&gt;
Var -&gt; PreExp e l d -&gt; PreExp e l d -&gt; PreExp e l d
</span><a href="Gibbon.Language.html#subst"><span class="hs-identifier hs-var">subst</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990424"><span class="hs-identifier hs-var">vr</span></a></span><span> </span><span class="annot"><span class="annottext">PreExp e l d
</span><a href="#local-6989586621680990426"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Prog (PreExp e l d)
</span><a href="#local-6989586621680990428"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span>   </span><span class="hs-comment">-- Processes an sexpression while accumulating data, function, and constant defs.</span><span>
</span><span id="line-200"></span><span>   </span><span id="local-6989586621680990381"><span class="annot"><span class="annottext">go :: [Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621680990529"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990529"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621680990530"><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span></span><span> </span><span id="local-6989586621680990531"><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span id="local-6989586621680990532"><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span></span><span> </span><span id="local-6989586621680990533"><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990529"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-202"></span><span>     </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prog0 -&gt; PassM Prog0
forall a. a -&gt; PassM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Prog0 -&gt; PassM Prog0) -&gt; Prog0 -&gt; PassM Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-203"></span><span>           </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)] -&gt; Prog0 -&gt; Prog0
forall {e :: * -&gt; * -&gt; *} {l} {d} {b}.
(Expression (e l d), SubstitutableExt (PreExp e l d) (e l d), Eq d,
 Eq l, Eq (e l d), Show d, Show l, Out d, Out l) =&gt;
[(Var, b, PreExp e l d)]
-&gt; Prog (PreExp e l d) -&gt; Prog (PreExp e l d)
</span><a href="#local-6989586621680990422"><span class="hs-identifier hs-var">inlineConstDefs</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">(Prog0 -&gt; Prog0) -&gt; Prog0 -&gt; Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-204"></span><span>           </span><span class="annot"><span class="annottext">DDefs (TyOf Exp0)
-&gt; FunDefs Exp0 -&gt; Maybe (Exp0, TyOf Exp0) -&gt; Prog0
forall ex.
DDefs (TyOf ex) -&gt; FunDefs ex -&gt; Maybe (ex, TyOf ex) -&gt; Prog ex
</span><a href="Gibbon.Language.Syntax.html#Prog"><span class="hs-identifier hs-var">Prog</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[DDef Ty0] -&gt; DDefs Ty0
forall a. [DDef a] -&gt; DDefs a
</span><a href="Gibbon.Language.Syntax.html#fromListDD"><span class="hs-identifier hs-var">fromListDD</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FunDef Exp0] -&gt; FunDefs Exp0
forall ex. [FunDef ex] -&gt; FunDefs ex
</span><a href="Gibbon.Language.Syntax.html#fromListFD"><span class="hs-identifier hs-var">fromListFD</span></a></span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, TyOf Exp0)
Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span>     </span><span class="hs-comment">-- IGNORED!:</span><span>
</span><span id="line-207"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;provide&quot;</span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990538"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990538"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990538"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-208"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;require&quot;</span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990539"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990539"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990539"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-comment">{-

Polymorphic datatypes:

    (data PolyD (a b) [K3 ... a b ...])

While parsing datatypes with type variables, 'isTyVar' decides
if a thing is a type variable or a data constructor.

-}</span><span>
</span><span id="line-220"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;data&quot;</span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990540"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990540"><span class="hs-identifier hs-var">tycon</span></a></span></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990541"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990541"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990542"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990542"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-221"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680990543"><span class="annot"><span class="annottext">tycon' :: Var
</span><a href="#local-6989586621680990543"><span class="hs-identifier hs-var hs-var">tycon'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990540"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-222"></span><span>       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990541"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-223"></span><span>         </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990542"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [TyVar] -&gt; [(String, [(Bool, Ty0)])] -&gt; DDef Ty0
forall a. Var -&gt; [TyVar] -&gt; [(String, [(Bool, a)])] -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990543"><span class="hs-identifier hs-var">tycon'</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DDef Ty0 -&gt; [DDef Ty0] -&gt; [DDef Ty0]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-224"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span id="local-6989586621680990544"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990544"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990545"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990545"><span class="hs-identifier hs-var">ks</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-225"></span><span>           </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990544"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-226"></span><span>             </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990542"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [TyVar] -&gt; [(String, [(Bool, Ty0)])] -&gt; DDef Ty0
forall a. Var -&gt; [TyVar] -&gt; [(String, [(Bool, a)])] -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680990543"><span class="hs-identifier hs-var">tycon'</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sexp -&gt; (String, [(Bool, Ty0)]))
-&gt; [Sexp] -&gt; [(String, [(Bool, Ty0)])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; (String, [(Bool, Ty0)])
</span><a href="Gibbon.SExpFrontend.html#docasety"><span class="hs-identifier hs-var">docasety</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990541"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DDef Ty0 -&gt; [DDef Ty0] -&gt; [DDef Ty0]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-227"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990547"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990547"><span class="hs-identifier hs-var">tyvar_or_constr</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-228"></span><span>               </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Gibbon.SExpFrontend.html#isTyVar"><span class="hs-identifier hs-var">isTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990547"><span class="hs-identifier hs-var">tyvar_or_constr</span></a></span><span>
</span><span id="line-229"></span><span>               </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680990549"><span class="annot"><span class="annottext">tyargs :: [TyVar]
</span><a href="#local-6989586621680990549"><span class="hs-identifier hs-var hs-var">tyargs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; TyVar) -&gt; [Sexp] -&gt; [TyVar]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; TyVar
</span><a href="Gibbon.Common.html#UserTv"><span class="hs-identifier hs-var">UserTv</span></a></span><span> </span><span class="annot"><span class="annottext">(Var -&gt; TyVar) -&gt; (Sexp -&gt; Var) -&gt; Sexp -&gt; TyVar
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-var">getSym</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990544"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-230"></span><span>                       </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990542"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [TyVar] -&gt; [(String, [(Bool, Ty0)])] -&gt; DDef Ty0
forall a. Var -&gt; [TyVar] -&gt; [(String, [(Bool, a)])] -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990540"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyVar]
</span><a href="#local-6989586621680990549"><span class="hs-identifier hs-var">tyargs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sexp -&gt; (String, [(Bool, Ty0)]))
-&gt; [Sexp] -&gt; [(String, [(Bool, Ty0)])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; (String, [(Bool, Ty0)])
</span><a href="Gibbon.SExpFrontend.html#docasety"><span class="hs-identifier hs-var">docasety</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990545"><span class="hs-identifier hs-var">ks</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DDef Ty0 -&gt; [DDef Ty0] -&gt; [DDef Ty0]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-231"></span><span>               </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990542"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [TyVar] -&gt; [(String, [(Bool, Ty0)])] -&gt; DDef Ty0
forall a. Var -&gt; [TyVar] -&gt; [(String, [(Bool, a)])] -&gt; DDef a
</span><a href="Gibbon.Language.Syntax.html#DDef"><span class="hs-identifier hs-var">DDef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990540"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sexp -&gt; (String, [(Bool, Ty0)]))
-&gt; [Sexp] -&gt; [(String, [(Bool, Ty0)])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; (String, [(Bool, Ty0)])
</span><a href="Gibbon.SExpFrontend.html#docasety"><span class="hs-identifier hs-var">docasety</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990541"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DDef Ty0 -&gt; [DDef Ty0] -&gt; [DDef Ty0]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-232"></span><span>             </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Prog0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM Prog0) -&gt; String -&gt; PassM Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected constructor while parsing data: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990544"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-233"></span><span>         </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Prog0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM Prog0) -&gt; String -&gt; PassM Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected constructors while parsing data: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990541"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;define&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990553"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990553"><span class="hs-identifier hs-var">funspec</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990554"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990554"><span class="hs-identifier hs-var">retty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990555"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990555"><span class="hs-identifier hs-var">bod</span></a></span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990556"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990556"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>         </span><span class="hs-glyph">|</span><span>  </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990558"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990558"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990559"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990559"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990553"><span class="hs-identifier hs-var">funspec</span></a></span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-238"></span><span>         </span><span id="local-6989586621680990560"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990560"><span class="hs-identifier hs-var">bod'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990555"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-239"></span><span>         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680990562"><span class="annot"><span class="annottext">args' :: [(Var, Ty0)]
</span><a href="#local-6989586621680990562"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; (Var, Ty0)) -&gt; [Sexp] -&gt; [(Var, Ty0)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621680990563"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990563"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span id="local-6989586621680990564"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990564"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-var">getSym</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990563"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990564"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990559"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-240"></span><span>             </span><span class="hs-special">(</span><span id="local-6989586621680990566"><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680990566"><span class="hs-identifier hs-var">args''</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990567"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990567"><span class="hs-identifier hs-var">arg_tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)] -&gt; ([Var], [Ty0])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680990562"><span class="hs-identifier hs-var">args'</span></a></span><span>
</span><span id="line-241"></span><span>         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680990569"><span class="annot"><span class="annottext">fun_ty :: Ty0
</span><a href="#local-6989586621680990569"><span class="hs-identifier hs-var hs-var">fun_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ArrowTy"><span class="hs-identifier hs-var">ArrowTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990567"><span class="hs-identifier hs-var">arg_tys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990554"><span class="hs-identifier hs-var">retty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>         </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990556"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunDef"><span class="hs-identifier hs-type">FunDef</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funName :: Var
</span><a href="Gibbon.Language.Syntax.html#funName"><span class="hs-identifier hs-var">funName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990558"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-243"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funArgs :: [Var]
</span><a href="Gibbon.Language.Syntax.html#funArgs"><span class="hs-identifier hs-var">funArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680990566"><span class="hs-identifier hs-var">args''</span></a></span><span>
</span><span id="line-244"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funTy :: ArrowTy (TyOf Exp0)
</span><a href="Gibbon.Language.Syntax.html#funTy"><span class="hs-identifier hs-var">funTy</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyVar] -&gt; Ty0 -&gt; TyScheme
</span><a href="Gibbon.L0.Syntax.html#ForAll"><span class="hs-identifier hs-var">ForAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; [TyVar]
</span><a href="Gibbon.L0.Syntax.html#tyVarsInTy"><span class="hs-identifier hs-var">tyVarsInTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990569"><span class="hs-identifier hs-var">fun_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990569"><span class="hs-identifier hs-var">fun_ty</span></a></span><span>
</span><span id="line-245"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funBody :: Exp0
</span><a href="Gibbon.Language.Syntax.html#funBody"><span class="hs-identifier hs-var">funBody</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990560"><span class="hs-identifier hs-var">bod'</span></a></span><span>
</span><span id="line-246"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funMeta :: FunMeta
</span><a href="Gibbon.Language.Syntax.html#funMeta"><span class="hs-identifier hs-var">funMeta</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#FunMeta"><span class="hs-identifier hs-type">FunMeta</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">funRec :: FunRec
</span><a href="Gibbon.Language.Syntax.html#funRec"><span class="hs-identifier hs-var">funRec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunRec
</span><a href="Gibbon.Language.Syntax.html#NotRec"><span class="hs-identifier hs-var">NotRec</span></a></span><span>
</span><span id="line-247"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funInline :: FunInline
</span><a href="Gibbon.Language.Syntax.html#funInline"><span class="hs-identifier hs-var">funInline</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunInline
</span><a href="Gibbon.Language.Syntax.html#NoInline"><span class="hs-identifier hs-var">NoInline</span></a></span><span>
</span><span id="line-248"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">funCanTriggerGC :: Bool
</span><a href="Gibbon.Language.Syntax.html#funCanTriggerGC"><span class="hs-identifier hs-var">funCanTriggerGC</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-249"></span><span>                                                </span><span class="hs-special">}</span><span>
</span><span id="line-250"></span><span>                            </span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">FunDef Exp0 -&gt; [FunDef Exp0] -&gt; [FunDef Exp0]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>            </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span>     </span><span class="hs-comment">-- Top-level definition instead of a function.</span><span>
</span><span id="line-254"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;define&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990585"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990585"><span class="hs-identifier hs-var">topid</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990586"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990586"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990587"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990587"><span class="hs-identifier hs-var">bod</span></a></span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990588"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990588"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-255"></span><span>       </span><span id="local-6989586621680990589"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990589"><span class="hs-identifier hs-var">bod'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990587"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-256"></span><span>       </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990588"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990585"><span class="hs-identifier hs-var">topid</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990586"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990589"><span class="hs-identifier hs-var">bod'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Var, Sexp, Exp0) -&gt; [(Var, Sexp, Exp0)] -&gt; [(Var, Sexp, Exp0)]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;define&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990590"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990590"><span class="hs-identifier hs-var">_args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990591"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990591"><span class="hs-identifier hs-var">_bod</span></a></span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Prog0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; PassM Prog0) -&gt; String -&gt; PassM Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Function is missing return type:\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Sexp] -&gt; Sexp
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990529"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;define&quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Prog0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; PassM Prog0) -&gt; String -&gt; PassM Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Badly formed function:\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Sexp] -&gt; Sexp
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990529"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;data&quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Prog0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; PassM Prog0) -&gt; String -&gt; PassM Prog0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Badly formed data definition:\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Sexp] -&gt; Sexp
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990529"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;module+&quot;</span></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990594"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990594"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990595"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990595"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990594"><span class="hs-identifier hs-var">bod</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; [Sexp] -&gt; [Sexp]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990595"><span class="hs-identifier hs-var">rst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span>     </span><span class="hs-special">(</span><span id="local-6989586621680990596"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990596"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990597"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990597"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-266"></span><span>       </span><span id="local-6989586621680990598"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990598"><span class="hs-identifier hs-var">ex'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990596"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-267"></span><span>       </span><span id="local-6989586621680990599"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990599"><span class="hs-identifier hs-var">ty</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-268"></span><span>       </span><span class="annot"><span class="annottext">[Sexp]
-&gt; [DDef Ty0]
-&gt; [FunDef Exp0]
-&gt; [(Var, Sexp, Exp0)]
-&gt; Maybe (Exp0, Ty0)
-&gt; PassM Prog0
</span><a href="#local-6989586621680990381"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990597"><span class="hs-identifier hs-var">rst</span></a></span><span> </span><span class="annot"><span class="annottext">[DDef Ty0]
</span><a href="#local-6989586621680990530"><span class="hs-identifier hs-var">dds</span></a></span><span> </span><span class="annot"><span class="annottext">[FunDef Exp0]
</span><a href="#local-6989586621680990531"><span class="hs-identifier hs-var">fds</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Sexp, Exp0)]
</span><a href="#local-6989586621680990532"><span class="hs-identifier hs-var">cds</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="#local-6989586621680990533"><span class="hs-identifier hs-var">mn</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-269"></span><span>                                </span><span class="hs-comment">-- Initialize the main expression with a void type.</span><span>
</span><span id="line-270"></span><span>                                </span><span class="hs-comment">-- The typechecker will fix it later.</span><span>
</span><span id="line-271"></span><span>                                </span><span class="annot"><span class="annottext">Maybe (Exp0, Ty0)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Exp0, Ty0) -&gt; Maybe (Exp0, Ty0)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680990598"><span class="hs-identifier hs-var">ex'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680990599"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>                                </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680990600"><span class="annot"><span class="annottext">(Exp0, Ty0)
</span><a href="#local-6989586621680990600"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe (Exp0, Ty0)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; Maybe (Exp0, Ty0)) -&gt; String -&gt; Maybe (Exp0, Ty0)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Two main expressions: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-273"></span><span>                                                 </span><span class="annot"><span class="annottext">(Exp0, Ty0) -&gt; String
forall a. Out a =&gt; a -&gt; String
</span><a href="Gibbon.Common.html#sdoc"><span class="hs-identifier hs-var">sdoc</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0, Ty0)
</span><a href="#local-6989586621680990600"><span class="hs-identifier hs-var">x</span></a></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nAnd:\n&quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990596"><span class="hs-identifier hs-var">ex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-type">typ</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span>
</span><span id="line-276"></span><span id="typ"><span class="annot"><span class="annottext">typ :: Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var hs-var">typ</span></a></span></span><span> </span><span id="local-6989586621680990637"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990637"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990637"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-277"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int&quot;</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#IntTy"><span class="hs-identifier hs-var">IntTy</span></a></span><span>
</span><span id="line-278"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Sym&quot;</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymTy0"><span class="hs-identifier hs-var">SymTy0</span></a></span><span>
</span><span id="line-279"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SymSet&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymSetTy"><span class="hs-identifier hs-var">SymSetTy</span></a></span><span>
</span><span id="line-280"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SymHash&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#SymHashTy"><span class="hs-identifier hs-var">SymHashTy</span></a></span><span>
</span><span id="line-281"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Bool&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#BoolTy"><span class="hs-identifier hs-var">BoolTy</span></a></span><span>
</span><span id="line-282"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Arena&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#ArenaTy"><span class="hs-identifier hs-var">ArenaTy</span></a></span><span>
</span><span id="line-283"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Void&quot;</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-284"></span><span>         </span><span class="hs-comment">-- If it's lowercase, it's a type variable. Otherwise, a Packed type.</span><span>
</span><span id="line-285"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990645"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990645"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Gibbon.SExpFrontend.html#isTyVar"><span class="hs-identifier hs-var">isTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990645"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-286"></span><span>                         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TyVar -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span> </span><span class="annot"><span class="annottext">(TyVar -&gt; Ty0) -&gt; TyVar -&gt; Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; TyVar
</span><a href="Gibbon.Common.html#UserTv"><span class="hs-identifier hs-var">UserTv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990645"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>                         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="Gibbon.SExpFrontend.html#textToDataCon"><span class="hs-identifier hs-var">textToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990645"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-288"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SymDict&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990648"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990648"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680990649"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990649"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Var -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#SymDictTy"><span class="hs-identifier hs-var">SymDictTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Maybe Var
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990648"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990649"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;VectorOf&quot;</span></span><span> </span><span id="local-6989586621680990652"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990652"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; Ty0) -&gt; Ty0 -&gt; Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990652"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-290"></span><span>         </span><span class="hs-comment">-- See https://github.com/aisamanra/s-cargot/issues/14.</span><span>
</span><span id="line-291"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990654"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990654"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-292"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680990655"><span class="annot"><span class="annottext">tys' :: [Ty0]
</span><a href="#local-6989586621680990655"><span class="hs-identifier hs-var hs-var">tys'</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; Ty0) -&gt; [Sexp] -&gt; [Ty0]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990654"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-293"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ArrowTy"><span class="hs-identifier hs-var">ArrowTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Ty0] -&gt; [Ty0]
forall a. HasCallStack =&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#init"><span class="hs-identifier hs-var">init</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990655"><span class="hs-identifier hs-var">tys'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#last"><span class="hs-identifier hs-var">last</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680990655"><span class="hs-identifier hs-var">tys'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Vector&quot;</span></span><span>  </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990658"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990658"><span class="hs-identifier hs-var">rst</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#ProdTy"><span class="hs-identifier hs-var">ProdTy</span></a></span><span> </span><span class="annot"><span class="annottext">([Ty0] -&gt; Ty0) -&gt; [Ty0] -&gt; Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; Ty0) -&gt; [Sexp] -&gt; [Ty0]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990658"><span class="hs-identifier hs-var">rst</span></a></span><span>
</span><span id="line-295"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990659"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990659"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990660"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990660"><span class="hs-identifier hs-var">tyargs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="Gibbon.SExpFrontend.html#textToDataCon"><span class="hs-identifier hs-var">textToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990659"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sexp -&gt; Ty0) -&gt; [Sexp] -&gt; [Ty0]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990660"><span class="hs-identifier hs-var">tyargs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>         </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Ty0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; Ty0) -&gt; String -&gt; Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SExpression encodes invalid type:\n &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990637"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-comment">-- Some text is a tyvar if it starts with a lowercase alphabet.</span><span>
</span><span id="line-299"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#isTyVar"><span class="hs-identifier hs-type">isTyVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-300"></span><span id="isTyVar"><span class="annot"><span class="annottext">isTyVar :: Text -&gt; Bool
</span><a href="Gibbon.SExpFrontend.html#isTyVar"><span class="hs-identifier hs-var hs-var">isTyVar</span></a></span></span><span> </span><span id="local-6989586621680990663"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990663"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Unicode.html#isLower"><span class="hs-identifier hs-var">isLower</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680990664"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Unicode.html#isAlpha"><span class="hs-identifier hs-var">isAlpha</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680990664"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680990664"><span class="annot"><span class="annottext">h :: Char
</span><a href="#local-6989586621680990664"><span class="hs-identifier hs-var hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; Text -&gt; Char
Text -&gt; Char
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#head"><span class="hs-identifier hs-var">T.head</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990663"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-type">getSym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>
</span><span id="line-304"></span><span id="getSym"><span class="annot"><span class="annottext">getSym :: Sexp -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-var hs-var">getSym</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990670"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990670"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990670"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-305"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-var">getSym</span></a></span><span> </span><span id="local-6989586621680990671"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990671"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Var
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Var) -&gt; String -&gt; Var
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expected identifier sexpr, got: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990671"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#docasety"><span class="hs-identifier hs-type">docasety</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#IsBoxed"><span class="hs-identifier hs-type">IsBoxed</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span id="docasety"><span class="annot"><span class="annottext">docasety :: Sexp -&gt; (String, [(Bool, Ty0)])
</span><a href="Gibbon.SExpFrontend.html#docasety"><span class="hs-identifier hs-var hs-var">docasety</span></a></span></span><span> </span><span id="local-6989586621680990677"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990677"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990677"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680990678"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990678"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680990679"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990679"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="Gibbon.SExpFrontend.html#textToDataCon"><span class="hs-identifier hs-var">textToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990678"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; (Bool, Ty0)) -&gt; [Sexp] -&gt; [(Bool, Ty0)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; (Bool, Ty0)) -&gt; (Sexp -&gt; Ty0) -&gt; Sexp -&gt; (Bool, Ty0)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680990679"><span class="hs-identifier hs-var">tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>    </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; (String, [(Bool, Ty0)])
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; (String, [(Bool, Ty0)]))
-&gt; String -&gt; (String, [(Bool, Ty0)])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Badly formed variant of datatype:\n &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680990677"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-keyword">pattern</span><span> </span><span id="A"><span id="%24mA"><span id="%24bA"><span class="annot"><span class="annottext">$mA :: forall {r}. Sexp -&gt; (Location -&gt; Text -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bA :: Location -&gt; Text -&gt; Sexp
</span><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-var hs-var hs-var">A</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990682"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990683"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSAtom"><span class="hs-identifier hs-type">RSAtom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#At"><span class="hs-identifier hs-type">SC.At</span></a></span><span> </span><span id="local-6989586621680990682"><span class="annot"><a href="#local-6989586621680990682"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSIdent"><span class="hs-identifier hs-type">HSIdent</span></a></span><span> </span><span id="local-6989586621680990683"><span class="annot"><a href="#local-6989586621680990683"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span class="hs-keyword">pattern</span><span> </span><span id="G"><span id="%24mG"><span id="%24bG"><span class="annot"><span class="annottext">$mG :: forall {r} {a}.
RichSExpr (Located a) -&gt; (Location -&gt; a -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bG :: forall {a}. Location -&gt; a -&gt; RichSExpr (Located a)
</span><a href="Gibbon.SExpFrontend.html#G"><span class="hs-identifier hs-var hs-var hs-var">G</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990690"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990691"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSAtom"><span class="hs-identifier hs-type">RSAtom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#At"><span class="hs-identifier hs-type">SC.At</span></a></span><span> </span><span id="local-6989586621680990690"><span class="annot"><a href="#local-6989586621680990690"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680990691"><span class="annot"><a href="#local-6989586621680990691"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span class="hs-keyword">pattern</span><span> </span><span id="Ls"><span id="%24mLs"><span id="%24bLs"><span class="annot"><span class="annottext">$mLs :: forall {r} {atom}.
RichSExpr atom -&gt; ([RichSExpr atom] -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bLs :: forall {atom}. [RichSExpr atom] -&gt; RichSExpr atom
</span><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-var hs-var hs-var">Ls</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990694"><span class="hs-identifier hs-type">a</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span id="local-6989586621680990694"><span class="annot"><a href="#local-6989586621680990694"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-316"></span><span class="hs-keyword">pattern</span><span> </span><span id="Ls1"><span id="%24mLs1"><span id="%24bLs1"><span class="annot"><span class="annottext">$mLs1 :: forall {r} {atom}.
RichSExpr atom -&gt; (RichSExpr atom -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bLs1 :: forall {atom}. RichSExpr atom -&gt; RichSExpr atom
</span><a href="Gibbon.SExpFrontend.html#Ls1"><span class="hs-identifier hs-var hs-var hs-var">Ls1</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990698"><span class="hs-identifier hs-type">a</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621680990698"><span class="annot"><a href="#local-6989586621680990698"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-317"></span><span class="hs-keyword">pattern</span><span> </span><span id="Ls2"><span id="%24mLs2"><span id="%24bLs2"><span class="annot"><span class="annottext">$mLs2 :: forall {r}.
Sexp -&gt; (Location -&gt; Text -&gt; Sexp -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bLs2 :: Location -&gt; Text -&gt; Sexp -&gt; Sexp
</span><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-var hs-var hs-var">Ls2</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990701"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990702"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990703"><span class="hs-identifier hs-type">b</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680990701"><span class="annot"><a href="#local-6989586621680990701"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680990702"><span class="annot"><a href="#local-6989586621680990702"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990703"><span class="annot"><a href="#local-6989586621680990703"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-318"></span><span class="hs-keyword">pattern</span><span> </span><span id="Ls3"><span id="%24mLs3"><span id="%24bLs3"><span class="annot"><span class="annottext">$mLs3 :: forall {r}.
Sexp
-&gt; (Location -&gt; Text -&gt; Sexp -&gt; Sexp -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
$bLs3 :: Location -&gt; Text -&gt; Sexp -&gt; Sexp -&gt; Sexp
</span><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-var hs-var hs-var">Ls3</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990706"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990707"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990708"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990709"><span class="hs-identifier hs-type">c</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680990706"><span class="annot"><a href="#local-6989586621680990706"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680990707"><span class="annot"><a href="#local-6989586621680990707"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990708"><span class="annot"><a href="#local-6989586621680990708"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990709"><span class="annot"><a href="#local-6989586621680990709"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-319"></span><span class="hs-keyword">pattern</span><span> </span><span id="Ls4"><span id="%24mLs4"><span id="%24bLs4"><span class="annot"><span class="annottext">$mLs4 :: forall {r}.
Sexp
-&gt; (Location -&gt; Text -&gt; Sexp -&gt; Sexp -&gt; Sexp -&gt; r)
-&gt; ((# #) -&gt; r)
-&gt; r
$bLs4 :: Location -&gt; Text -&gt; Sexp -&gt; Sexp -&gt; Sexp -&gt; Sexp
</span><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-var hs-var hs-var">Ls4</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990713"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990714"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990715"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990716"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990717"><span class="hs-identifier hs-type">d</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680990713"><span class="annot"><a href="#local-6989586621680990713"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680990714"><span class="annot"><a href="#local-6989586621680990714"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990715"><span class="annot"><a href="#local-6989586621680990715"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990716"><span class="annot"><a href="#local-6989586621680990716"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990717"><span class="annot"><a href="#local-6989586621680990717"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span class="hs-keyword">pattern</span><span> </span><span id="Ls5"><span id="%24mLs5"><span id="%24bLs5"><span class="annot"><span class="annottext">$mLs5 :: forall {r}.
Sexp
-&gt; (Location -&gt; Text -&gt; Sexp -&gt; Sexp -&gt; Sexp -&gt; Sexp -&gt; r)
-&gt; ((# #) -&gt; r)
-&gt; r
$bLs5 :: Location -&gt; Text -&gt; Sexp -&gt; Sexp -&gt; Sexp -&gt; Sexp -&gt; Sexp
</span><a href="Gibbon.SExpFrontend.html#Ls5"><span class="hs-identifier hs-var hs-var hs-var">Ls5</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621680990721"><span class="hs-identifier hs-type">loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990722"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990723"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990724"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990725"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680990726"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680990721"><span class="annot"><a href="#local-6989586621680990721"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621680990722"><span class="annot"><a href="#local-6989586621680990722"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990723"><span class="annot"><a href="#local-6989586621680990723"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990724"><span class="annot"><a href="#local-6989586621680990724"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990725"><span class="annot"><a href="#local-6989586621680990725"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680990726"><span class="annot"><a href="#local-6989586621680990726"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- pattern L5 a b c d e = RSList [A a, b, c, d, e]</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#trueE"><span class="hs-identifier hs-type">trueE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-324"></span><span id="trueE"><span class="annot"><span class="annottext">trueE :: Exp0
</span><a href="Gibbon.SExpFrontend.html#trueE"><span class="hs-identifier hs-var hs-var">trueE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#MkTrue"><span class="hs-identifier hs-var">MkTrue</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#falseE"><span class="hs-identifier hs-type">falseE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-327"></span><span id="falseE"><span class="annot"><span class="annottext">falseE :: Exp0
</span><a href="Gibbon.SExpFrontend.html#falseE"><span class="hs-identifier hs-var hs-var">falseE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#MkFalse"><span class="hs-identifier hs-var">MkFalse</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- -- FIXME: we cannot intern strings until runtime.</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- hackySymbol :: String -&gt; Int</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- hackySymbol s = product (L.map ord s)</span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#keywords"><span class="hs-identifier hs-type">keywords</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">S.Set</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-334"></span><span id="keywords"><span class="annot"><span class="annottext">keywords :: Set Text
</span><a href="Gibbon.SExpFrontend.html#keywords"><span class="hs-identifier hs-var hs-var">keywords</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Set Text
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">S.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([Text] -&gt; Set Text) -&gt; [Text] -&gt; Set Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; [String] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [Text]) -&gt; [String] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-335"></span><span>           </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quote&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;if&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;or&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;and&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;time&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;let*&quot;</span></span><span>
</span><span id="line-336"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;case&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;vector-ref&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;for/fold&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;for/list&quot;</span></span><span>
</span><span id="line-337"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;insert&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;empty-dict&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;lookup&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;error&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ann&quot;</span></span><span>
</span><span id="line-338"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;div&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mod&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;exp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rand&quot;</span></span><span>
</span><span id="line-339"></span><span>           </span><span class="hs-special">]</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#isKeyword"><span class="hs-identifier hs-type">isKeyword</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-342"></span><span id="isKeyword"><span class="annot"><span class="annottext">isKeyword :: Text -&gt; Bool
</span><a href="Gibbon.SExpFrontend.html#isKeyword"><span class="hs-identifier hs-var hs-var">isKeyword</span></a></span></span><span> </span><span id="local-6989586621680990737"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990737"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680990737"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Set Text -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-operator hs-var">`S.member`</span></a></span><span> </span><span class="annot"><span class="annottext">Set Text
</span><a href="Gibbon.SExpFrontend.html#keywords"><span class="hs-identifier hs-var">keywords</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-type">exp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-345"></span><span id="exp"><span class="annot"><span class="annottext">exp :: Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var hs-var">exp</span></a></span></span><span> </span><span id="local-6989586621680991102"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991102"><span class="hs-identifier hs-var">se</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991102"><span class="hs-identifier hs-var">se</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-347"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991103"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991103"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;True&quot;</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991103"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.SExpFrontend.html#trueE"><span class="hs-identifier hs-var">trueE</span></a></span><span>
</span><span id="line-348"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991104"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991104"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;False&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991104"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.SExpFrontend.html#falseE"><span class="hs-identifier hs-var">falseE</span></a></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;void&quot;</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991105"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991105"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991106"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991106"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; PassM Exp0
</span><a href="#local-6989586621680991107"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991106"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-355"></span><span>     </span><span class="hs-keyword">where</span><span>
</span><span id="line-356"></span><span>       </span><span class="annot"><a href="#local-6989586621680991107"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-357"></span><span>       </span><span id="local-6989586621680991107"><span class="annot"><span class="annottext">go :: [Sexp] -&gt; PassM Exp0
</span><a href="#local-6989586621680991107"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.SExpFrontend.html#trueE"><span class="hs-identifier hs-var">trueE</span></a></span><span>
</span><span id="line-358"></span><span>       </span><span class="annot"><a href="#local-6989586621680991107"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680991108"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991108"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621680991109"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991109"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-359"></span><span>         </span><span id="local-6989586621680991110"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991110"><span class="hs-identifier hs-var">x'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991108"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-360"></span><span>         </span><span id="local-6989586621680991111"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991111"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; PassM Exp0
</span><a href="#local-6989586621680991107"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991109"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-361"></span><span>         </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991105"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991110"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991111"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.SExpFrontend.html#falseE"><span class="hs-identifier hs-var">falseE</span></a></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991112"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991112"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;or&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991113"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991113"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; PassM Exp0
</span><a href="#local-6989586621680991114"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991113"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-364"></span><span>     </span><span class="hs-keyword">where</span><span>
</span><span id="line-365"></span><span>       </span><span class="annot"><a href="#local-6989586621680991114"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span>
</span><span id="line-366"></span><span>       </span><span id="local-6989586621680991114"><span class="annot"><span class="annottext">go :: [Sexp] -&gt; PassM Exp0
</span><a href="#local-6989586621680991114"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.SExpFrontend.html#falseE"><span class="hs-identifier hs-var">falseE</span></a></span><span>
</span><span id="line-367"></span><span>       </span><span class="annot"><a href="#local-6989586621680991114"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680991115"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991115"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621680991116"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991116"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-368"></span><span>         </span><span id="local-6989586621680991117"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991117"><span class="hs-identifier hs-var">x'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991115"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-369"></span><span>         </span><span id="local-6989586621680991118"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991118"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; PassM Exp0
</span><a href="#local-6989586621680991114"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991116"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-370"></span><span>         </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991112"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991117"><span class="hs-identifier hs-var">x'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="Gibbon.SExpFrontend.html#trueE"><span class="hs-identifier hs-var">trueE</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991118"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-type">Ls4</span></a></span><span> </span><span id="local-6989586621680991119"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991119"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;if&quot;</span></span><span> </span><span id="local-6989586621680991120"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991120"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span id="local-6989586621680991121"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991121"><span class="hs-identifier hs-var">conseq</span></a></span></span><span> </span><span id="local-6989586621680991122"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991122"><span class="hs-identifier hs-var">altern</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-373"></span><span>     </span><span id="local-6989586621680991123"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991123"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#IfE"><span class="hs-identifier hs-var">IfE</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0 -&gt; Exp0 -&gt; Exp0)
-&gt; PassM Exp0 -&gt; PassM (Exp0 -&gt; Exp0 -&gt; Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991120"><span class="hs-identifier hs-var">test</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM (Exp0 -&gt; Exp0)
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991121"><span class="hs-identifier hs-var">conseq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991122"><span class="hs-identifier hs-var">altern</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991119"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>  </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991123"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991124"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991124"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;quote&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991125"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991125"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991124"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitSymE"><span class="hs-identifier hs-var">LitSymE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991125"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span>   </span><span class="hs-comment">-- Any other naked symbol is a variable:</span><span>
</span><span id="line-379"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991126"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991126"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680991127"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991127"><span class="hs-identifier hs-var">v</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991126"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991127"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#G"><span class="hs-identifier hs-type">G</span></a></span><span> </span><span id="local-6989586621680991128"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991128"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSInt"><span class="hs-identifier hs-type">HSInt</span></a></span><span> </span><span id="local-6989586621680991130"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680991130"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991128"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Int -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680991130"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#G"><span class="hs-identifier hs-type">G</span></a></span><span> </span><span id="local-6989586621680991131"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991131"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSString"><span class="hs-identifier hs-type">HSString</span></a></span><span> </span><span id="local-6989586621680991133"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991133"><span class="hs-identifier hs-var">txt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-382"></span><span>     </span><span id="local-6989586621680991134"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991134"><span class="hs-identifier hs-var">vec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Var -&gt; PassM Var
forall (m :: * -&gt; *). MonadState Int m =&gt; Var -&gt; m Var
</span><a href="Gibbon.Common.html#gensym"><span class="hs-identifier hs-var">gensym</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Var
</span><a href="Gibbon.Common.html#toVar"><span class="hs-identifier hs-var">toVar</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;vec&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680991136"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621680991136"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.html#length"><span class="hs-identifier hs-var">T.length</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991133"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-384"></span><span>         </span><span id="local-6989586621680991137"><span class="annot"><span class="annottext">init_vec :: Exp0 -&gt; Exp0
</span><a href="#local-6989586621680991137"><span class="hs-identifier hs-var hs-var">init_vec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Var, [Ty0], Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991134"><span class="hs-identifier hs-var">vec</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VAllocP"><span class="hs-identifier hs-var">VAllocP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Int -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680991136"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>         </span><span id="local-6989586621680991140"><span class="annot"><span class="annottext">fn :: Int -&gt; Char -&gt; Exp0 -&gt; Exp0
</span><a href="#local-6989586621680991140"><span class="hs-identifier hs-var hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621680991141"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680991141"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680991142"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680991142"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680991143"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991143"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Var, [Ty0], Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, [loc], dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LetE"><span class="hs-identifier hs-var">LetE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var
</span><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><span class="annottext">Ty0 -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#VectorTy"><span class="hs-identifier hs-var">VectorTy</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-386"></span><span>                          </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#InplaceVUpdateP"><span class="hs-identifier hs-var">InplaceVUpdateP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="Gibbon.L0.Syntax.html#CharTy"><span class="hs-identifier hs-var">CharTy</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Var -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991134"><span class="hs-identifier hs-var">vec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Int -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#LitE"><span class="hs-identifier hs-var">LitE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680991141"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Char -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CharE"><span class="hs-identifier hs-var">CharE</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680991142"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>                    </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991143"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-388"></span><span>         </span><span id="local-6989586621680991145"><span class="annot"><span class="annottext">add_chars :: Exp0
</span><a href="#local-6989586621680991145"><span class="hs-identifier hs-var hs-var">add_chars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, Char) -&gt; Exp0 -&gt; Exp0) -&gt; Exp0 -&gt; [(Int, Char)] -&gt; Exp0
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Foldable.html#foldr"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621680991147"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680991147"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621680991148"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680991148"><span class="hs-identifier hs-var">chr</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991149"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991149"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; Exp0 -&gt; Exp0
</span><a href="#local-6989586621680991140"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680991147"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621680991148"><span class="hs-identifier hs-var">chr</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991149"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. Var -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#VarE"><span class="hs-identifier hs-var">VarE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991134"><span class="hs-identifier hs-var">vec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Int, Char)] -&gt; [(Int, Char)]
forall a. [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a></span><span> </span><span class="annot"><span class="annottext">([(Int, Char)] -&gt; [(Int, Char)]) -&gt; [(Int, Char)] -&gt; [(Int, Char)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; String -&gt; [(Int, Char)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680991136"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Num.html#-"><span class="hs-glyph hs-var">-</span></a></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991133"><span class="hs-identifier hs-var">txt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991131"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0
</span><a href="#local-6989586621680991137"><span class="hs-identifier hs-var">init_vec</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991145"><span class="hs-identifier hs-var">add_chars</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span>   </span><span class="hs-comment">-- This type gets replaced later in flatten:</span><span>
</span><span id="line-393"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991151"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991151"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;time&quot;</span></span><span> </span><span id="local-6989586621680991152"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991152"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-394"></span><span>     </span><span id="local-6989586621680991153"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991153"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-395"></span><span>     </span><span id="local-6989586621680991154"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991154"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991152"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-396"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991151"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Ty0 -&gt; Bool -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; dec -&gt; Bool -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991154"><span class="hs-identifier hs-var">arg'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991153"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991155"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991155"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;bench&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991156"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991156"><span class="hs-identifier hs-var">fn</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991157"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991157"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-399"></span><span>     </span><span id="local-6989586621680991158"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991158"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991157"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-400"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991155"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Bool -&gt; E0Ext Ty0 Ty0
forall loc dec.
Var -&gt; [loc] -&gt; [PreExp E0Ext loc dec] -&gt; Bool -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#BenchE"><span class="hs-identifier hs-var">BenchE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991156"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991158"><span class="hs-identifier hs-var">arg'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span>   </span><span class="hs-comment">-- This variant inserts a loop, controlled by the iters</span><span>
</span><span id="line-403"></span><span>   </span><span class="hs-comment">-- argument on the command line.</span><span>
</span><span id="line-404"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991159"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991159"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;iterate&quot;</span></span><span> </span><span id="local-6989586621680991160"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991160"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-405"></span><span>     </span><span id="local-6989586621680991161"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991161"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-406"></span><span>     </span><span id="local-6989586621680991162"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991162"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991160"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-407"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991159"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Ty0 -&gt; Bool -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec -&gt; dec -&gt; Bool -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#TimeIt"><span class="hs-identifier hs-var">TimeIt</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991162"><span class="hs-identifier hs-var">arg'</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991161"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991163"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991163"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;let&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span id="local-6989586621680991164"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991164"><span class="hs-identifier hs-var">bnds</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991165"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991165"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-410"></span><span>     </span><span class="hs-comment">-- mkLets tacks on NoLoc's for every expression.</span><span>
</span><span id="line-411"></span><span>     </span><span class="hs-comment">-- Here, we remove the outermost NoLoc and tag with original src location</span><span>
</span><span id="line-412"></span><span>     </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991163"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Var, [Ty0], Ty0, Exp0)] -&gt; Exp0 -&gt; Exp0
forall loc dec (ext :: * -&gt; * -&gt; *).
[(Var, [loc], dec, PreExp ext loc dec)]
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.html#mkLets"><span class="hs-identifier hs-var">mkLets</span></a></span><span> </span><span class="annot"><span class="annottext">([(Var, [Ty0], Ty0, Exp0)] -&gt; Exp0 -&gt; Exp0)
-&gt; PassM [(Var, [Ty0], Ty0, Exp0)] -&gt; PassM (Exp0 -&gt; Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sexp -&gt; PassM (Var, [Ty0], Ty0, Exp0))
-&gt; [Sexp] -&gt; PassM [(Var, [Ty0], Ty0, Exp0)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM (Var, [Ty0], Ty0, Exp0)
forall l. Sexp -&gt; PassM (Var, [l], Ty0, Exp0)
</span><a href="Gibbon.SExpFrontend.html#letbind"><span class="hs-identifier hs-var">letbind</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991164"><span class="hs-identifier hs-var">bnds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991165"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991168"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991168"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;let*&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991169"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991169"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991168"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991169"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991170"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991170"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;let*&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680991171"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991171"><span class="hs-identifier hs-var">bnd</span></a></span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621680991172"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991172"><span class="hs-identifier hs-var">bnds</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991173"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991173"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-417"></span><span>     </span><span id="local-6989586621680991174"><span class="annot"><span class="annottext">(Var, [Ty0], Ty0, Exp0)
</span><a href="#local-6989586621680991174"><span class="hs-identifier hs-var">bnd'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM (Var, [Ty0], Ty0, Exp0)
forall l. Sexp -&gt; PassM (Var, [l], Ty0, Exp0)
</span><a href="Gibbon.SExpFrontend.html#letbind"><span class="hs-identifier hs-var">letbind</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991171"><span class="hs-identifier hs-var">bnd</span></a></span><span>
</span><span id="line-418"></span><span>     </span><span id="local-6989586621680991175"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991175"><span class="hs-identifier hs-var">bnds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; PassM Exp0) -&gt; Sexp -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Location -&gt; Text -&gt; Sexp -&gt; Sexp -&gt; Sexp
</span><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-var">Ls3</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991170"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;let*&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Sexp] -&gt; Sexp
forall {atom}. [RichSExpr atom] -&gt; RichSExpr atom
</span><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-var">Ls</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991172"><span class="hs-identifier hs-var">bnds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991173"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-419"></span><span>      </span><span class="hs-comment">-- just like the `let` case above</span><span>
</span><span id="line-420"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991170"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, [Ty0], Ty0, Exp0)] -&gt; Exp0 -&gt; Exp0
forall loc dec (ext :: * -&gt; * -&gt; *).
[(Var, [loc], dec, PreExp ext loc dec)]
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.html#mkLets"><span class="hs-identifier hs-var">mkLets</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(Var, [Ty0], Ty0, Exp0)
</span><a href="#local-6989586621680991174"><span class="hs-identifier hs-var">bnd'</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991175"><span class="hs-identifier hs-var">bnds'</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991176"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991176"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;case&quot;</span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991177"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991177"><span class="hs-identifier hs-var">scrut</span></a></span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991178"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991178"><span class="hs-identifier hs-var">cases</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-423"></span><span>     </span><span id="local-6989586621680991179"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991179"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; [(String, [(Var, Ty0)], Exp0)] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
PreExp ext loc dec
-&gt; [(String, [(Var, loc)], PreExp ext loc dec)]
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#CaseE"><span class="hs-identifier hs-var">CaseE</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; [(String, [(Var, Ty0)], Exp0)] -&gt; Exp0)
-&gt; PassM Exp0 -&gt; PassM ([(String, [(Var, Ty0)], Exp0)] -&gt; Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991177"><span class="hs-identifier hs-var">scrut</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PassM ([(String, [(Var, Ty0)], Exp0)] -&gt; Exp0)
-&gt; PassM [(String, [(Var, Ty0)], Exp0)] -&gt; PassM Exp0
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Sexp -&gt; PassM (String, [(Var, Ty0)], Exp0))
-&gt; [Sexp] -&gt; PassM [(String, [(Var, Ty0)], Exp0)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM (String, [(Var, Ty0)], Exp0)
</span><a href="Gibbon.SExpFrontend.html#docase"><span class="hs-identifier hs-var">docase</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991178"><span class="hs-identifier hs-var">cases</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991176"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991179"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991181"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991181"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680991182"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991182"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991183"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991183"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Gibbon.SExpFrontend.html#isPrim"><span class="hs-identifier hs-var">isPrim</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991182"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991181"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; ([Exp0] -&gt; Exp0) -&gt; [Exp0] -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Prim Ty0
</span><a href="Gibbon.SExpFrontend.html#prim"><span class="hs-keyword hs-var">prim</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991182"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; PassM Exp0) -&gt; [Sexp] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991183"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991186"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991186"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lambda&quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span id="local-6989586621680991187"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991187"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621680991188"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991188"><span class="hs-identifier hs-var">bod</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-429"></span><span>     </span><span class="hs-comment">-- POLICY DECISION:</span><span>
</span><span id="line-430"></span><span>     </span><span class="hs-comment">-- Should we require type annotations on the arguments to a lambda ?</span><span>
</span><span id="line-431"></span><span>     </span><span class="hs-comment">-- Right now, we don't and initialize them with meta type variables.</span><span>
</span><span id="line-432"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680991189"><span class="annot"><span class="annottext">args' :: [Var]
</span><a href="#local-6989586621680991189"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; Var) -&gt; [Sexp] -&gt; [Var]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">L.map</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-var">getSym</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991187"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-433"></span><span>     </span><span id="local-6989586621680991190"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991190"><span class="hs-identifier hs-var">bod'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991188"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-434"></span><span>     </span><span id="local-6989586621680991191"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680991191"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Var -&gt; PassM Ty0) -&gt; [Var] -&gt; PassM [Ty0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Var
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680991189"><span class="hs-identifier hs-var">args'</span></a></span><span>
</span><span id="line-435"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991186"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)] -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec.
[(Var, dec)] -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#LambdaE"><span class="hs-identifier hs-var">LambdaE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Var] -&gt; [Ty0] -&gt; [(Var, Ty0)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[Var]
</span><a href="#local-6989586621680991189"><span class="hs-identifier hs-var">args'</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680991191"><span class="hs-identifier hs-var">tys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991190"><span class="hs-identifier hs-var">bod'</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991192"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991192"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;print-packed&quot;</span></span><span> </span><span id="local-6989586621680991193"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991193"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-438"></span><span>     </span><span id="local-6989586621680991194"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991194"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-439"></span><span>     </span><span id="local-6989586621680991195"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991195"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991193"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-440"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991192"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#PrintPacked"><span class="hs-identifier hs-var">PrintPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991194"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991195"><span class="hs-identifier hs-var">arg'</span></a></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991196"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991196"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;copy-packed&quot;</span></span><span> </span><span id="local-6989586621680991197"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991197"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-443"></span><span>     </span><span id="local-6989586621680991198"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991198"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-444"></span><span>     </span><span id="local-6989586621680991199"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991199"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991197"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-445"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991196"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#CopyPacked"><span class="hs-identifier hs-var">CopyPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991198"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991199"><span class="hs-identifier hs-var">arg'</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991200"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991200"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;trav-packed&quot;</span></span><span> </span><span id="local-6989586621680991201"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991201"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-448"></span><span>     </span><span id="local-6989586621680991202"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991202"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-449"></span><span>     </span><span id="local-6989586621680991203"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991203"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991201"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-450"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991200"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0 -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. dec -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#TravPacked"><span class="hs-identifier hs-var">TravPacked</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991202"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991203"><span class="hs-identifier hs-var">arg'</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991204"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991204"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;for/list&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls1"><span class="hs-identifier hs-type">Ls1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-type">Ls4</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991205"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991205"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span id="local-6989586621680991206"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991206"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621680991207"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991207"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991208"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991208"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-454"></span><span>     </span><span id="local-6989586621680991209"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991209"><span class="hs-identifier hs-var">e'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991207"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-455"></span><span>     </span><span id="local-6989586621680991210"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991210"><span class="hs-identifier hs-var">bod'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991208"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-456"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991204"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Var, Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MapE"><span class="hs-identifier hs-var">MapE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991205"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991206"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991209"><span class="hs-identifier hs-var">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991210"><span class="hs-identifier hs-var">bod'</span></a></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span>   </span><span class="hs-comment">-- I don't see why we need the extra type annotation:</span><span>
</span><span id="line-459"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-type">Ls4</span></a></span><span> </span><span id="local-6989586621680991211"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991211"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;for/fold&quot;</span></span><span>
</span><span id="line-460"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls1"><span class="hs-identifier hs-type">Ls1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-type">Ls4</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991212"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991212"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span id="local-6989586621680991213"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991213"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621680991214"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991214"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls1"><span class="hs-identifier hs-type">Ls1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-type">Ls4</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991215"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991215"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span id="local-6989586621680991216"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991216"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span id="local-6989586621680991217"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991217"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>          </span><span id="local-6989586621680991218"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991218"><span class="hs-identifier hs-var">bod</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-463"></span><span>     </span><span id="local-6989586621680991219"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991219"><span class="hs-identifier hs-var">e1'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991214"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-464"></span><span>     </span><span id="local-6989586621680991220"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991220"><span class="hs-identifier hs-var">e2'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991217"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-465"></span><span>     </span><span id="local-6989586621680991221"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991221"><span class="hs-identifier hs-var">bod'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991218"><span class="hs-identifier hs-var">bod</span></a></span><span>
</span><span id="line-466"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991211"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-467"></span><span>                   </span><span class="annot"><span class="annottext">(Var, Ty0, Exp0) -&gt; (Var, Ty0, Exp0) -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
(Var, dec, PreExp ext loc dec)
-&gt; (Var, dec, PreExp ext loc dec)
-&gt; PreExp ext loc dec
-&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#FoldE"><span class="hs-identifier hs-var">FoldE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991212"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991213"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991219"><span class="hs-identifier hs-var">e1'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991215"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991216"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991220"><span class="hs-identifier hs-var">e2'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>                          </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991221"><span class="hs-identifier hs-var">bod'</span></a></span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991222"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991222"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;eqBenchProg&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#G"><span class="hs-identifier hs-type">G</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSString"><span class="hs-identifier hs-type">HSString</span></a></span><span> </span><span id="local-6989586621680991223"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991223"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-472"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991222"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Prim Ty0
forall ty. String -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#EqBenchProgP"><span class="hs-identifier hs-var">EqBenchProgP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991223"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991225"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991225"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vector-ref&quot;</span></span><span> </span><span id="local-6989586621680991226"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991226"><span class="hs-identifier hs-var">evec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#G"><span class="hs-identifier hs-type">G</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSInt"><span class="hs-identifier hs-type">HSInt</span></a></span><span> </span><span id="local-6989586621680991227"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680991227"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-475"></span><span>     </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991225"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; (Exp0 -&gt; Exp0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Int -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#ProjE"><span class="hs-identifier hs-var">ProjE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621680991227"><span class="hs-identifier hs-var">ind</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991226"><span class="hs-identifier hs-var">evec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991228"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991228"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;par&quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991229"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991229"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991228"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; (E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0)
-&gt; ([Exp0] -&gt; E0Ext Ty0 Ty0) -&gt; [Exp0] -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; E0Ext Ty0 Ty0
forall loc dec. [PreExp E0Ext loc dec] -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#ParE0"><span class="hs-identifier hs-var">ParE0</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; PassM Exp0) -&gt; [Sexp] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991229"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991230"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991230"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;spawn&quot;</span></span><span> </span><span id="local-6989586621680991231"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991231"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-480"></span><span>     </span><span id="local-6989586621680991232"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991232"><span class="hs-identifier hs-var">appe</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991231"><span class="hs-identifier hs-var">app</span></a></span><span>
</span><span id="line-481"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991232"><span class="hs-identifier hs-var">appe</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-482"></span><span>       </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621680991233"><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621680991233"><span class="hs-identifier hs-var">_loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680991234"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991234"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680991235"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680991235"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680991236"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680991236"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991230"><span class="hs-identifier hs-var">l1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991234"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680991235"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680991236"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-type">AppE</span></a></span><span> </span><span id="local-6989586621680991237"><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991237"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680991238"><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680991238"><span class="hs-identifier hs-var">locs</span></a></span></span><span> </span><span id="local-6989586621680991239"><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680991239"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991230"><span class="hs-identifier hs-var">l1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SpawnE"><span class="hs-identifier hs-var">SpawnE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991237"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Ty0]
</span><a href="#local-6989586621680991238"><span class="hs-identifier hs-var">locs</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0]
</span><a href="#local-6989586621680991239"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-484"></span><span>       </span><span class="annot"><span class="annottext">Exp0
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Exp0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM Exp0) -&gt; String -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Only function calls can be spawn'd. Got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991231"><span class="hs-identifier hs-var">app</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991240"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991240"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sync&quot;</span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-487"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991240"><span class="hs-identifier hs-var">l1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec. PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#SyncE"><span class="hs-identifier hs-var">SyncE</span></a></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991241"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991241"><span class="hs-identifier hs-var">l0</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;is-big&quot;</span></span><span> </span><span id="local-6989586621680991242"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991242"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680991243"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991243"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-490"></span><span>       </span><span id="local-6989586621680991244"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991244"><span class="hs-identifier hs-var">ie</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991242"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-491"></span><span>       </span><span id="local-6989586621680991245"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991245"><span class="hs-identifier hs-var">ee</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991243"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-492"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991241"><span class="hs-identifier hs-var">l0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#IsBig"><span class="hs-identifier hs-var">IsBig</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991244"><span class="hs-identifier hs-var">ie</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991245"><span class="hs-identifier hs-var">ee</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;read-packed-file&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991247"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991247"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-495"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680991248"><span class="annot"><span class="annottext">tcon :: String
</span><a href="#local-6989586621680991248"><span class="hs-identifier hs-var hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991247"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-496"></span><span>           </span><span id="local-6989586621680991249"><span class="annot"><span class="annottext">ty :: Ty0
</span><a href="#local-6989586621680991249"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991248"><span class="hs-identifier hs-var">tcon</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-497"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; String -&gt; Maybe Var -&gt; Ty0 -&gt; Prim Ty0
forall ty. Maybe String -&gt; String -&gt; Maybe Var -&gt; ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#ReadPackedFile"><span class="hs-identifier hs-var">ReadPackedFile</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991248"><span class="hs-identifier hs-var">tcon</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Var
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991249"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991251"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991251"><span class="hs-identifier hs-var">_l0</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;read-packed-file&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991252"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991252"><span class="hs-identifier hs-var">tycon</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991253"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991253"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-500"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680991254"><span class="annot"><span class="annottext">tcon :: String
</span><a href="#local-6989586621680991254"><span class="hs-identifier hs-var hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991252"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-501"></span><span>           </span><span id="local-6989586621680991255"><span class="annot"><span class="annottext">ty :: Ty0
</span><a href="#local-6989586621680991255"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Ty0] -&gt; Ty0
</span><a href="Gibbon.L0.Syntax.html#PackedTy"><span class="hs-identifier hs-var">PackedTy</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991254"><span class="hs-identifier hs-var">tcon</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-502"></span><span>       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991253"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-503"></span><span>           </span><span class="annot"><a href="Gibbon.SExpFrontend.html#G"><span class="hs-identifier hs-type">G</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSString"><span class="hs-identifier hs-type">HSString</span></a></span><span> </span><span id="local-6989586621680991256"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991256"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; String -&gt; Maybe Var -&gt; Ty0 -&gt; Prim Ty0
forall ty. Maybe String -&gt; String -&gt; Maybe Var -&gt; ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#ReadPackedFile"><span class="hs-identifier hs-var">ReadPackedFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991256"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991252"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Var
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991255"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-504"></span><span>           </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991257"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991257"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; String -&gt; Maybe Var -&gt; Ty0 -&gt; Prim Ty0
forall ty. Maybe String -&gt; String -&gt; Maybe Var -&gt; ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#ReadPackedFile"><span class="hs-identifier hs-var">ReadPackedFile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991257"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991252"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Var
forall a. Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991255"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-505"></span><span>           </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Exp0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM Exp0) -&gt; String -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Counldn't parse read-packed-file&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991102"><span class="hs-identifier hs-var">se</span></a></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991258"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991258"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;letarena&quot;</span></span><span> </span><span id="local-6989586621680991259"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991259"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680991260"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991260"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-508"></span><span>     </span><span id="local-6989586621680991261"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991261"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991260"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-509"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680991262"><span class="annot"><span class="annottext">v' :: Var
</span><a href="#local-6989586621680991262"><span class="hs-identifier hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-var">getSym</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991259"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-510"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991258"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Var -&gt; Exp0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; PreExp ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#WithArenaE"><span class="hs-identifier hs-var">WithArenaE</span></a></span><span> </span><span class="annot"><span class="annottext">Var
</span><a href="#local-6989586621680991262"><span class="hs-identifier hs-var">v'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991261"><span class="hs-identifier hs-var">e'</span></a></span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991263"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991263"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vector&quot;</span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991264"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991264"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991263"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; ([Exp0] -&gt; Exp0) -&gt; [Exp0] -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
[PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#MkProdE"><span class="hs-identifier hs-var">MkProdE</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; PassM Exp0) -&gt; [Sexp] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991264"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span>   </span><span class="hs-comment">-- Dictionaries require type annotations for now.  No inference!</span><span>
</span><span id="line-515"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991265"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991265"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ann&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;empty-dict&quot;</span></span><span> </span><span id="local-6989586621680991266"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991266"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SymDict&quot;</span></span><span> </span><span id="local-6989586621680991267"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991267"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680991268"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991268"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-516"></span><span>     </span><span id="local-6989586621680991269"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991269"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991266"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-517"></span><span>     </span><span id="local-6989586621680991270"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991270"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991267"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-518"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991269"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991270"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-519"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991271"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991271"><span class="hs-identifier hs-var">a''</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991272"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991272"><span class="hs-identifier hs-var">b''</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-520"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; PassM () -&gt; PassM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991271"><span class="hs-identifier hs-var">a''</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991272"><span class="hs-identifier hs-var">b''</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PassM () -&gt; PassM ()) -&gt; PassM () -&gt; PassM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM ()) -&gt; String -&gt; PassM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expected annotation on SymDict:&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991271"><span class="hs-identifier hs-var">a''</span></a></span><span>
</span><span id="line-521"></span><span>         </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991265"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#DictEmptyP"><span class="hs-identifier hs-var">DictEmptyP</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; Prim Ty0) -&gt; Ty0 -&gt; Prim Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991268"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991269"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-522"></span><span>       </span><span class="annot"><span class="annottext">(Exp0, Exp0)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-523"></span><span>         </span><span class="annot"><span class="annottext">Bool -&gt; PassM () -&gt; PassM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Control.Monad.html#unless"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991269"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; Exp0 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991270"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PassM () -&gt; PassM ()) -&gt; PassM () -&gt; PassM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM ()) -&gt; String -&gt; PassM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expected annotation on SymDict:&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991269"><span class="hs-identifier hs-var">a'</span></a></span><span>
</span><span id="line-524"></span><span>         </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991265"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#DictEmptyP"><span class="hs-identifier hs-var">DictEmptyP</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; Prim Ty0) -&gt; Ty0 -&gt; Prim Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991268"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991269"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls5"><span class="hs-identifier hs-type">Ls5</span></a></span><span> </span><span id="local-6989586621680991275"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991275"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;insert&quot;</span></span><span> </span><span id="local-6989586621680991276"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991276"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680991277"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991277"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621680991278"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991278"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ann&quot;</span></span><span> </span><span id="local-6989586621680991279"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991279"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621680991280"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991280"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-527"></span><span>     </span><span id="local-6989586621680991281"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991281"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991276"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-528"></span><span>     </span><span id="local-6989586621680991282"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991282"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991277"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-529"></span><span>     </span><span id="local-6989586621680991283"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991283"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991278"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-530"></span><span>     </span><span id="local-6989586621680991284"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991284"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991279"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-531"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991275"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#DictInsertP"><span class="hs-identifier hs-var">DictInsertP</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; Prim Ty0) -&gt; Ty0 -&gt; Prim Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991280"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991281"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991282"><span class="hs-identifier hs-var">d'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991283"><span class="hs-identifier hs-var">k'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991284"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991286"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991286"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ann&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lookup&quot;</span></span><span> </span><span id="local-6989586621680991287"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991287"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621680991288"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991288"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991289"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991289"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-534"></span><span>     </span><span id="local-6989586621680991290"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991290"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991287"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-535"></span><span>     </span><span id="local-6989586621680991291"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991291"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991288"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-536"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991286"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#DictLookupP"><span class="hs-identifier hs-var">DictLookupP</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; Prim Ty0) -&gt; Ty0 -&gt; Prim Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991289"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991290"><span class="hs-identifier hs-var">d'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991291"><span class="hs-identifier hs-var">k'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991293"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991293"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ann&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span>  </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;has-key?&quot;</span></span><span> </span><span id="local-6989586621680991294"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991294"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621680991295"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991295"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991296"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991296"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-539"></span><span>     </span><span id="local-6989586621680991297"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991297"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991294"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-540"></span><span>     </span><span id="local-6989586621680991298"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991298"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991295"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-541"></span><span>     </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991293"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#DictHasKeyP"><span class="hs-identifier hs-var">DictHasKeyP</span></a></span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; Prim Ty0) -&gt; Ty0 -&gt; Prim Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991296"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991297"><span class="hs-identifier hs-var">d'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991298"><span class="hs-identifier hs-var">k'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span>   </span><span class="hs-comment">-- L [A &quot;error&quot;,arg] -&gt;</span><span>
</span><span id="line-544"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991300"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991300"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ann&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;error&quot;</span></span><span> </span><span id="local-6989586621680991301"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991301"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680991302"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991302"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-545"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991301"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-546"></span><span>       </span><span class="annot"><a href="Gibbon.SExpFrontend.html#G"><span class="hs-identifier hs-type">G</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSString"><span class="hs-identifier hs-type">HSString</span></a></span><span> </span><span id="local-6989586621680991303"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991303"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991300"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Ty0 -&gt; Prim Ty0
forall ty. String -&gt; ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#ErrorP"><span class="hs-identifier hs-var">ErrorP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991303"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991302"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-547"></span><span>       </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Exp0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; PassM Exp0) -&gt; String -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bad argument to 'error' primitive: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991301"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span>   </span><span class="hs-comment">-- Other annotations are dropped:</span><span>
</span><span id="line-550"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991305"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991305"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ann&quot;</span></span><span> </span><span id="local-6989586621680991306"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991306"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621680991307"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991307"><span class="hs-identifier hs-var">_ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991305"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; PassM Exp0 -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991306"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span>   </span><span class="hs-comment">-- List operations</span><span>
</span><span id="line-553"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991308"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991308"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;valloc&quot;</span></span><span> </span><span id="local-6989586621680991309"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991309"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-554"></span><span>       </span><span id="local-6989586621680991310"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991310"><span class="hs-identifier hs-var">elty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-555"></span><span>       </span><span id="local-6989586621680991311"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991311"><span class="hs-identifier hs-var">ie</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991309"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-556"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991308"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VAllocP"><span class="hs-identifier hs-var">VAllocP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991310"><span class="hs-identifier hs-var">elty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991311"><span class="hs-identifier hs-var">ie</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991312"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991312"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vfree&quot;</span></span><span> </span><span id="local-6989586621680991313"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991313"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-559"></span><span>       </span><span id="local-6989586621680991314"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991314"><span class="hs-identifier hs-var">elty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-560"></span><span>       </span><span id="local-6989586621680991315"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991315"><span class="hs-identifier hs-var">ie</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991313"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-561"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991312"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VFreeP"><span class="hs-identifier hs-var">VFreeP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991314"><span class="hs-identifier hs-var">elty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991315"><span class="hs-identifier hs-var">ie</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-562"></span><span>
</span><span id="line-563"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991317"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991317"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vfree2&quot;</span></span><span> </span><span id="local-6989586621680991318"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991318"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-564"></span><span>       </span><span id="local-6989586621680991319"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991319"><span class="hs-identifier hs-var">elty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-565"></span><span>       </span><span id="local-6989586621680991320"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991320"><span class="hs-identifier hs-var">ie</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991318"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-566"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991317"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VFree2P"><span class="hs-identifier hs-var">VFree2P</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991319"><span class="hs-identifier hs-var">elty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991320"><span class="hs-identifier hs-var">ie</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-567"></span><span>
</span><span id="line-568"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991322"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991322"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vlength&quot;</span></span><span> </span><span id="local-6989586621680991323"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991323"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-569"></span><span>       </span><span id="local-6989586621680991324"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991324"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-570"></span><span>       </span><span id="local-6989586621680991325"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991325"><span class="hs-identifier hs-var">lse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991323"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-571"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991322"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VLengthP"><span class="hs-identifier hs-var">VLengthP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991324"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991325"><span class="hs-identifier hs-var">lse</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991327"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991327"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vnth&quot;</span></span><span> </span><span id="local-6989586621680991328"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991328"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621680991329"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991329"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-574"></span><span>       </span><span id="local-6989586621680991330"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991330"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-575"></span><span>       </span><span id="local-6989586621680991331"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991331"><span class="hs-identifier hs-var">lse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991328"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-576"></span><span>       </span><span id="local-6989586621680991332"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991332"><span class="hs-identifier hs-var">ie</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991329"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-577"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991327"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VNthP"><span class="hs-identifier hs-var">VNthP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991330"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991331"><span class="hs-identifier hs-var">lse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991332"><span class="hs-identifier hs-var">ie</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-type">Ls4</span></a></span><span> </span><span id="local-6989586621680991334"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991334"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vslice&quot;</span></span><span> </span><span id="local-6989586621680991335"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991335"><span class="hs-identifier hs-var">from</span></a></span></span><span> </span><span id="local-6989586621680991336"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991336"><span class="hs-identifier hs-var">to</span></a></span></span><span> </span><span id="local-6989586621680991337"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991337"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-580"></span><span>       </span><span id="local-6989586621680991338"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991338"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-581"></span><span>       </span><span id="local-6989586621680991339"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991339"><span class="hs-identifier hs-var">frome</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991335"><span class="hs-identifier hs-var">from</span></a></span><span>
</span><span id="line-582"></span><span>       </span><span id="local-6989586621680991340"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991340"><span class="hs-identifier hs-var">toe</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991336"><span class="hs-identifier hs-var">to</span></a></span><span>
</span><span id="line-583"></span><span>       </span><span id="local-6989586621680991341"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991341"><span class="hs-identifier hs-var">lse</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991337"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-584"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991334"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VSliceP"><span class="hs-identifier hs-var">VSliceP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991338"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991339"><span class="hs-identifier hs-var">frome</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991340"><span class="hs-identifier hs-var">toe</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991341"><span class="hs-identifier hs-var">lse</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls4"><span class="hs-identifier hs-type">Ls4</span></a></span><span> </span><span id="local-6989586621680991343"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991343"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inplacevupdate&quot;</span></span><span> </span><span id="local-6989586621680991344"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991344"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621680991345"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991345"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680991346"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991346"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-587"></span><span>       </span><span id="local-6989586621680991347"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991347"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-588"></span><span>       </span><span id="local-6989586621680991348"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991348"><span class="hs-identifier hs-var">lse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991344"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-589"></span><span>       </span><span id="local-6989586621680991349"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991349"><span class="hs-identifier hs-var">ie</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991345"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-590"></span><span>       </span><span id="local-6989586621680991350"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991350"><span class="hs-identifier hs-var">ve</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991346"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-591"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991343"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#InplaceVUpdateP"><span class="hs-identifier hs-var">InplaceVUpdateP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991347"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991348"><span class="hs-identifier hs-var">lse</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991349"><span class="hs-identifier hs-var">ie</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991350"><span class="hs-identifier hs-var">ve</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-592"></span><span>
</span><span id="line-593"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls2"><span class="hs-identifier hs-type">Ls2</span></a></span><span> </span><span id="local-6989586621680991351"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991351"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vconcat&quot;</span></span><span> </span><span id="local-6989586621680991352"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991352"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-594"></span><span>       </span><span id="local-6989586621680991353"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991353"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-595"></span><span>       </span><span id="local-6989586621680991354"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991354"><span class="hs-identifier hs-var">lse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991352"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-596"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991351"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VConcatP"><span class="hs-identifier hs-var">VConcatP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991353"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991354"><span class="hs-identifier hs-var">lse</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-597"></span><span>
</span><span id="line-598"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991356"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991356"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vsort&quot;</span></span><span> </span><span id="local-6989586621680991357"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991357"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680991358"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991358"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-599"></span><span>       </span><span id="local-6989586621680991359"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991359"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-600"></span><span>       </span><span id="local-6989586621680991360"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991360"><span class="hs-identifier hs-var">fe</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991357"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-601"></span><span>       </span><span id="local-6989586621680991361"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991361"><span class="hs-identifier hs-var">lse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991358"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-602"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991356"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VSortP"><span class="hs-identifier hs-var">VSortP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991359"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991360"><span class="hs-identifier hs-var">fe</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991361"><span class="hs-identifier hs-var">lse</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-603"></span><span>
</span><span id="line-604"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991363"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991363"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inplacevsort&quot;</span></span><span> </span><span id="local-6989586621680991364"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991364"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680991365"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991365"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-605"></span><span>       </span><span id="local-6989586621680991366"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991366"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-606"></span><span>       </span><span id="local-6989586621680991367"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991367"><span class="hs-identifier hs-var">fe</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991364"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-607"></span><span>       </span><span id="local-6989586621680991368"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991368"><span class="hs-identifier hs-var">lse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991365"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-608"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991363"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#InplaceVSortP"><span class="hs-identifier hs-var">InplaceVSortP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991366"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991367"><span class="hs-identifier hs-var">fe</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991368"><span class="hs-identifier hs-var">lse</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-609"></span><span>
</span><span id="line-610"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls3"><span class="hs-identifier hs-type">Ls3</span></a></span><span> </span><span id="local-6989586621680991370"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991370"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;vmerge&quot;</span></span><span> </span><span id="local-6989586621680991371"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991371"><span class="hs-identifier hs-var">ls1</span></a></span></span><span> </span><span id="local-6989586621680991372"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991372"><span class="hs-identifier hs-var">ls2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-611"></span><span>       </span><span id="local-6989586621680991373"><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991373"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-612"></span><span>       </span><span id="local-6989586621680991374"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991374"><span class="hs-identifier hs-var">ls1e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991371"><span class="hs-identifier hs-var">ls1</span></a></span><span>
</span><span id="line-613"></span><span>       </span><span id="local-6989586621680991375"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991375"><span class="hs-identifier hs-var">ls2e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991372"><span class="hs-identifier hs-var">ls2</span></a></span><span>
</span><span id="line-614"></span><span>       </span><span class="annot"><span class="annottext">Exp0 -&gt; PassM Exp0
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; PassM Exp0) -&gt; Exp0 -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; E0Ext Ty0 Ty0 -&gt; Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991370"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Prim Ty0 -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Prim dec -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#PrimAppE"><span class="hs-identifier hs-var">PrimAppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ty0 -&gt; Prim Ty0
forall ty. ty -&gt; Prim ty
</span><a href="Gibbon.Language.Syntax.html#VMergeP"><span class="hs-identifier hs-var">VMergeP</span></a></span><span> </span><span class="annot"><span class="annottext">Ty0
</span><a href="#local-6989586621680991373"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991374"><span class="hs-identifier hs-var">ls1e</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991375"><span class="hs-identifier hs-var">ls2e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-615"></span><span>
</span><span id="line-616"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991377"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991377"><span class="hs-identifier hs-var">kwd</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991378"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991378"><span class="hs-identifier hs-var">_args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Gibbon.SExpFrontend.html#isKeyword"><span class="hs-identifier hs-var">isKeyword</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991377"><span class="hs-identifier hs-var">kwd</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-617"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; PassM Exp0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM Exp0) -&gt; String -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Error reading treelang. &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991377"><span class="hs-identifier hs-var">kwd</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;is a keyword:\n &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991102"><span class="hs-identifier hs-var">se</span></a></span><span>
</span><span id="line-618"></span><span>
</span><span id="line-619"></span><span>   </span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-620"></span><span>   </span><span class="hs-comment">-- If NOTHING else matches, we are an application.  Be careful we didn't miss anything:</span><span>
</span><span id="line-621"></span><span>   </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Ls"><span class="hs-identifier hs-type">Ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621680991379"><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991379"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680991380"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991380"><span class="hs-identifier hs-var">rator</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991381"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991381"><span class="hs-identifier hs-var">rands</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-622"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680991382"><span class="annot"><span class="annottext">app :: [Exp0] -&gt; Exp0
</span><a href="#local-6989586621680991382"><span class="hs-identifier hs-var hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Var -&gt; [Ty0] -&gt; [Exp0] -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
Var -&gt; [loc] -&gt; [PreExp ext loc dec] -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#AppE"><span class="hs-identifier hs-var">AppE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991380"><span class="hs-identifier hs-var">rator</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-623"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">E0Ext Ty0 Ty0 -&gt; Exp0
forall (ext :: * -&gt; * -&gt; *) loc dec.
ext loc dec -&gt; PreExp ext loc dec
</span><a href="Gibbon.Language.Syntax.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span><span> </span><span class="annot"><span class="annottext">(E0Ext Ty0 Ty0 -&gt; Exp0) -&gt; (Exp0 -&gt; E0Ext Ty0 Ty0) -&gt; Exp0 -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Exp0 -&gt; E0Ext Ty0 Ty0
forall loc dec. Loc -&gt; PreExp E0Ext loc dec -&gt; E0Ext loc dec
</span><a href="Gibbon.L0.Syntax.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Location -&gt; Loc
</span><a href="Gibbon.SExpFrontend.html#toLoc"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><a href="#local-6989586621680991379"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; Exp0) -&gt; ([Exp0] -&gt; Exp0) -&gt; [Exp0] -&gt; Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Exp0] -&gt; Exp0
</span><a href="#local-6989586621680991382"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">([Exp0] -&gt; Exp0) -&gt; PassM [Exp0] -&gt; PassM Exp0
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; PassM Exp0) -&gt; [Sexp] -&gt; PassM [Exp0]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991381"><span class="hs-identifier hs-var">rands</span></a></span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span>   </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM Exp0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM Exp0) -&gt; String -&gt; PassM Exp0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Expression form not handled (yet):\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-626"></span><span>               </span><span class="annot"><span class="annottext">Sexp -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991102"><span class="hs-identifier hs-var">se</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nMore concisely:\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991102"><span class="hs-identifier hs-var">se</span></a></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span class="annot"><span class="hs-comment">-- | One case of a case expression</span></span><span>
</span><span id="line-630"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#docase"><span class="hs-identifier hs-type">docase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-631"></span><span id="docase"><span class="annot"><span class="annottext">docase :: Sexp -&gt; PassM (String, [(Var, Ty0)], Exp0)
</span><a href="Gibbon.SExpFrontend.html#docase"><span class="hs-identifier hs-var hs-var">docase</span></a></span></span><span> </span><span id="local-6989586621680991393"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991393"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-632"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991393"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-633"></span><span>    </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991394"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991394"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621680991395"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991395"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>           </span><span class="hs-special">,</span><span> </span><span id="local-6989586621680991396"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991396"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-635"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621680991397"><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680991397"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Sexp -&gt; PassM (Var, Ty0)) -&gt; [Sexp] -&gt; PassM [(Var, Ty0)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Traversable.html#mapM"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM (Var, Ty0)
forall {f :: * -&gt; *}. MonadState Int f =&gt; Sexp -&gt; f (Var, Ty0)
</span><a href="#local-6989586621680991398"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991395"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-636"></span><span>            </span><span id="local-6989586621680991399"><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991399"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991396"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-637"></span><span>            </span><span class="annot"><span class="annottext">(String, [(Var, Ty0)], Exp0) -&gt; PassM (String, [(Var, Ty0)], Exp0)
forall a. a -&gt; PassM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="Gibbon.SExpFrontend.html#textToDataCon"><span class="hs-identifier hs-var">textToDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991394"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(Var, Ty0)]
</span><a href="#local-6989586621680991397"><span class="hs-identifier hs-var">args'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Exp0
</span><a href="#local-6989586621680991399"><span class="hs-identifier hs-var">rhs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-638"></span><span>    </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM (String, [(Var, Ty0)], Exp0)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; PassM (String, [(Var, Ty0)], Exp0))
-&gt; String -&gt; PassM (String, [(Var, Ty0)], Exp0)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bad clause in case expression\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991393"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-639"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-640"></span><span>   </span><span id="local-6989586621680991398"><span class="annot"><span class="annottext">f :: Sexp -&gt; f (Var, Ty0)
</span><a href="#local-6989586621680991398"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621680991412"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991412"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#getSym"><span class="hs-identifier hs-var">getSym</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991412"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; (Var, Ty0)) -&gt; f Ty0 -&gt; f (Var, Ty0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">f Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span id="local-6989586621680989741"><span class="annot"><a href="Gibbon.SExpFrontend.html#letbind"><span class="hs-identifier hs-type">letbind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#Sexp"><span class="hs-identifier hs-type">Sexp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680989741"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Exp0"><span class="hs-identifier hs-type">Exp0</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-643"></span><span id="letbind"><span class="annot"><span class="annottext">letbind :: forall l. Sexp -&gt; PassM (Var, [l], Ty0, Exp0)
</span><a href="Gibbon.SExpFrontend.html#letbind"><span class="hs-identifier hs-var hs-var">letbind</span></a></span></span><span> </span><span id="local-6989586621680991423"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991423"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-644"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991423"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-645"></span><span>   </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991424"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991424"><span class="hs-identifier hs-var">vr</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680991425"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991425"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680991426"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991426"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-646"></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991424"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; Ty0
</span><a href="Gibbon.SExpFrontend.html#typ"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991425"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Exp0 -&gt; (Var, [l], Ty0, Exp0))
-&gt; PassM Exp0 -&gt; PassM (Var, [l], Ty0, Exp0)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991426"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-647"></span><span>   </span><span class="hs-comment">-- A let binding without a type annotation.</span><span>
</span><span id="line-648"></span><span>   </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Gibbon.SExpFrontend.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680991427"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991427"><span class="hs-identifier hs-var">vr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680991428"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991428"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-649"></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Var
</span><a href="Gibbon.SExpFrontend.html#textToVar"><span class="hs-identifier hs-var">textToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991427"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">,</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Ty0 -&gt; Exp0 -&gt; (Var, [l], Ty0, Exp0))
-&gt; PassM Ty0 -&gt; PassM (Exp0 -&gt; (Var, [l], Ty0, Exp0))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PassM Ty0
forall (m :: * -&gt; *). MonadState Int m =&gt; m Ty0
</span><a href="Gibbon.L0.Syntax.html#newMetaTy"><span class="hs-identifier hs-var">newMetaTy</span></a></span><span> </span><span class="annot"><span class="annottext">PassM (Exp0 -&gt; (Var, [l], Ty0, Exp0))
-&gt; PassM Exp0 -&gt; PassM (Var, [l], Ty0, Exp0)
forall a b. PassM (a -&gt; b) -&gt; PassM a -&gt; PassM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp -&gt; PassM Exp0
</span><a href="Gibbon.SExpFrontend.html#exp"><span class="hs-identifier hs-var">exp</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991428"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-650"></span><span>   </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PassM (Var, [l], Ty0, Exp0)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; PassM (Var, [l], Ty0, Exp0))
-&gt; String -&gt; PassM (Var, [l], Ty0, Exp0)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Badly formed let binding:\n  &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; String
</span><a href="Gibbon.SExpFrontend.html#prnt"><span class="hs-identifier hs-var">prnt</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991423"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#isPrim"><span class="hs-identifier hs-type">isPrim</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-653"></span><span id="isPrim"><span class="annot"><span class="annottext">isPrim :: Text -&gt; Bool
</span><a href="Gibbon.SExpFrontend.html#isPrim"><span class="hs-identifier hs-var hs-var">isPrim</span></a></span></span><span> </span><span id="local-6989586621680991430"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991430"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Set Text -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">S.member</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991430"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Text (Prim Any) -&gt; Set Text
forall k a. Map k a -&gt; Set k
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#keysSet"><span class="hs-identifier hs-var">M.keysSet</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text (Prim Any)
forall d. Map Text (Prim d)
</span><a href="Gibbon.SExpFrontend.html#primMap"><span class="hs-identifier hs-var">primMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>
</span><span id="line-655"></span><span class="hs-comment">-- ^ A map between SExp-frontend prefix function names, and Gibbon</span><span>
</span><span id="line-656"></span><span class="hs-comment">-- abstract Primops.</span><span>
</span><span id="line-657"></span><span id="local-6989586621680989749"><span class="annot"><a href="Gibbon.SExpFrontend.html#primMap"><span class="hs-identifier hs-type">primMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prim"><span class="hs-identifier hs-type">Prim</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680989749"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-658"></span><span id="primMap"><span class="annot"><span class="annottext">primMap :: forall d. Map Text (Prim d)
</span><a href="Gibbon.SExpFrontend.html#primMap"><span class="hs-identifier hs-var hs-var">primMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, Prim d)] -&gt; Map Text (Prim d)
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span>
</span><span id="line-659"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;+&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#AddP"><span class="hs-identifier hs-var">AddP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-660"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;-&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SubP"><span class="hs-identifier hs-var">SubP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;*&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#MulP"><span class="hs-identifier hs-var">MulP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;div&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#DivP"><span class="hs-identifier hs-var">DivP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;mod&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#ModP"><span class="hs-identifier hs-var">ModP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;exp&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#ExpP"><span class="hs-identifier hs-var">ExpP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-665"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;rand&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#RandP"><span class="hs-identifier hs-var">RandP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;eqsym&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#EqSymP"><span class="hs-identifier hs-var">EqSymP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;=&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#EqIntP"><span class="hs-identifier hs-var">EqIntP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-668"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&lt;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#LtP"><span class="hs-identifier hs-var">LtP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#GtP"><span class="hs-identifier hs-var">GtP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-670"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&lt;=&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#LtEqP"><span class="hs-identifier hs-var">LtEqP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-671"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&gt;=&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#GtEqP"><span class="hs-identifier hs-var">GtEqP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-672"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;or&quot;</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#OrP"><span class="hs-identifier hs-var">OrP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-673"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#AndP"><span class="hs-identifier hs-var">AndP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;size-param&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SizeParam"><span class="hs-identifier hs-var">SizeParam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;True&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#MkTrue"><span class="hs-identifier hs-var">MkTrue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;False&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#MkFalse"><span class="hs-identifier hs-var">MkFalse</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;gensym&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#Gensym"><span class="hs-identifier hs-var">Gensym</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-678"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;printint&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#PrintInt"><span class="hs-identifier hs-var">PrintInt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;printchar&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#PrintChar"><span class="hs-identifier hs-var">PrintChar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;printfloat&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#PrintFloat"><span class="hs-identifier hs-var">PrintFloat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-681"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;printbool&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#PrintBool"><span class="hs-identifier hs-var">PrintBool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-682"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;printsym&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#PrintSym"><span class="hs-identifier hs-var">PrintSym</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-683"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;readint&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#ReadInt"><span class="hs-identifier hs-var">ReadInt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sym-set-empty&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SymSetEmpty"><span class="hs-identifier hs-var">SymSetEmpty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-685"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sym-set-insert&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SymSetInsert"><span class="hs-identifier hs-var">SymSetInsert</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-686"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sym-set-contains&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SymSetContains"><span class="hs-identifier hs-var">SymSetContains</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-687"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sym-hash-empty&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SymHashEmpty"><span class="hs-identifier hs-var">SymHashEmpty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sym-hash-insert&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SymHashInsert"><span class="hs-identifier hs-var">SymHashInsert</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sym-hash-lookup&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SymHashLookup"><span class="hs-identifier hs-var">SymHashLookup</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sym-hash-contains&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#SymHashLookup"><span class="hs-identifier hs-var">SymHashLookup</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;is-big&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Prim d
forall ty. Prim ty
</span><a href="Gibbon.Language.Syntax.html#IsBig"><span class="hs-identifier hs-var">IsBig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-692"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-693"></span><span>
</span><span id="line-694"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#prim"><span class="hs-keyword hs-type">prim</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Gibbon.Language.Syntax.html#Prim"><span class="hs-identifier hs-type">Prim</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Ty0"><span class="hs-identifier hs-type">Ty0</span></a></span><span>
</span><span id="line-695"></span><span id="prim"><span class="annot"><span class="annottext">prim :: Text -&gt; Prim Ty0
</span><a href="Gibbon.SExpFrontend.html#prim"><span class="hs-keyword hs-var hs-var">prim</span></a></span></span><span> </span><span id="local-6989586621680991502"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991502"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Map Text (Prim Ty0) -&gt; Maybe (Prim Ty0)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/containers-0.6.7/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991502"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text (Prim Ty0)
forall d. Map Text (Prim d)
</span><a href="Gibbon.SExpFrontend.html#primMap"><span class="hs-identifier hs-var">primMap</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-696"></span><span>           </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621680991504"><span class="annot"><span class="annottext">Prim Ty0
</span><a href="#local-6989586621680991504"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Prim Ty0
</span><a href="#local-6989586621680991504"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-697"></span><span>           </span><span class="annot"><span class="annottext">Maybe (Prim Ty0)
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Prim Ty0
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span class="annot"><span class="annottext">(String -&gt; Prim Ty0) -&gt; String -&gt; Prim Ty0
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Internal error, this is not a primitive: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Text -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991502"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#handleRequire"><span class="hs-identifier hs-type">handleRequire</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RichSExpr"><span class="hs-identifier hs-type">RichSExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Located"><span class="hs-identifier hs-type">SC.Located</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-701"></span><span>                 </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RichSExpr"><span class="hs-identifier hs-type">RichSExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Located"><span class="hs-identifier hs-type">SC.Located</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-702"></span><span id="handleRequire"><span class="annot"><span class="annottext">handleRequire :: String -&gt; [Sexp] -&gt; IO [Sexp]
</span><a href="Gibbon.SExpFrontend.html#handleRequire"><span class="hs-identifier hs-var hs-var">handleRequire</span></a></span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; IO [Sexp]
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-703"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#handleRequire"><span class="hs-identifier hs-var">handleRequire</span></a></span><span> </span><span id="local-6989586621680991540"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991540"><span class="hs-identifier hs-var">baseFile</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680991541"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991541"><span class="hs-identifier hs-var">l</span></a></span></span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-type">:</span></a></span><span id="local-6989586621680991542"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991542"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-704"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991541"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-705"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSList"><span class="hs-identifier hs-type">RSList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSAtom"><span class="hs-identifier hs-type">RSAtom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#At"><span class="hs-identifier hs-type">SC.At</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HaskLikeAtom
</span><span class="hs-string">&quot;require&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621680991543"><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991543"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-706"></span><span>    </span><span class="hs-comment">-- (Ls2 &quot;require&quot; arg) -&gt; do</span><span>
</span><span id="line-707"></span><span>       </span><span id="local-6989586621680991544"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991544"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Sexp] -&gt; IO [Sexp]
</span><a href="Gibbon.SExpFrontend.html#handleRequire"><span class="hs-identifier hs-var">handleRequire</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991540"><span class="hs-identifier hs-var">baseFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991542"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-708"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680991545"><span class="annot"><span class="annottext">file :: String
</span><a href="#local-6989586621680991545"><span class="hs-identifier hs-var hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991543"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-709"></span><span>                    </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RSAtom"><span class="hs-identifier hs-type">RSAtom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#At"><span class="hs-identifier hs-type">SC.At</span></a></span><span> </span><span class="annot"><span class="annottext">Location
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HSString"><span class="hs-identifier hs-type">HSString</span></a></span><span> </span><span id="local-6989586621680991546"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991546"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/filepath-1.4.2.2/src/System.FilePath.Posix.html#takeDirectory"><span class="hs-identifier hs-var">takeDirectory</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991540"><span class="hs-identifier hs-var">baseFile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/filepath-1.4.2.2/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991546"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-710"></span><span>                    </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;bad require line: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sexp -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991543"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-711"></span><span>       </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; IO ()
</span><a href="Gibbon.Common.html#dbgPrintLn"><span class="hs-identifier hs-var">dbgPrintLn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Gibbon.SExpFrontend.html#lvl"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Including required file: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991545"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-712"></span><span>       </span><span id="local-6989586621680991550"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991550"><span class="hs-identifier hs-var">txt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; IO Text -&gt; IO Text
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><a href="Gibbon.SExpFrontend.html#bracketHacks"><span class="hs-identifier hs-var">bracketHacks</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Text -&gt; IO Text) -&gt; IO Text -&gt; IO Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO Text
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.IO.html#readFile"><span class="hs-identifier hs-var">readFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991545"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-713"></span><span>       </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; IO ()
</span><a href="Gibbon.Common.html#dbgPrintLn"><span class="hs-identifier hs-var">dbgPrintLn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Gibbon.SExpFrontend.html#lvl"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Parsing required text: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Text -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991550"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-714"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621680991551"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RichSExpr"><span class="hs-identifier hs-type">RichSExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Located"><span class="hs-identifier hs-type">SC.Located</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-715"></span><span>           </span><span id="local-6989586621680991551"><span class="annot"><span class="annottext">res :: Either String [Sexp]
</span><a href="#local-6989586621680991551"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([SExpr (Located HaskLikeAtom)] -&gt; [Sexp])
-&gt; Either String [SExpr (Located HaskLikeAtom)]
-&gt; Either String [Sexp]
forall a b. (a -&gt; b) -&gt; Either String a -&gt; Either String b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SExpr (Located HaskLikeAtom) -&gt; Sexp)
-&gt; [SExpr (Located HaskLikeAtom)] -&gt; [Sexp]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr (Located HaskLikeAtom) -&gt; Sexp
forall atom. SExpr atom -&gt; RichSExpr atom
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#toRich"><span class="hs-identifier hs-var">toRich</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either String [SExpr (Located HaskLikeAtom)]
 -&gt; Either String [Sexp])
-&gt; Either String [SExpr (Located HaskLikeAtom)]
-&gt; Either String [Sexp]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-716"></span><span>                 </span><span class="annot"><span class="annottext">SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
-&gt; Text -&gt; Either String [SExpr (Located HaskLikeAtom)]
forall atom carrier.
SExprParser atom carrier -&gt; Text -&gt; Either String [carrier]
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Parse.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
</span><a href="Gibbon.SExpFrontend.html#treelangParser"><span class="hs-identifier hs-var">treelangParser</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991550"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-717"></span><span>       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either String [Sexp]
</span><a href="#local-6989586621680991551"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-718"></span><span>         </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680991554"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991554"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO [Sexp]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991554"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-719"></span><span>         </span><span class="hs-comment">-- Right ls -&gt; return $ ls ++ ls'</span><span>
</span><span id="line-720"></span><span>         </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680991555"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991555"><span class="hs-identifier hs-var">l'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; IO [Sexp]
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">([Sexp] -&gt; IO [Sexp]) -&gt; [Sexp] -&gt; IO [Sexp]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991555"><span class="hs-identifier hs-var">l'</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; [Sexp] -&gt; [Sexp]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991544"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-721"></span><span>    </span><span class="annot"><span class="annottext">Sexp
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-722"></span><span>      </span><span id="local-6989586621680991556"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991556"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Sexp] -&gt; IO [Sexp]
</span><a href="Gibbon.SExpFrontend.html#handleRequire"><span class="hs-identifier hs-var">handleRequire</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991540"><span class="hs-identifier hs-var">baseFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991542"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-723"></span><span>      </span><span class="annot"><span class="annottext">[Sexp] -&gt; IO [Sexp]
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">([Sexp] -&gt; IO [Sexp]) -&gt; [Sexp] -&gt; IO [Sexp]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sexp
</span><a href="#local-6989586621680991541"><span class="hs-identifier hs-var">l</span></a></span><span class="annot"><span class="annottext">Sexp -&gt; [Sexp] -&gt; [Sexp]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991556"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span class="annot"><span class="hs-comment">-- ^ Parse a file to an L1 program.  Return also the gensym counter.</span></span><span>
</span><span id="line-726"></span><span class="annot"><a href="Gibbon.SExpFrontend.html#parseFile"><span class="hs-identifier hs-type">parseFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.IO.html#FilePath"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.9.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Gibbon.Common.html#PassM"><span class="hs-identifier hs-type">PassM</span></a></span><span> </span><span class="annot"><a href="Gibbon.L0.Syntax.html#Prog0"><span class="hs-identifier hs-type">Prog0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-727"></span><span id="parseFile"><span class="annot"><span class="annottext">parseFile :: String -&gt; IO (PassM Prog0)
</span><a href="Gibbon.SExpFrontend.html#parseFile"><span class="hs-identifier hs-var hs-var">parseFile</span></a></span></span><span> </span><span id="local-6989586621680991570"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991570"><span class="hs-identifier hs-var">file</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-728"></span><span>  </span><span id="local-6989586621680991571"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991571"><span class="hs-identifier hs-var">txt</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; IO Text -&gt; IO Text
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><a href="Gibbon.SExpFrontend.html#bracketHacks"><span class="hs-identifier hs-var">bracketHacks</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Text -&gt; IO Text) -&gt; IO Text -&gt; IO Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-729"></span><span>            </span><span class="hs-comment">-- fmap stripHashLang $</span><span>
</span><span id="line-730"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; IO Text
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/text-2.0.2/src/Data.Text.IO.html#readFile"><span class="hs-identifier hs-var">readFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991570"><span class="hs-identifier hs-var">file</span></a></span><span>
</span><span id="line-731"></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; IO ()
</span><a href="Gibbon.Common.html#dbgPrintLn"><span class="hs-identifier hs-var">dbgPrintLn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Gibbon.SExpFrontend.html#lvl"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Parsing text: &quot;</span></span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a></span><span class="annot"><span class="annottext">Text -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991571"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-732"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621680991572"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#RichSExpr"><span class="hs-identifier hs-type">RichSExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Common.html#Located"><span class="hs-identifier hs-type">SC.Located</span></a></span><span> </span><span class="annot"><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Language.HaskLike.html#HaskLikeAtom"><span class="hs-identifier hs-type">HaskLikeAtom</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-733"></span><span>      </span><span id="local-6989586621680991572"><span class="annot"><span class="annottext">res :: Either String [Sexp]
</span><a href="#local-6989586621680991572"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([SExpr (Located HaskLikeAtom)] -&gt; [Sexp])
-&gt; Either String [SExpr (Located HaskLikeAtom)]
-&gt; Either String [Sexp]
forall a b. (a -&gt; b) -&gt; Either String a -&gt; Either String b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SExpr (Located HaskLikeAtom) -&gt; Sexp)
-&gt; [SExpr (Located HaskLikeAtom)] -&gt; [Sexp]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr (Located HaskLikeAtom) -&gt; Sexp
forall atom. SExpr atom -&gt; RichSExpr atom
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Repr.html#toRich"><span class="hs-identifier hs-var">toRich</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either String [SExpr (Located HaskLikeAtom)]
 -&gt; Either String [Sexp])
-&gt; Either String [SExpr (Located HaskLikeAtom)]
-&gt; Either String [Sexp]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-734"></span><span>            </span><span class="annot"><span class="annottext">SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
-&gt; Text -&gt; Either String [SExpr (Located HaskLikeAtom)]
forall atom carrier.
SExprParser atom carrier -&gt; Text -&gt; Either String [carrier]
</span><a href="file:///home/artem/.cabal/store/ghc-9.4.5/s-cargot-0.1.6.0-385af7ddb73f810f30d6e21deb4f44992a93c36e35f3babe81b1ac7da8f86dd3/share/doc/html/src/Data.SCargot.Parse.html#decode"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">SExprParser (Located HaskLikeAtom) (SExpr (Located HaskLikeAtom))
</span><a href="Gibbon.SExpFrontend.html#treelangParser"><span class="hs-identifier hs-var">treelangParser</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621680991571"><span class="hs-identifier hs-var">txt</span></a></span><span>
</span><span id="line-735"></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; IO ()
</span><a href="Gibbon.Common.html#dbgPrintLn"><span class="hs-identifier hs-var">dbgPrintLn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="Gibbon.SExpFrontend.html#lvl"><span class="hs-identifier hs-var">lvl</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Result of parsing:&quot;</span></span><span>
</span><span id="line-736"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either String [Sexp]
</span><a href="#local-6989586621680991572"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-737"></span><span>     </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621680991573"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991573"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO (PassM Prog0)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991573"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-738"></span><span>     </span><span class="annot"><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621680991574"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991574"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-739"></span><span>       </span><span id="local-6989586621680991575"><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991575"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Sexp] -&gt; IO [Sexp]
</span><a href="Gibbon.SExpFrontend.html#handleRequire"><span class="hs-identifier hs-var">handleRequire</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680991570"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991574"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-740"></span><span>       </span><span class="annot"><span class="annottext">PassM Prog0 -&gt; IO (PassM Prog0)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(PassM Prog0 -&gt; IO (PassM Prog0))
-&gt; PassM Prog0 -&gt; IO (PassM Prog0)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/8l12vmymy3adw2m02pf73xq5xjf6mfwp-ghc-9.4.5-doc/share/doc/ghc/html/libraries/base-4.17.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp] -&gt; PassM Prog0
</span><a href="Gibbon.SExpFrontend.html#parseSExp"><span class="hs-identifier hs-var">parseSExp</span></a></span><span> </span><span class="annot"><span class="annottext">[Sexp]
</span><a href="#local-6989586621680991575"><span class="hs-identifier hs-var">ls'</span></a></span><span>
</span><span id="line-741"></span></pre></body></html>